<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><!--Generated from database. Edit in the database; do not edit this file.--><!--VI id="5661"--><HTML><head><!--LabVIEW VI path:vi.lib\addons\control\pid\autopid.llb\PID Advanced Autotuning.vi--><TITLE>PID Advanced Autotuning VI</TITLE><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252"><meta http-equiv="Content-Style-Type" content="text/css"><link rel="STYLESHEET" type="text/css" href="minimal.css"><script src="common.js" type="text/javascript"></script><script src="jquery-1.7.2.min.js" type="text/javascript"></script><script src="cssframes.js" type="text/javascript"></script><link media="print" rel="stylesheet" type="text/css" href="print.css"></head><body bgcolor="#ffffff"><noscript><p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p><hr width="100%" noshade></noscript><div id="styleDivTitle"><!-- VI or Function Name --><H1>PID Advanced Autotuning VI</H1><!--Owning Palette--><p class="Body"><strong>Owning Palette:</strong> <a href="../lvpid/PIDTitle.html">PID VIs</a></p><!--Package and Platform--><p class="Body"><strong>Requires:</strong> Full Development System</p><!-- VI/Function Description -->Implements a PID controller using a <a href="../lvpidmain/pid_adv_alg.html">PID algorithm</a> with advanced optional features, and applies <a href="../lvpidmain/tuning_pid.html">autotuning</a> to the controller. You can use this VI in RT applications.<!-- Supplemental VI/Function Information --><table class="Borderless"><tr><td class="Icon"><img src="note.gif"></td><td><strong>Note</strong>&nbsp;&nbsp;This VI incorporates the functionality of both the <a href="../lvpid/PIDAdvanced.html">PID Advanced</a> VI and the <a href="../lvpid/pid_online_autotuning.html">PID Online Autotuning</a> VI.</td></tr></table><!-- Link to Additional VI/Function Information --><p class="Body"><a href="#examples">Example</a></p><!-- Graphic Reference --><MAP NAME="connector_pane"><AREA SHAPE="rect" COORDS="0,13,135,25" HREF="#Input0"><AREA SHAPE="rect" COORDS="0,32,135,41" HREF="#Input1"><AREA SHAPE="rect" COORDS="0,45,135,54" HREF="#Input2"><AREA SHAPE="rect" COORDS="0,61,135,72" HREF="#Input3"><AREA SHAPE="rect" COORDS="0,78,135,89" HREF="#Input4"><AREA SHAPE="rect" COORDS="0,93,135,105" HREF="#Input5"><AREA SHAPE="rect" COORDS="0,109,135,121" HREF="#Input6"><AREA SHAPE="rect" COORDS="0,125,135,136" HREF="#Input7"><AREA SHAPE="rect" COORDS="0,141,135,153" HREF="#Input8"><AREA SHAPE="rect" COORDS="0,157,135,168" HREF="#Input9"><AREA SHAPE="rect" COORDS="0,173,135,184" HREF="#Input10"><AREA SHAPE="rect" COORDS="0,189,135,198" HREF="#Input11"><AREA SHAPE="rect" COORDS="0,205,135,217" HREF="#Input12"><AREA SHAPE="rect" COORDS="252,94,292,105" HREF="#Output0"><AREA SHAPE="rect" COORDS="252,112,338,124" HREF="#Output1"><AREA SHAPE="rect" COORDS="252,128,356,140" HREF="#Output2"></MAP><p class="Anchor"><img src="PID_Advanced_Autotuning.gif" usemap="#connector_pane" border="0"></p><!--Add/Find Buttons--><table class="Borderless"><tr><td><a href="javascript:placeObject(object5661);"><img src="add.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Add to the block diagram</td><td><a href="javascript:findObject(object5661);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find on the palette</td></tr></table></div><div id="styleDivScrolling"><!-- Table of VI/Function Parameters --><table class="Borderless"><tr><td class="Icon"><a name="Input0"></a><img src="cdbl.gif"></td><td><strong>alpha</strong> specifies the derivative filter time constant. Increasing this value increases damping of derivative action. <strong>alpha</strong> can be a value between 0 and 1 or <span class="Monospace">NaN</span>, which specifies that no derivative filter is applied.</td></tr><tr><td class="Icon"><a name="Input1"></a><img src="cdbl.gif"></td><td><strong>gamma</strong> specifies an amount by which to weight the error applied to derivative action. The default value is 0, which avoids the <a href="../lvpidmain/pid_glossary.html#derivkick">derivative kick</a>, or sudden change in controller output, that can occur after a change in the setpoint value.<br><br>In certain <a href="../lvpidmain/pid_glossary.html#casccont">cascade control</a> operations where derivative kick is not a concern, increasing <strong>gamma</strong> might improve the speed of the first PID controller. </td></tr><tr><td class="Icon"><a name="Input2"></a><img src="cdbl.gif"></td><td><strong>manual control</strong> specifies the value of the control output when <strong>auto?</strong> is FALSE. </td></tr><tr><td class="Icon"><a name="Input3"></a><img src="cbool.gif"></td><td><strong>auto?</strong> specifies whether the PID controller uses automatic or manual control. This VI considers the <strong>autotune?</strong> input and the <strong>technique</strong> you specify in the <strong>autotuning parameters</strong> input when determining the Boolean value to propagate to the <strong>auto?</strong> input of the PID Advanced VI. The default is FALSE. </td></tr><tr><td class="Icon"><a name="Input4"></a><img src="cnclst.gif"></td><td><strong>output range</strong> specifies the range to which to coerce the control output. The default range is &#8211;100 to 100, which corresponds to values specified in terms of percentage of full scale. You can change this range to something that is appropriate for your control system. For example, you can <a href="../lvpidmain/percent_to_eng.html">relate engineering units to engineering units</a> instead of percentage to percentage. This VI implements <a href="../lvpidmain/pid_vi_algs.html#outlimit">integrator anti-windup</a> when the controller output is saturated at the specified minimum or maximum values.<table class="Borderless"><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>output high</strong> specifies the maximum value of the controller output. The default is 100. </td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>output low</strong> specifies the minimum value of the controller output. The default is &#8211;100. </td></tr></table></td></tr><tr><td class="Icon"><a name="Input5"></a><img src="cdbl.gif"></td><td><strong>setpoint</strong> specifies the setpoint value, or desired value, of the process variable being controlled. </td></tr><tr><td class="Icon"><a name="Input6"></a><img src="cdbl.gif"></td><td><strong>process variable</strong> specifies the measured value of the process variable being controlled. This value is equal to the feedback value of the feedback control loop. </td></tr><tr><td class="Icon"><a name="Input7"></a><img src="cnclst.gif"></td><td><strong>PID gains</strong> specifies the proportional gain, integral time, and derivative time parameters of the controller. <table class="Borderless"><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>proportional gain (Kc)</strong> specifies the proportional gain of the controller. The default is 1. In the equation that defines the PID controller,<em> K<sub>C</sub></em> represents the proportional gain.</td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>integral time (Ti, min)</strong> specifies the integral time in minutes. The default is 0.01. </td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>derivative time (Td, min)</strong> specifies the derivative time in minutes. The default is 0. </td></tr></table></td></tr><tr><td class="Icon"><a name="Input8"></a><img src="cbool.gif"></td><td><strong>autotune?</strong> specifies to begin autotuning. Wire this input from a Boolean control with latched mechanical action and a default value of FALSE. The default is FALSE. </td></tr><tr><td class="Icon"><a name="Input9"></a><img src="cdbl.gif"></td><td><strong>dt (s)</strong> specifies the loop-cycle time, or interval in seconds, at which the <a href="../lvpid/pid_online_autotuning.html">PID Online Autotuning</a> and <a href="../lvpid/PIDAdvanced.html">PID Advanced</a> VIs are called. If <strong>dt (s)</strong> is less than or equal to zero, the VIs calculate the time since they were last called using an internal timer with 1 ms resolution. If <strong>dt (s)</strong> must be less than 1 ms, specify the value explicitly. The default is &#8211;1. </td></tr><tr><td class="Icon"><a name="Input10"></a><img src="cbool.gif"></td><td><strong>reinitialize?</strong> specifies whether to reinitialize the internal parameters, such as the integrated error, of the controller. Set <strong>reinitialize?</strong> to TRUE if your application must stop and restart the control loop without restarting the entire application. The default is FALSE. </td></tr><tr><td class="Icon"><a name="Input11"></a><img src="cdbl.gif"></td><td><strong>beta</strong> specifies the relative emphasis of disturbance rejection to setpoint tracking. The default value of 1 is appropriate for most applications. You can use a smaller value between 0 and 1 to specify emphasis on disturbance rejection, such as process load changes. The PID Advanced VI uses this value in the two degree-of-freedom algorithm. If <strong>Autotune?</strong> is TRUE, this VI sets <strong>beta</strong> to 1.</td></tr><tr><td class="Icon"><a name="Input12"></a><img src="cnclst.gif"></td><td><strong>autotuning parameters</strong> specifies various parameters used for the autotuning process. You can select these values manually in the Autotuning Wizard. <table class="Borderless"><tr><td class="Icon"><img src="cu16.gif"></td><td><strong>technique</strong> specifies the autotuning technique to use. <br><br><table class="Bordered"><tr><td class = "Bordered">0</td><td class = "Bordered"><strong>Step Open Loop</strong>&#8212;Specifies to use open-loop (step test) tuning, which assumes that you can model any process as a first-order lag and a pure dead time system.</td></tr><tr><td class = "Bordered">1</td><td class = "Bordered"><strong>Step Closed Loop</strong>&#8212;Specifies to use closed-loop (ultimate gain) tuning, which is very accurate, but requires that your process be in steady-state oscillation.</td></tr><tr><td class = "Bordered">2</td><td class = "Bordered"><strong>Relay</strong>&#8212;Specifies to use relay feedback tuning, which applies an on-off relay in a closed-loop test in order to obtain controlled oscillations and extract values for ultimate gain and ultimate frequency. This technique also incorporates hysteresis to reduce noise.</td></tr><tr><td class = "Bordered">3</td><td class = "Bordered"><strong>PID Relay</strong>&#8212;Specifies to use PID relay tuning, which connects a relay and an extra feedback signal with the setpoint and keeps the PID controller in the loop with the relay.</td></tr></table></td></tr><tr><td class="Icon"><img src="cu16.gif"></td><td><strong>type of controller</strong> specifies which parameters to return as the output of the tuning process. <br><br><table class="Bordered"><tr><td class = "Bordered">0</td><td class = "Bordered"><strong>P</strong>&#8212;Specifies to return only the proportional parameters.</td></tr><tr><td class = "Bordered">1</td><td class = "Bordered"><strong>PI</strong>&#8212;Specifies to return the proportional and integral parameters.</td></tr><tr><td class = "Bordered">2</td><td class = "Bordered"><strong>PID</strong>&#8212;Specifies to return the proportional, integral, and derivative parameters.</td></tr></table></td></tr><tr><td class="Icon"><img src="cu16.gif"></td><td><strong>control specification</strong> specifies the desired response performance of the PID parameters determined by the autotuning process. <br><br><table class="Bordered"><tr><td class = "Bordered">0</td><td class = "Bordered"><strong>normal</strong>&#8212;Specifies a normal response performance.</td></tr><tr><td class = "Bordered">1</td><td class = "Bordered"><strong>fast</strong>&#8212;Specifies a fast response performance. Faster response generally results in a smaller rise time.</td></tr><tr><td class = "Bordered">2</td><td class = "Bordered"><strong>slow</strong>&#8212;(Default) Specifies a slow response performance. Slower response generally results in less overshoot.</td></tr></table></td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>amplitude</strong> specifies the amplitude of the setpoint relay action. The setpoint relay is between <strong>setpoint</strong> &#8211; <strong>amplitude</strong> and <strong>setpoint</strong> + <strong>amplitude</strong>. </td></tr></table></td></tr><tr><td class="Icon"><a name="Output0"></a><img src="idbl.gif"></td><td><strong>output</strong> returns the control output of the PID algorithm that is applied to the controlled process. If this VI receives an invalid input, <strong>output</strong> returns <span class="Monospace-Bold">NaN</span>. </td></tr><tr><td class="Icon"><a name="Output1"></a><img src="inclst.gif"></td><td><strong>Tuned PID Gains</strong> retains the tuned proportional gain, integral time, and derivative time parameters of the controller. <table class="Borderless"><tr><td class="Icon"><img src="idbl.gif"></td><td><strong>proportional gain (Kc)</strong> returns the proportional gain of the controller. </td></tr><tr><td class="Icon"><img src="idbl.gif"></td><td><strong>integral time (Ti, min)</strong> returns the integral time in minutes. </td></tr><tr><td class="Icon"><img src="idbl.gif"></td><td><strong>derivative time (Td, min)</strong> returns the derivative time in minutes. </td></tr></table></td></tr><tr><td class="Icon"><a name="Output2"></a><img src="ibool.gif"></td><td><strong>tuning completed?</strong> indicates completion of the autotuning process. You can use this output to determine when to update the <strong>PID gains</strong>. </td></tr></table><!-- Additional VI/Function Information --><!--Module Specific Content--><script type="text/javascript">if (typeof(writeVarRefs)=="function"){writeVarRefs("5661");}</script><!-- Example Information --><h2><a name="examples">Example</a></h2><p class="Body">Refer to the Autotuning PID Online VI in the <span class="Monospace">labview\examples\control\PID</span> directory for an example of using the PID Advanced Autotuning VI.</p><p class="Body"><a href="javascript:openVI('examples%5C%5Ccontrol%5C%5CPID%5C%5CAutotuning%20PID%20Online.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open example&nbsp;<a href="javascript:findExamples(1699);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find related examples</p></div></body></HTML>