<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><!--Generated from database. Edit in the database; do not edit this file.--><!--VI id="647"--><HTML><head><!--LabVIEW VI path:vi.lib\Utility\tcp.llb\TCP Listen.vi--><TITLE>TCP Listen VI</TITLE><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252"><meta http-equiv="Content-Style-Type" content="text/css"><link rel="STYLESHEET" type="text/css" href="minimal.css"><script src="common.js" type="text/javascript"></script><script src="jquery-1.7.2.min.js" type="text/javascript"></script><script src="cssframes.js" type="text/javascript"></script><link media="print" rel="stylesheet" type="text/css" href="print.css"></head><body bgcolor="#ffffff"><noscript><p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p><hr width="100%" noshade></noscript><div id="styleDivTitle"><!-- VI or Function Name --><H1>TCP Listen VI</H1><!--Owning Palette--><p class="Body"><strong>Owning Palette:</strong> <a href="../lvcomm/TCP_VI_Descriptions.html">TCP VI and Functions</a></p><!--Package and Platform--><p class="Body"><strong>Requires:</strong> Base Development System</p><!-- VI/Function Description --><p class="Body">Creates a listener and waits for an accepted TCP network connection at the specified <strong>port</strong>.</p><!-- Supplemental VI/Function Information --><!-- Link to Additional VI/Function Information --><p class="Body"><a href="#details">Details</a>&nbsp;&nbsp;</p><!-- Graphic Reference --><MAP NAME="connector_pane"><AREA SHAPE="rect" COORDS="0,14,167,23" HREF="#Input0"><AREA SHAPE="rect" COORDS="0,30,167,39" HREF="#Input1"><AREA SHAPE="rect" COORDS="0,47,167,58" HREF="#Input2"><AREA SHAPE="rect" COORDS="0,62,167,73" HREF="#Input3"><AREA SHAPE="rect" COORDS="0,78,167,89" HREF="#Input4"><AREA SHAPE="rect" COORDS="0,94,167,105" HREF="#Input5"><AREA SHAPE="rect" COORDS="292,14,346,23" HREF="#Output0"><AREA SHAPE="rect" COORDS="292,30,368,39" HREF="#Output1"><AREA SHAPE="rect" COORDS="292,46,375,55" HREF="#Output2"><AREA SHAPE="rect" COORDS="292,63,357,74" HREF="#Output3"><AREA SHAPE="rect" COORDS="292,79,340,87" HREF="#Output4"></MAP><p class="Anchor"><img src="tcplistn.gif" usemap="#connector_pane" border="0"></p><!--Add/Find Buttons--><table class="Borderless"><tr><td><a href="javascript:placeObject(object647);"><img src="add.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Add to the block diagram</td><td><a href="javascript:findObject(object647);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find on the palette</td></tr></table></div><div id="styleDivScrolling"><!-- Table of VI/Function Parameters --><table class="Borderless"><tr><td class="Icon"><a name="Input0"></a><img src="cu32.gif"></td><td><strong>net address</strong> specifies on which network address to listen. Specifying an address is useful if you have more than one network card, such as two Ethernet cards, and want to listen only on the card with the specified address. If you do not specify a network address, LabVIEW listens on all network addresses. Use the <a href="../lvcomm/String_To_IP.html">String To IP</a> function to obtain the IP network address of the current computer.</td></tr><tr><td class="Icon"><a name="Input1"></a><img src="cstr.gif"></td><td><strong>service name</strong> creates a known reference for the port number. <!-- begin parent: ../lvhowto/Creating_TCP_Client.html-->If you specify a service name, LabVIEW registers the service name and the port number with the NI Service Locator.<!-- end parent: ../lvhowto/Creating_TCP_Client.html--> </td></tr><tr><td class="Icon"><a name="Input2"></a><img src="cu16.gif"></td><td><strong>port</strong> is the port number on which you want to listen for a connection. </td></tr><tr><td class="Icon"><a name="Input3"></a><img src="ci32.gif"></td><td><strong>timeout ms</strong> specifies the time, in milliseconds, that the VI waits for a connection. If a connection is not established in the specified time, the VI completes and returns an error. The default value is &#8211;1, which indicates to wait indefinitely. </td></tr><tr><td class="Icon"><a name="Input4"></a><img src="cerrcodeclst.gif"></td><td><strong>error in</strong> describes error conditions that occur before this node runs. This input provides <a href="../lvconcepts/using_standard_error_in.html">standard error in</a> functionality. </td></tr><tr><td class="Icon"><a name="Input5"></a><img src="cbool.gif"></td><td><strong>resolve remote address</strong> indicates whether to call the IP To String function on the remote address. The default is TRUE. Refer to <a href="../lvcomm/IP_To_String.html">IP To String</a> for more information.</td></tr><tr><td class="Icon"><a name="Output0"></a><img src="idvrn.gif"></td><td><strong>listener ID</strong> is a network connection refnum that uniquely identifies the listener. </td></tr><tr><td class="Icon"><a name="Output1"></a><img src="idvrn.gif"></td><td><strong>connection ID</strong> is a network connection refnum that uniquely identifies the TCP connection. Use this value to refer to this connection in subsequent VI calls. </td></tr><tr><td class="Icon"><a name="Output2"></a><img src="istr.gif"></td><td><strong>remote address</strong> is the address of the remote machine associated with the TCP connection. If <strong>resolve remote address</strong> is TRUE, this address is in the form <span class="Monospace">machinename.domain.com</span>. If <strong>resolve remote address</strong> is FALSE, this address is in IP dot notation format such as <span class="Monospace">128.0.0.25</span>.ï¿½ </td></tr><tr><td class="Icon"><a name="Output3"></a><img src="iu16.gif"></td><td><strong>remote port</strong> is the port the remote system uses for the connection. </td></tr><tr><td class="Icon"><a name="Output4"></a><img src="ierrcodeclst.gif"></td><td><strong>error out</strong> contains error information. This output provides <a href="../lvconcepts/using_standard_error_out.html">standard error out</a> functionality. </td></tr></table><!-- Additional VI/Function Information --><h2><a name="details">TCP Listen Details</a></h2><p class="Body">When a listen on a given port begins, you cannot use another TCP Listen VI to listen on the same port. For example, if a VI has two TCP Listen VIs on its block diagram and you start a listen on port 2222 with the first TCP Listen VI, you cannot listen on port 2222 with the second TCP Listen VI.</p><p class="Body">Until the top level VI containing this VI goes idle, this VI maintains a table of active listeners and the ports on which they listen, sorted by <strong>listener ID</strong>. Subsequent calls to this VI reuse these listeners depending on the <strong>service name</strong>, <strong>port</strong>, and <strong>net address</strong> you specify. However, if you wire a value of 0 to the <strong>port</strong> terminal and an empty string to the <strong>service name</strong> terminal, each call to this VI creates a new listener on an open port. Therefore, if you wire the VI in this manner and specify any timeout other than the default, this VI creates a new listener on an open port each time the VI times out, which consumes socket resources. To free socket resources in this situation, wire the <strong>listener ID</strong> terminal to the TCP Close Connection function to free the port the listener uses. Or, wire the<strong> listener ID</strong> terminal to the TCP Wait on Listener function to listen for a connection on a single port.</p><!--Module Specific Content--><script type="text/javascript">if (typeof(writeVarRefs)=="function"){writeVarRefs("647");}</script><!-- Example Information --></div></body></HTML>