<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><head><!--Generated from database. Edit in the database; do not edit this file.--><!--Function id="1198"--><TITLE>IrDA Read Function</TITLE><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252"><meta http-equiv="Content-Style-Type" content="text/css"><link rel="STYLESHEET" type="text/css" href="minimal.css"><script src="common.js" type="text/javascript"></script><script src="jquery-1.7.2.min.js" type="text/javascript"></script><script src="cssframes.js" type="text/javascript"></script><link media="print" rel="stylesheet" type="text/css" href="print.css"></head><body bgcolor="#ffffff"><noscript><p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p><hr width="100%" noshade></noscript><div id="styleDivTitle"><!-- VI or Function Name --><H1>IrDA Read Function</H1><!--Owning Palette--><p class="Body"><strong>Owning Palette:</strong> <a href="../lvcomm/IrDA_VIs.html">IrDA Functions</a></p><!--Package and Platform--><p class="Body"><strong>Requires:</strong> Base Development System (Windows)</p><!-- VI/Function Description --><p class="Body">Reads the number of bytes specified in <strong>bytes to read</strong> from the IrDA connection specified in the <strong>connection ID</strong>.</p><!-- Supplemental VI/Function Information --><!-- Link to Additional VI/Function Information and Examples  --><p class="Body"><a href="#examples">Examples</a></p><!-- Graphic Reference --><MAP NAME="connector_pane"><AREA SHAPE="rect" COORDS="0,13,112,24" HREF="#Input0"><AREA SHAPE="rect" COORDS="0,29,112,37" HREF="#Input1"><AREA SHAPE="rect" COORDS="0,42,112,53" HREF="#Input2"><AREA SHAPE="rect" COORDS="0,56,112,67" HREF="#Input3"><AREA SHAPE="rect" COORDS="0,70,112,81" HREF="#Input4"><AREA SHAPE="rect" COORDS="231,29,317,37" HREF="#Output0"><AREA SHAPE="rect" COORDS="231,42,273,51" HREF="#Output1"><AREA SHAPE="rect" COORDS="231,57,275,65" HREF="#Output2"></MAP><p class="Anchor"><img src="irdaread.gif" usemap="#connector_pane" border="0"></p><!--Add/Find Buttons--><table class="Borderless"><tr><td><a href="javascript:placeObject(object1198);"><img src="add.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Add to the block diagram</td><td><a href="javascript:findObject(object1198);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find on the palette</td></tr></table></div><div id="styleDivScrolling"><!-- Table of VI/Function Parameters --><table class="Borderless"><tr><td class="Icon"><a name="Input0"></a><img src="cenum.gif"></td><td><strong>mode</strong> indicates the behavior of the read operation. <br><br><table class="Bordered"><tr><td class = "Bordered">0</td><td class = "Bordered"><strong>Standard</strong> (default)&#8212;Waits until all bytes you specify in <strong>bytes to read</strong> arrive or until <strong>timeout ms</strong> runs out. Returns the number of bytes read so far. If fewer bytes than the number of bytes you requested arrive, returns the partial number of bytes and reports a timeout error.</td></tr><tr><td class = "Bordered">1</td><td class = "Bordered"><strong>Buffered</strong>&#8212;Waits until all bytes you specify in <strong>bytes to read</strong> arrive or until <strong>timeout ms</strong> runs out. If fewer bytes than the number you requested arrive, returns no bytes and reports a timeout error.</td></tr><tr><td class = "Bordered">2</td><td class = "Bordered"><strong>CRLF</strong>&#8212;Waits until all bytes you specify in <strong>bytes to read</strong> arrive or until the function receives a CR (carriage return) followed by a LF (linefeed) within the number of bytes you specify in <strong>bytes to read</strong> or until <strong>timeout ms</strong> runs out. The function returns the bytes up to and including the CR and LF if it finds them in the string.</td></tr><tr><td class = "Bordered">3</td><td class = "Bordered"><strong>Immediate</strong>&#8212;Waits until the function receives any bytes from those you specify in <strong>bytes to read</strong>. Waits the full timeout only if the function receives no bytes. Returns the number of bytes so far. Reports a timeout error if the function receives no bytes.</td></tr></table></td></tr><tr><td class="Icon"><a name="Input1"></a><img src="cdvrn.gif"></td><td><strong>connection ID</strong> is an IrDA connection refnum that uniquely identifies the IrDA connection. </td></tr><tr><td class="Icon"><a name="Input2"></a><img src="ci32.gif"></td><td><strong>bytes to read</strong> indicates how many bytes the function reads from the IrDA device. Use one of the following techniques to handle messages that might vary in size:<ul><li>Send messages that are preceded by a fixed size header that describes the message. For example, it might contain a command integer that identifies what kind of message follows and a length integer that identifies how much more data is in the message. Both the server and client receive messages by issuing a read function of eight bytes (assuming each is a four byte integer), converting them into the two integers, and using the length integer to determine the number of bytes to pass to a second read function for the remainder of the message. Once this second read is complete, each side loops back to the read function of the eight byte header. This technique is the most flexible, but it requires two reads to receive each message. In practice, the second read usually completes immediately if the message is written with a single write function.</li><li>Make each message a fixed size. When the content of a message is smaller than the fixed size you specify, pad the message to the fixed size. This technique is marginally more efficient because only a single read is required to receive a message at the expense of sending unnecessary data sometimes.</li><li>Send messages that are strictly ASCII in content, where each message is terminated by a carriage return and linefeed pair of characters. The read function has a mode input that, when passed CRLF, causes it to read until seeing a carriage return and linefeed sequence. This technique becomes more complicated when message data can possibly contain CRLF sequences, but it is quite common among many internet protocols, including POP3, FTP, and HTTP.</li></ul></td></tr><tr><td class="Icon"><a name="Input3"></a><img src="ci32.gif"></td><td><strong>timeout ms</strong> specifies the time, in milliseconds, that the function waits for bytes from an IrDA device on a wireless network before the function completes and returns an error. The default value is 25,000 ms. A value of &#8211;1 indicates to wait indefinitely. </td></tr><tr><td class="Icon"><a name="Input4"></a><img src="cerrcodeclst.gif"></td><td><strong>error in</strong> describes error conditions that occur before this node runs. This input provides <a href="../lvconcepts/using_standard_error_in.html">standard error in</a> functionality. </td></tr><tr><td class="Icon"><a name="Output0"></a><img src="idvrn.gif"></td><td><strong>connection ID out</strong> is the IrDA connection refnum that uniquely identifies the IrDA connection. Use this value to refer to this connection in subsequent IrDA function calls. <strong>connection ID out</strong> always has the same value as <strong>connection ID</strong>. </td></tr><tr><td class="Icon"><a name="Output1"></a><img src="istr.gif"></td><td><strong>data out</strong> is the data the function reads from an IrDA device returned as a string or as a flattened string. Use the <a href="../glang/Unflatten_From_String.html">Unflatten From String</a> function to convert the data to the correct data type. You also can use the <a href="../glang/Unflatten_From_String.html">Unflatten From XML</a> function to <a href="../lvhowto/Converting_from_XML.html">convert data from XML format</a>.</td></tr><tr><td class="Icon"><a name="Output2"></a><img src="ierrcodeclst.gif"></td><td><strong>error out</strong> contains error information. This output provides <a href="../lvconcepts/using_standard_error_out.html">standard error out</a> functionality. </td></tr></table><!-- Additional VI/Function Information --><!--Module Specific Content--><script type="text/javascript">if (typeof(writeVarRefs)=="function"){writeVarRefs("1198");}</script><!-- Example Information --><h2><a name="examples">Examples</a></h2><p class="Body">Refer to the following VIs for examples of using the IrDA Read function:</p><ul><li><span class="Monospace">labview\examples\Data Communication\Protocols\IrDA\Simple IrDA\Simple IrDA.lvproj</span><p class="Body"><a href="javascript:openProj('examples%5C%5CData%20Communication%5C%5CProtocols%5C%5CIrDA%5C%5CSimple%20IrDA%5C%5CSimple%20IrDA.lvproj');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open example&nbsp;<a href="javascript:findExamples(3099);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find related examples</p></li><li><span class="Monospace">labview\examples\Data Communication\Protocols\IrDA\Simple IrDA\Simple IrDA.lvproj</span><p class="Body"><a href="javascript:openProj('examples%5C%5CData%20Communication%5C%5CProtocols%5C%5CIrDA%5C%5CSimple%20IrDA%5C%5CSimple%20IrDA.lvproj');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open example&nbsp;<a href="javascript:findExamples(3099);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find related examples</p></li></ul></div></body></HTML>