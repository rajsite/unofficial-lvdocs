<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><head><!--Generated from database. Edit in the database; do not edit this file.--><!--Function id="556"--><TITLE>DataSocket Read Function</TITLE><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252"><meta http-equiv="Content-Style-Type" content="text/css"><link rel="STYLESHEET" type="text/css" href="minimal.css"><script src="common.js" type="text/javascript"></script><script src="jquery-1.7.2.min.js" type="text/javascript"></script><script src="cssframes.js" type="text/javascript"></script><link media="print" rel="stylesheet" type="text/css" href="print.css"></head><body bgcolor="#ffffff"><noscript><p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p><hr width="100%" noshade></noscript><div id="styleDivTitle"><!-- VI or Function Name --><H1>DataSocket Read Function</H1><!--Owning Palette--><p class="Body"><strong>Owning Palette:</strong> <a href="../lvcomm/DataSocket_VI_Reference.html">DataSocket VI and Functions</a></p><!--Package and Platform--><p class="Body"><strong>Requires:</strong> Base Development System</p><!-- VI/Function Description --><p class="Body">Dequeues the next available data value from the client-side buffer associated with the connection you specify in <strong>connection in</strong> and returns the data.</p><!-- Supplemental VI/Function Information --><table class="Borderless"><tr><td class="Icon"><img src="note.gif"></td><td><strong>Note</strong>&nbsp;&nbsp;<!--begin parent=lvhowto.chm-Using_DS_Buffering.html-->Client-side buffering also applies to other protocols, such as <span class="Monospace">opc</span> and <span class="Monospace">file</span>. However, in some cases these <a href="../lvconcepts/Buffering_Data.html#Server-Side_Buffering">servers might lose data</a>.<!--end parent--></td></tr></table><!-- Link to Additional VI/Function Information and Examples  --><p class="Body"><a href="#examples">Example</a></p><!-- Graphic Reference --><MAP NAME="connector_pane"><AREA SHAPE="rect" COORDS="0,45,143,53" HREF="#Input0"><AREA SHAPE="rect" COORDS="0,58,143,69" HREF="#Input1"><AREA SHAPE="rect" COORDS="0,72,143,83" HREF="#Input2"><AREA SHAPE="rect" COORDS="0,86,143,97" HREF="#Input3"><AREA SHAPE="rect" COORDS="0,100,143,111" HREF="#Input4"><AREA SHAPE="rect" COORDS="0,0,0,0" HREF="#Input5"><AREA SHAPE="rect" COORDS="268,16,299,24" HREF="#Output0"><AREA SHAPE="rect" COORDS="268,29,301,40" HREF="#Output1"><AREA SHAPE="rect" COORDS="268,45,340,53" HREF="#Output2"><AREA SHAPE="rect" COORDS="268,58,291,67" HREF="#Output3"><AREA SHAPE="rect" COORDS="268,72,314,81" HREF="#Output4"><AREA SHAPE="rect" COORDS="268,87,312,95" HREF="#Output5"><AREA SHAPE="rect" COORDS="268,101,318,111" HREF="#Output6"></MAP><p class="Anchor"><img src="dsread.gif" usemap="#connector_pane" border="0"></p><!--Add/Find Buttons--><table class="Borderless"><tr><td><a href="javascript:placeObject(object556);"><img src="add.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Add to the block diagram</td><td><a href="javascript:findObject(object556);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find on the palette</td></tr></table></div><div id="styleDivScrolling"><!-- Table of VI/Function Parameters --><table class="Borderless"><tr><td class="Icon"><a name="Input0"></a><img src="cstr.gif"></td><td><strong>connection in</strong> identifies the data source to read. <strong>connection in</strong> can be a string that describes the <a href="../lvconcepts/Using_DataSocket_Technology.html#Specifying_a_URL">URL</a>, a <a href="../lvhowto/I_O_Controls.html">shared variable control</a>, a <strong>connection id</strong> reference parameter output from a <a href="../lvcomm/DataSocket_Open.html">DataSocket Open</a> function, or a <strong>connection out</strong> parameter output from a <a href="../lvcomm/DataSocket_Write.html">DataSocket Write</a> function.</td></tr><tr><td class="Icon"><a name="Input1"></a><img src="cfxdt.gif"></td><td><strong>type (Variant)</strong> specifies the type of data you want to read and defines the type of the <strong>data</strong> output terminal. The default type is Variant, which can be any type. Wire any data type to this input to define the output data type. LabVIEW ignores the value of the input data.</td></tr><tr><td class="Icon"><a name="Input2"></a><img src="ci32.gif"></td><td><strong>ms timeout</strong> specifies how long to wait for a value update to become available in the connection buffer. The function ignores this input and does not wait if <strong>wait for updated value</strong> is FALSE and an initial value arrived. The default is 10,000 ms (10 seconds).</td></tr><tr><td class="Icon"><a name="Input3"></a><img src="cerrcodeclst.gif"></td><td><strong>error in</strong> describes error conditions that occur before this node runs. This input provides <a href="../lvconcepts/using_standard_error_in.html">standard error in</a> functionality. </td></tr><tr><td class="Icon"><a name="Input4"></a><img src="cbool.gif"></td><td><strong>wait for updated value</strong> causes the function to wait for an updated value if set to TRUE. If the connection buffer contains unprocessed data, the function returns the next available value immediately. Otherwise, the function waits <strong>ms timeout</strong> milliseconds for an update. If an update does not occur in the timeout period, the function returns the current value and <strong>timed out</strong> is TRUE. If <strong>wait for updated value</strong> is FALSE, the function returns the next available value in the connection buffer or the last value read if no data is available.</td></tr><tr><td class="Icon"><a name="Output0"></a><img src="iu32.gif"></td><td><strong>status</strong> reports warnings or errors from a PSP server or FieldPoint controller. If the 31st bit is <span class="Monospace">1</span>,<strong> status</strong> indicates an error. Otherwise, <strong>status</strong> indicates a status code. </td></tr><tr><td class="Icon"><a name="Output1"></a><img src="iu64.gif"></td><td><strong>quality</strong> is the data quality of the data read from a <a href="../lvconcepts/SV_Publishing_Latest_Values.html">shared variable</a> or an <a href="../lvconcepts/NI_PSP.html">NI Publish-Subscribe Protocol (NI-PSP)</a> data item. Use the value of <strong>quality</strong> for information for debugging a VI. The following table lists some of the possible <strong>quality</strong> values.<br><br><table class="Bordered"><tr><td class="Bordered"><strong>Bit Number</strong></td><td class="Bordered"><strong>Description</strong></td></tr><tr><td class="Bordered">1</td><td class="Bordered">The value from this shared variable might not be the most current value from the data source.</td></tr><tr><td class="Bordered">2</td><td class="Bordered">Sensor failure.</td></tr><tr><td class="Bordered">3</td><td class="Bordered">General device error response.</td></tr><tr><td class="Bordered">4</td><td class="Bordered">Server failure.</td></tr><tr><td class="Bordered">5</td><td class="Bordered">General communications failure.</td></tr><tr><td class="Bordered">6</td><td class="Bordered">Unable to locate variable in the Shared Variable Engine.  Deployment of this variable may have failed.</td></tr><tr><td class="Bordered">7</td><td class="Bordered">The shared variable has no known value.</td></tr><tr><td class="Bordered">8</td><td class="Bordered">The shared variable is inactive.</td></tr><tr><td class="Bordered">10</td><td class="Bordered">Low Limited.</td></tr><tr><td class="Bordered">11</td><td class="Bordered">High Limited.</td></tr><tr><td class="Bordered">12</td><td class="Bordered">Constant.</td></tr><tr><td class="Bordered">13</td><td class="Bordered">Sensor inaccurate.</td></tr><tr><td class="Bordered">14</td><td class="Bordered">Engineering unit limits exceeded.</td></tr><tr><td class="Bordered">15</td><td class="Bordered">Generic OPC Error.</td></tr><tr><td class="Bordered">16</td><td class="Bordered">Math error.</td></tr><tr><td class="Bordered">17</td><td class="Bordered">Communications link failure.</td></tr><tr><td class="Bordered">18</td><td class="Bordered">NI-PSP has not connected to the server yet.</td></tr><tr><td class="Bordered">19</td><td class="Bordered">DNS lookup failed for the server.</td></tr><tr><td class="Bordered">20</td><td class="Bordered">The server is not reachable.</td></tr><tr><td class="Bordered">21</td><td class="Bordered">Service lookup failed for the server.</td></tr><tr><td class="Bordered">22</td><td class="Bordered">The connection to the server was disconnected.</td></tr><tr><td class="Bordered">23</td><td class="Bordered">The process was not found or is not responding.</td></tr><tr><td class="Bordered">24</td><td class="Bordered">Failed to resolve URL for this shared variable.</td></tr><tr><td class="Bordered">25</td><td class="Bordered">Read access is denied to the shared variable.</td></tr><tr><td class="Bordered">26</td><td class="Bordered">Invalid URL for this shared variable.</td></tr><tr><td class="Bordered">30</td><td class="Bordered">Point has an active alarm.</td></tr><tr><td class="Bordered">31</td><td class="Bordered">Subscription failed.</td></tr><tr><td class="Bordered">32</td><td class="Bordered">Quality bit greater than 32 is set, or there is an error/status reported.</td></tr><tr><td class="Bordered">33</td><td class="Bordered">The shared variable client-side read buffer is full.</td></tr><tr><td class="Bordered">34</td><td class="Bordered">The shared variable client-side read buffer overflowed.</td></tr><tr><td class="Bordered">35</td><td class="Bordered">The shared variable server-side write buffer is full.</td></tr><tr><td class="Bordered">36</td><td class="Bordered">The shared variable server-side write buffer has overflowed.</td></tr></table></td></tr><tr><td class="Icon"><a name="Output2"></a><img src="istr.gif"></td><td><strong>connection out</strong> is the data source that specifies the data connection. </td></tr><tr><td class="Icon"><a name="Output3"></a><img src="ifxdt.gif"></td><td><strong>data</strong> is the result of the read. If this function times out, <strong>data</strong> returns the value that this function last read. If this function times out before reading any data or if the type of data is incompatible, <strong>data</strong> returns a value of <span class="Monospace-Bold">0</span>, <span class="Monospace-Bold">empty</span>, or an equivalent value. </td></tr><tr><td class="Icon"><a name="Output4"></a><img src="ibool.gif"></td><td><strong>timed out</strong> returns TRUE if the function timed out waiting for an update or an initial value. </td></tr><tr><td class="Icon"><a name="Output5"></a><img src="ierrcodeclst.gif"></td><td><strong>error out</strong> contains error information. This output provides <a href="../lvconcepts/using_standard_error_out.html">standard error out</a> functionality. </td></tr><tr><td class="Icon"><a name="Output6"></a><img src="iatrn.gif"></td><td><strong>timestamp</strong> returns the timestamp data for <a href="../lvconcepts/SV_Publishing_Latest_Values.html">shared variables</a> and <a href="../lvconcepts/Using_DataSocket_Technology.html#Specifying_a_URL">NI Publish-Subscribe Protocol (NI-PSP)</a> data items. </td></tr><tr><td class="Icon"><a name="Input5"></a><img src="cpath.gif"></td><td>Path to the VI. </td></tr></table><!-- Additional VI/Function Information --><!--Module Specific Content--><script type="text/javascript">if (typeof(writeVarRefs)=="function"){writeVarRefs("556");}</script><!-- Example Information --><h2><a name="examples">Example</a></h2><p class="Body">Refer to the <span class="Monospace">Simple DataSocket.lvproj</span> in the <span class="Monospace">labview\examples\Data Communication\DataSocket\Simple DataSocket</span> directory for an example of using the DataSocket Read function.</p><p class="Body"><a href="javascript:openProj('examples%5C%5CData%20Communication%5C%5CDataSocket%5C%5CSimple%20DataSocket%5C%5CSimple%20DataSocket.lvproj');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open example&nbsp;<a href="javascript:findExamples(3098);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find related examples</p></div></body></HTML>