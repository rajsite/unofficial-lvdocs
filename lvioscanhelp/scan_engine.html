<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- Generated from lvioscanhelp.xml. Edit in the XML file; do not edit this file.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">

<title>Using the NI Scan Engine (Real-Time, Windows)</title>
<link rel="STYLESHEET" type="text/css" href="minimal.css">
<script src="common.js" type="text/javascript"></script><script src="dynamicjumps.js" type="text/javascript"></script></head>
<body>
<noscript>
<p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p>
<hr width="100%" noshade>
</noscript><a name="using_io_scan"></a><h1>Using the NI Scan Engine (Real-Time, Windows)</h1>
<p class="Body">
				
				
    The NI Scan Engine enables efficient <a href="../lvanlsconcepts/FrequentlyAsked_Questions.html">single-point</a> access to sets of data channels, such as I/O channels, using a scan that stores data in a global memory map and updates all values at a single rate, known as the scan period. The NI Scan Engine installs on LabVIEW for Windows by default. You also can install the NI Scan Engine on supported LabVIEW targets, such as RT Series PXI and CompactRIO targets. Refer to the specific hardware device documentation for information about NI Scan Engine support.</p>
<p class="checkFile lvrthelp Body"><span class="Platform">(Real-Time Module)</span> By default, the NI Scan Engine runs in a thread above time-critical priority on RT targets, although LabVIEW includes the scan thread in the time-critical category when reporting CPU usage statistics. When running the NI Scan Engine at above time-critical priority, you must <a href="#sync">synchronize</a> the deterministic sections of the application with the scan period to ensure that the scan thread does not affect the determinism of the application. For applications in which I/O is not the highest-priority task, you also can configure the priority of the scan engine to fall between time-critical and Timed Structure priority. If you do not plan to use I/O variables on a target, do not install the NI Scan Engine on the target. If the NI Scan Engine is already installed on the target, you can use Measurement &amp; Automation Explorer (MAX) to uninstall the NI Scan Engine.</p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��
				<span class="Platform">(Windows)</span> The only NI Scan Engine priority available on Windows is normal priority. Because of the non-deterministic nature of the Windows operating system, the timing of the NI Scan Engine is not guaranteed when running on Windows.</td>
</tr>
</table><a name="config"></a><h2>Configuring NI Scan Engine Settings</h2>
<p class="Body">Use the <a href="../lvdialog/io_scan_page.html">Scan Engine</a> page to configure scan engine settings including the scan period, network-publishing rate, and priority level of the NI Scan Engine.</p>
<p class="Body">Use the NI Distributed System Manager to monitor and manage scan engine <a href="faults.html">faults</a> and <a href="#modes">modes</a>. Select <strong>Tools�Distributed System Manager</strong> to display the NI Distributed System Manager. You also can use the <a href="../lvioscan/NIScanEnginePalette.html">NI Scan Engine</a> VIs to view and configure scan engine settings programmatically.</p><a name="deploying_scan"></a><h2>Deploying and Running the NI Scan Engine</h2>
<p class="Body">After you configure NI Scan Engine settings in the <a href="../lvdialog/Project_Explorer_Window.html">Project Explorer</a> window, you must deploy a project item that uses the NI Scan Engine, such as My Computer or an RT target, for the settings to take effect.</p>
<p class="Body"><span class="Platform">(Windows)</span> The NI Scan Engine starts running the first time you deploy the target and stops running when you close the project. To automatically deploy the NI Scan Engine and I/O variables when a built application runs, you must enable the <strong>Include target hardware configuration</strong> checkbox on the <a href="../lvdialog/App_Settings_Tab.html">Advanced</a> page of the <a href="../lvdialog/Build_App_or_DLL_DB.html">Application Properties</a> dialog box before building the application.</p>
<p class="checkFile lvrthelp Body"><span class="Platform">(Real-Time Module)</span> When running on an RT target, the NI Scan Engine starts automatically when you boot the target and runs continuously until you shut down the target.</p>
<p class="Body">A single computer can run only a single instance of the NI Scan Engine at a time. For example, if you create a Windows built application that uses the NI Scan Engine, you must close the project from which you built the application before you can run the application on the same computer. Although you can configure multiple instances of the NI Scan Engine in multiple LabVIEW projects, deployment of subsequent projects using the NI Scan Engine fails if an instance of the NI Scan Engine is running. To run a different instance of the NI Scan Engine, you first must stop the current instance.</p><a name="timing"></a><h2>Scan Engine Timing</h2>
<p class="Body">The NI Scan Engine executes at regular intervals determined by the <strong>Scan Period</strong> you specify on the <a href="../lvdialog/io_scan_page.html">Scan Engine</a> page. Choose a period long enough to accommodate both the scan itself and the application logic, as shown in the following illustration:</p>
<p class="Anchor"><img src="loc_eps_IOScanTiming.gif"></p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��The length of the scan depends on the number and type of I/O items deployed to the target. To maximize scan engine performance, undeploy any I/O items that you do not plan to use in the application.</td>
</tr>
</table>
<p class="Body">Use the <a href="../lvioscan/Get_Scan_Period.html">Get Scan Engine Period</a> VI to read the scan period programmatically. Use the <a href="../lvioscan/Set_Scan_Period.html">Set Scan Engine Period</a> VI to set the scan period programmatically.</p>
<table class="checkFile lvrthelp">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��
				<span class="Platform">(Real-Time Module)</span> Real-time loops generally need one or two warm-up iterations to begin executing deterministically. Before checking to ensure that an application meets timing requirements, you should allow each time-critical loop to execute warm-up iterations.</td>
</tr>
</table><a name="sync"></a><h3>Synchronizing to the Scan Engine</h3>
<p class="checkFile lvrthelp Body"><span class="Platform">(Real-Time Module)</span> Unless you configure the NI Scan Engine to run below time-critical priority, you must synchronize time-critical code to the scan period to avoid collisions that could affect the determinism of the application.</p>
<p class="Body">Use the <strong>Synchronize to Scan Engine</strong> timing source to synchronize timed structure execution to the scan engine. If you do not want to use a timed structure, you can use the <a href="../lvioscan/SyncToScanEngine.html">Synchronize to Scan Engine</a> VI to synchronize to the scan engine. Both synchronization methods trigger execution at the time labeled <strong>End of Scan</strong> in the previous illustration. To use I/O variables as a coherent data set, ensure that the synchronized code finishes executing before the next scan iteration. However, you can skip scan iterations if the code does not depend on a coherent data set.</p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��If synchronized code does not finish executing before the next scan iteration, the information reported by the error cluster of an I/O variable might lose synchronization with the I/O value.</td>
</tr>
</table>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��When you click the <strong>Abort</strong> button on a VI that involves synchronization to the NI Scan Engine, the VI does not abort until the current scan iteration completes, so the VI might appear to hang temporarily if the scan period is sufficiently long.</td>
</tr>
</table><a name="modes"></a><h2>NI Scan Engine Modes</h2>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��Only certain targets and devices use NI Scan Engine modes. CompactRIO targets with local I/O modules do not use NI Scan Engine modes. Refer to the I/O hardware documentation for information about hardware-specific mode behavior.</td>
</tr>
</table>
<p class="Body">LabVIEW defines four NI Scan Engine modes:</p>
<table class="bordered">
<tr>
<td class="Bordered">0</td>
<td class="Bordered"><strong>Initialization Mode</strong></td>
<td class="Bordered">Occurs only briefly during startup.</td>
</tr>
<tr>
<td class="Bordered">1</td>
<td class="Bordered"><strong>Configuration Mode</strong></td>
<td class="Bordered">The required mode when configuring scan engine settings on hardware that uses NI Scan Engine modes.</td>
</tr>
<tr>
<td class="Bordered">2</td>
<td class="Bordered"><strong>Active Mode</strong></td>
<td class="Bordered">The mode in which the scan engine runs and updates values.</td>
</tr>
<tr>
<td class="Bordered">3</td>
<td class="Bordered"><strong>Fault Mode</strong></td>
<td class="Bordered">The mode triggered when a major or unrecoverable <a href="faults.html">fault</a> occurs.</td>
</tr>
</table>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��Fault mode behavior varies by target. Refer to the specific target hardware documentation for information about fault mode behavior.</td>
</tr>
</table>
<p class="Body">Use the <a href="../sysman/sysman.html">NI Distributed System Manager</a> to <a href="../sysman/Setting_Mode.html">view and configure</a> the scan engine mode. The NI Distributed System Manager displays the value of the scan engine mode using the EngineState status item. Use the <a href="../lvioscan/Get_Scan_Mode.html">Get Scan Engine Mode</a> VI to read the scan engine mode programmatically. Use the <a href="../lvioscan/Set_Scan_Mode.html">Set Scan Engine Mode</a> VI to set the scan engine mode programmatically.</p>
<p class="Body"><img style="display:inline" src="back_arrow.gif"> <a href="../lvconcepts/Data_Comm.html"><em>Data Communication Methods</em> Home</a></p>
</body>
</html>