<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><!--Generated from database. Edit in the database; do not edit this file.--><!--VI id="3533"--><HTML><head><!--LabVIEW VI path:vi.lib\gmath\NumericalOptimization\Constrained Nonlinear Optimization.vi--><TITLE>Constrained Nonlinear Optimization VI</TITLE><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252"><meta http-equiv="Content-Style-Type" content="text/css"><link rel="STYLESHEET" type="text/css" href="minimal.css"><script src="common.js" type="text/javascript"></script><script src="jquery-1.7.2.min.js" type="text/javascript"></script><script src="cssframes.js" type="text/javascript"></script><link media="print" rel="stylesheet" type="text/css" href="print.css"></head><body bgcolor="#ffffff"><noscript><p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p><hr width="100%" noshade></noscript><div id="styleDivTitle"><!-- VI or Function Name --><H1>Constrained Nonlinear Optimization VI</H1><!--Owning Palette--><p class="Body"><strong>Owning Palette:</strong> <a href="../gmath/Optimization_VIs.html">Optimization VIs</a></p><!--Package and Platform--><p class="Body"><strong>Requires:</strong> Full Development System</p><!-- VI/Function Description --><p class="Body">Solves a general nonlinear optimization problem with nonlinear equality constraint and nonlinear inequality constraint bounds using a sequential quadratic programming method.</p><!-- Supplemental VI/Function Information --><!-- Link to Additional VI/Function Information --><p class="Body"><a href="#examples">Example</a></p><!-- Graphic Reference --><MAP NAME="connector_pane"><AREA SHAPE="rect" COORDS="0,12,175,21" HREF="#Input0"><AREA SHAPE="rect" COORDS="0,26,175,37" HREF="#Input1"><AREA SHAPE="rect" COORDS="0,41,175,49" HREF="#Input2"><AREA SHAPE="rect" COORDS="0,54,175,63" HREF="#Input3"><AREA SHAPE="rect" COORDS="0,68,175,79" HREF="#Input4"><AREA SHAPE="rect" COORDS="0,82,175,93" HREF="#Input5"><AREA SHAPE="rect" COORDS="0,97,175,107" HREF="#Input6"><AREA SHAPE="rect" COORDS="0,111,175,121" HREF="#Input7"><AREA SHAPE="rect" COORDS="294,26,409,35" HREF="#Output0"><AREA SHAPE="rect" COORDS="294,41,335,49" HREF="#Output1"><AREA SHAPE="rect" COORDS="294,54,347,65" HREF="#Output2"><AREA SHAPE="rect" COORDS="294,68,355,79" HREF="#Output3"><AREA SHAPE="rect" COORDS="294,83,338,91" HREF="#Output4"></MAP><p class="Anchor"><img src="Constrained_Nonlinear_Optimization.gif" usemap="#connector_pane" border="0"></p><!--Add/Find Buttons--><table class="Borderless"><tr><td><a href="javascript:placeObject(object3533);"><img src="add.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Add to the block diagram</td><td><a href="javascript:findObject(object3533);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find on the palette</td></tr></table></div><div id="styleDivScrolling"><!-- Table of VI/Function Parameters --><table class="Borderless"><tr><td class="Icon"><a name="Input0"></a><img src="cfxdt.gif"></td><td><strong>function data</strong> contains static data that the user-defined function needs at run time. </td></tr><tr><td class="Icon"><a name="Input1"></a><img src="cdvrn.gif"></td><td><strong>objective and constraint function</strong> is a reference to the VI that implements the nonlinear function to minimize, the nonlinear equality constraints function, and the nonlinear inequality constraints function as separate outputs. The objective function output must not be empty. The constraint functions are optional. Therefore, the equality constraints output, the inequality constraints output, or both can be empty. <br><br>Create this VI by starting from the VI template located in <span class="Monospace">labview\vi.lib\gmath\NumericalOptimization\cno_objective function template.vit</span>.<br><br><a href="javascript:openVI('vi.lib%5C%5Cgmath%5C%5CNumericalOptimization%5C%5Ccno_objective%20function%20template.vit');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open template</td></tr><tr><td class="Icon"><a name="Input2"></a><img src="c1ddbl.gif"></td><td><strong>start</strong> are the points in <em>n</em> dimension at which the optimization process starts. </td></tr><tr><td class="Icon"><a name="Input3"></a><img src="ccclst.gif"></td><td><strong>bounds</strong> is a cluster that contains the upper and lower numeric limits for the parameters being optimized and the inequality constraints. <table class="Borderless"><tr><td class="Icon"><img src="c1ddbl.gif"></td><td><strong>X minimum</strong> contains the lowest allowed value of the parameters being optimized. The length of this array must match the length of <strong>X maximum</strong> and can be 0 or the same as the length of the <strong>start</strong> array. The array does not accept exceptional values, such as Inf, &#8211;Inf, or NaN. </td></tr><tr><td class="Icon"><img src="c1ddbl.gif"></td><td><strong>X maximum</strong> contains the highest allowed value of the parameters being optimized. The length of this array must match the length of <strong>X minimum</strong> and can be 0 or the same as the length of the <strong>start</strong> array. The array does not accept exceptional values, such as Inf, &#8211;Inf, or NaN. </td></tr><tr><td class="Icon"><img src="c1ddbl.gif"></td><td><strong>inequality constraint minimum</strong> contains the lowest allowed value of the inequality constraints. The length of this array must match the length of the inequality constraints returned from the objective and constraint function. This array does not accept exceptional values, such as Inf, &#8211;Inf, or NaN. </td></tr><tr><td class="Icon"><img src="c1ddbl.gif"></td><td><strong>inequality constraint maximum</strong> contains the highest allowed value of the inequality constraints. The length of this array must match the length of the inequality constraints returned from the objective and constraint function. This array does not accept exceptional values, such as Inf, &#8211;Inf, or NaN. </td></tr></table></td></tr><tr><td class="Icon"><a name="Input4"></a><img src="ccclst.gif"></td><td><strong>beginning state</strong> contains the initial values of the inequality constraint function, the Lagrangian multipliers, and the Hessian. <strong>beginning state</strong> is typically the ending state of a previous optimization and allows a warm start of the optimization. <table class="Borderless"><tr><td class="Icon"><img src="c1ddbl.gif"></td><td><strong>inequality constraints</strong> contains the value of the inequality constraint functions, typically from a previous call to the Constrained Nonlinear Optimization VI. </td></tr><tr><td class="Icon"><img src="c1ddbl.gif"></td><td><strong>lagrangian multipliers</strong> contains the value of the Lagrangian multipliers, typically from a previous call to the Constrained Nonlinear Optimization VI. </td></tr><tr><td class="Icon"><img src="c2ddbl.gif"></td><td><strong>hessian</strong> contains an estimate of the Hessian, typically from a previous call to the Constrained Nonlinear Optimization VI. </td></tr></table></td></tr><tr><td class="Icon"><a name="Input5"></a><img src="cerrcodeclst.gif"></td><td><strong>error in</strong> describes error conditions that occur before this node runs. This input provides <a href="../lvconcepts/using_standard_error_in.html">standard error in</a> functionality. </td></tr><tr><td class="Icon"><a name="Input6"></a><img src="cnclst.gif"></td><td><strong>cno settings</strong> contains additional tolerance and termination settings that are specific to this algorithm. <table class="Borderless"><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>constraint weight</strong> is a relative weighting of the constraints as compared to the objective function and controls the distance that the optimization search travels outside the feasible range to seek an optimal solution. A value greater than 1 forces the search to stay close to the known feasible range, and a smaller value allows a broader range of searching. </td></tr><tr><td class="Icon"><img src="ci32.gif"></td><td><strong>maximum minor iterations</strong> is an upper bound on the number of iterations allowed to solve the quadratic problem. If the constraint functions are highly nonlinear, the linearized constraints used in the quadratic problem might not be very accurate. In this case, it might be sensible to limit the number of minor iterations, forcing the linear approximation to be updated more often. </td></tr></table></td></tr><tr><td class="Icon"><a name="Input7"></a><img src="cnclst.gif"></td><td><strong>stopping criteria</strong> is the collection of conditions that terminate the optimization. If (<strong>function tolerance</strong> AND <strong>parameter tolerance</strong> AND <strong>gradient tolerance</strong>) OR <strong>max iterations</strong> OR <strong>max function calls</strong> then optimization terminates. <table class="Borderless"><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>function tolerance</strong> is the relative change in function value and is defined as abs(current f &#8211; prev f)/(abs(curr f)+machine eps). If the relative change in the function value falls below <strong>function tolerance</strong>, the optimization terminates. </td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>parameter tolerance</strong> is the relative change in parameter values and is defined as abs(current p &#8211; prev p)/(abs(curr p)+machine eps). If the relative change of all the parameter values falls below <strong>parameters tolerance</strong>, the optimization terminates. </td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>gradient tolerance</strong> is the 2&#8211;norm of the gradient. If the 2&#8211;norm of the gradient falls below <strong>gradient tolerance</strong>, the optimization terminates. </td></tr><tr><td class="Icon"><img src="ci32.gif"></td><td><strong>max iterations</strong> is the largest number of iterations of the major loop of the optimization. If the number of major loop iterations exceeds <strong>max iterations</strong>, the optimization terminates. </td></tr><tr><td class="Icon"><img src="ci32.gif"></td><td><strong>max function calls</strong> is the largest number of objective function calls allowed before terminating the optimization process. </td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>max time (sec)</strong> is the maximum amount of time LabVIEW allows between the start and the end of the optimization process. The default is &#8211;1. &#8211;1 indicates never to time out. </td></tr></table></td></tr><tr><td class="Icon"><a name="Output0"></a><img src="ii32.gif"></td><td><strong>number of function calls</strong> is the number of times the objective function calls in the optimization process. </td></tr><tr><td class="Icon"><a name="Output1"></a><img src="i1ddbl.gif"></td><td><strong>minimum</strong> is the determined local minimum in <em>n</em> dimension. </td></tr><tr><td class="Icon"><a name="Output2"></a><img src="idbl.gif"></td><td><strong>f(minimum)</strong> is the function value of objective function at the determined minimum. </td></tr><tr><td class="Icon"><a name="Output3"></a><img src="icclst.gif"></td><td><strong>ending state</strong> contains the final values of the inequality constraint function, the Lagrange multipliers, and the Hessian. <table class="Borderless"><tr><td class="Icon"><img src="i1ddbl.gif"></td><td><strong>inequality constraints</strong> contains the value of the inequality constraint functions at the end of the optimization. </td></tr><tr><td class="Icon"><img src="i1ddbl.gif"></td><td><strong>lagrangian multipliers</strong> contains the value of the Lagrangian multipliers at the end of the optimization. </td></tr><tr><td class="Icon"><img src="i2ddbl.gif"></td><td><strong>hessian</strong> contains an estimate of the Hessian at the end of the optimization. </td></tr></table></td></tr><tr><td class="Icon"><a name="Output4"></a><img src="ierrcodeclst.gif"></td><td><strong>error out</strong> contains error information. This output provides <a href="../lvconcepts/using_standard_error_out.html">standard error out</a> functionality. </td></tr></table><!-- Additional VI/Function Information --><!--Module Specific Content--><script type="text/javascript">if (typeof(writeVarRefs)=="function"){writeVarRefs("3533");}</script><!-- Example Information --><h2><a name="examples">Example</a></h2><p class="Body">Refer to the Nonlinear Spring Constant fit VI in the <span class="Monospace">labview\examples\Mathematics\Fitting</span> directory for an example of using the Constrained Nonlinear Optimization VI.</p><p class="Body"><a href="javascript:openVI('examples%5C%5CMathematics%5C%5CFitting%5C%5CNonlinear%20Spring%20Constant%20fit.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open example&nbsp;<a href="javascript:findExamples(3739);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find related examples</p></div></body></HTML>