<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><!--Generated from database. Edit in the database; do not edit this file.--><!--VI id="3100"--><HTML><head><!--LabVIEW VI path:vi.lib\Analysis\6fits.llb\Logarithm Fit.vi--><TITLE>Logarithm Fit VI</TITLE><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252"><meta http-equiv="Content-Style-Type" content="text/css"><link rel="STYLESHEET" type="text/css" href="minimal.css"><script src="common.js" type="text/javascript"></script><script src="jquery-1.7.2.min.js" type="text/javascript"></script><script src="cssframes.js" type="text/javascript"></script><link media="print" rel="stylesheet" type="text/css" href="print.css"></head><body bgcolor="#ffffff"><noscript><p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p><hr width="100%" noshade></noscript><div id="styleDivTitle"><!-- VI or Function Name --><H1>Logarithm Fit VI</H1><!--Owning Palette--><p class="Body"><strong>Owning Palette:</strong> <a href="../gmath/Curve_Fitting_VIs.html">Fitting VIs</a></p><!--Package and Platform--><p class="Body"><strong>Requires:</strong> Full Development System</p><!-- VI/Function Description --><p class="Body">Returns the logarithmic fit of a data set (<strong>X</strong>, <strong>Y</strong>) using the Least Square, Least Absolute Residual, or Bisquare method.</p><!-- Supplemental VI/Function Information --><!-- Link to Additional VI/Function Information --><p class="Body"><a href="#details">Details</a>&nbsp;&nbsp;</p><!-- Graphic Reference --><MAP NAME="connector_pane"><AREA SHAPE="rect" COORDS="0,5,99,14" HREF="#Input0"><AREA SHAPE="rect" COORDS="0,20,99,28" HREF="#Input1"><AREA SHAPE="rect" COORDS="0,34,99,42" HREF="#Input2"><AREA SHAPE="rect" COORDS="0,47,99,58" HREF="#Input3"><AREA SHAPE="rect" COORDS="0,61,99,70" HREF="#Input4"><AREA SHAPE="rect" COORDS="0,75,99,84" HREF="#Input5"><AREA SHAPE="rect" COORDS="0,89,99,100" HREF="#Input6"><AREA SHAPE="rect" COORDS="229,19,317,30" HREF="#Output0"><AREA SHAPE="rect" COORDS="229,33,277,44" HREF="#Output1"><AREA SHAPE="rect" COORDS="229,47,255,56" HREF="#Output2"><AREA SHAPE="rect" COORDS="229,64,255,70" HREF="#Output3"><AREA SHAPE="rect" COORDS="229,75,266,84" HREF="#Output4"></MAP><p class="Anchor"><img src="Logarithm_Fit.gif" usemap="#connector_pane" border="0"></p><!--Add/Find Buttons--><table class="Borderless"><tr><td><a href="javascript:placeObject(object3100);"><img src="add.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Add to the block diagram</td><td><a href="javascript:findObject(object3100);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find on the palette</td></tr></table></div><div id="styleDivScrolling"><!-- Table of VI/Function Parameters --><table class="Borderless"><tr><td class="Icon"><a name="Input0"></a><img src="cdbl.gif"></td><td><strong>base</strong> specifies the base of the logarithm. The default is <em>e</em>, or the natural logarithm. </td></tr><tr><td class="Icon"><a name="Input1"></a><img src="c1ddbl.gif"></td><td><strong>Y</strong> is the array of dependent values. The length of <strong>Y</strong> must be greater than or equal to the number of unknown parameters. </td></tr><tr><td class="Icon"><a name="Input2"></a><img src="c1ddbl.gif"></td><td><strong>X</strong> is the array of independent values. <strong>X</strong> must be the same size as <strong>Y</strong>. </td></tr><tr><td class="Icon"><a name="Input3"></a><img src="c1ddbl.gif"></td><td><strong>Weight</strong> is the array of weights for the observations (<strong>X</strong>, <strong>Y</strong>). <strong>Weight</strong> must be the same size as <strong>Y</strong>. <strong>Weight</strong> also must contain non-zero elements. If an element in <strong>Weight</strong> is less than 0, the VI uses the absolute value of the element.<br><br>If you do not wire an input to <strong>Weight</strong>, the VI sets all elements of <strong>Weight</strong> to 1. </td></tr><tr><td class="Icon"><a name="Input4"></a><img src="cdbl.gif"></td><td><strong>tolerance</strong> determines when to stop the iterative adjustment of <strong>amplitude</strong> and <strong>scale</strong>. For the Least Square and Least Absolute Residual methods, if the relative difference between <strong>residue</strong> in two successive iterations is less than <strong>tolerance</strong>, this VI returns the resulting <strong>residue</strong>. For the Bisquare method, if any relative difference between <strong>amplitude</strong> and <strong>scale</strong> in two successive iterations is less than <strong>tolerance</strong>, this VI returns the resulting <strong>amplitude</strong> and <strong>scale</strong>.<br><br>If <strong>tolerance</strong> is less than or equal to 0, this VI sets <strong>tolerance</strong> to 0.0001. </td></tr><tr><td class="Icon"><a name="Input5"></a><img src="cu16.gif"></td><td><strong>method</strong> specifies the fitting method. <br><br><table class="Bordered"><tr><td class = "Bordered">0</td><td class = "Bordered">Least Square (default)</td></tr><tr><td class = "Bordered">1</td><td class = "Bordered">Least Absolute Residual</td></tr><tr><td class = "Bordered">2</td><td class = "Bordered">Bisquare</td></tr></table></td></tr><tr><td class="Icon"><a name="Input6"></a><img src="cnclst.gif"></td><td><strong>parameter bounds</strong> contains the upper and lower constraints for the <strong>amplitude</strong> and <strong>scale</strong>. If you know the exact value of certain parameters, you can set the lower and upper bounds of those parameters equal to the known values. <table class="Borderless"><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>amp min</strong> specifies the lower bound for the <strong>amplitude</strong>. The default value is <span class="Monospace">&#8211;Inf</span>, which means no lower bound is imposed on the <strong>amplitude</strong>. </td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>amp max</strong> specifies the upper bound for the <strong>amplitude</strong>. The default value is <span class="Monospace">Inf</span>, which means no upper bound is imposed on the <strong>amplitude</strong>. </td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>scale min</strong> specifies the lower bound for the <strong>scale</strong>. The default value is <span class="Monospace">&#8211;Inf</span>, which means no lower bound is imposed on the <strong>scale</strong>. </td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>scale max</strong> specifies the upper bound for the <strong>scale</strong>. The default value is <span class="Monospace">Inf</span>, which means no upper bound is imposed on the <strong>scale</strong>. </td></tr></table></td></tr><tr><td class="Icon"><a name="Output0"></a><img src="i1ddbl.gif"></td><td><strong>Best Logarithm Fit</strong> returns the y-values of the fitted model. </td></tr><tr><td class="Icon"><a name="Output1"></a><img src="idbl.gif"></td><td><strong>amplitude</strong> returns the amplitude of the fitted model. </td></tr><tr><td class="Icon"><a name="Output2"></a><img src="idbl.gif"></td><td><strong>scale</strong> returns the scale of the fitted model. </td></tr><tr><td class="Icon"><a name="Output3"></a><img src="ii32.gif"></td><td><strong>error</strong> returns any <a href="../lverror/Error_Code_Ranges.html">error</a> or warning from the VI. You can wire <strong>error</strong> to the <a href="../glang/Err_Cluster_from_Code.html">Error Cluster From Error Code</a> VI to convert the error code or warning into an error cluster. </td></tr><tr><td class="Icon"><a name="Output4"></a><img src="idbl.gif"></td><td><strong>residue</strong> returns the weighted mean error of the fitted model. If <strong>method</strong> is <span class="Monospace">Least Absolute Residual</span>, <strong>residue</strong> is the weighted mean absolute error. Otherwise, <strong>residue</strong> is the weighted mean square error. </td></tr></table><!-- Additional VI/Function Information --><h2><a name="details">Logarithm Fit Details</a></h2><p class="Body">This VI uses the iterative general Least Square method and the Levenberg-Marquardt method to fit data to a logarithmic function of the general form described by the following equation:</p><p class="Indent1"><em>f</em> = <em>a</em>log<em><sub>c</sub></em>(<em>bx</em>)</p><p class="Body">where <em>x</em> is the input sequence <strong>X</strong>, <em>c</em> is <strong>base</strong>, <em>a</em> is <strong>amplitude</strong>, and <em>b</em> is <strong>scale</strong>. This VI finds the values of <em>a</em> and <em>b</em> that best fit the observations (<strong>X</strong>, <strong>Y</strong>).</p><p class="Body">The following equation describes the logarithm function resulting from the logarithm fit algorithm:</p><p class="Indent1"><em>y</em>[<em>i</em>] = <em>a</em>log<em><sub>c</sub></em>(<em>bx</em>[<em>i</em>])</p><p class="Body">If the noise of <strong>Y</strong> is Gaussian distributed, use the Least Square method. The following illustration shows the logarithm fit result using this method.</p><p class="Anchor"><img src="loc_fp_logarithm_fit_1.gif"></p><p class="Body">When you use the Least Square method, this VI finds the <strong>amplitude</strong> and <strong>scale</strong> of the logarithmic model by minimizing <strong>residue</strong> according to the following equation:</p><p class="Indent1"><img src="noloc_eq_logarithm_fit_2.gif"></p><p class="Body">where <em>N</em> is the length of <strong>Y</strong>, <em>w</em><em><sub>i</sub></em> is the <em>i</em><sup>th</sup> element of <strong>Weight</strong>, <em>f</em><em><sub>i</sub></em> is the <em>i</em><sup>th</sup> element of <strong>Best Logarithm Fit</strong>, and <em>y</em><em><sub>i</sub></em> is the <em>i</em><sup>th</sup> element of <strong>Y</strong>.</p><p class="Body">The Least Absolute Residual and Bisquare methods are robust fitting methods. Use these methods if outliers in the observations exist. The following illustration compares the fit results of the Least Square, Least Absolute Residual, and Bisquare fitting methods. In most cases, the Bisquare method is less sensitive to outliers than the Least Absolute Residual method.</p><p class="Anchor"><img src="loc_fp_logarithm_fit_3.gif"></p><p class="Body">When you use the Least Absolute Residual method, this VI finds the <strong>amplitude</strong> and <strong>scale</strong> of the logarithmic model by minimizing <strong>residue</strong> according to the following equation:</p><p class="Indent1"><img src="noloc_eq_logarithm_fit_4.gif"></p><p class="Body">When you use the Bisquare method, this VI obtains the <strong>amplitude</strong> and <strong>scale</strong> using an iterative process, as shown in the following illustration, and calculates <strong>residue</strong> using the same formula as in the Least Square method.</p><p class="Anchor"><img src="loc_eps_logarithm_fit_flowchart.gif"></p><!--Module Specific Content--><script type="text/javascript">if (typeof(writeVarRefs)=="function"){writeVarRefs("3100");}</script><!-- Example Information --></div></body></HTML>