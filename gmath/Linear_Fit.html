<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><!--Generated from database. Edit in the database; do not edit this file.--><!--VI id="876"--><HTML><head><!--LabVIEW VI path:vi.lib\Analysis\6fits.llb\Linear Fit.vi--><TITLE>Linear Fit VI</TITLE><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252"><meta http-equiv="Content-Style-Type" content="text/css"><link rel="STYLESHEET" type="text/css" href="minimal.css"><script src="common.js" type="text/javascript"></script><script src="jquery-1.7.2.min.js" type="text/javascript"></script><script src="cssframes.js" type="text/javascript"></script><link media="print" rel="stylesheet" type="text/css" href="print.css"></head><body bgcolor="#ffffff"><noscript><p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p><hr width="100%" noshade></noscript><div id="styleDivTitle"><!-- VI or Function Name --><H1>Linear Fit VI</H1><!--Owning Palette--><p class="Body"><strong>Owning Palette:</strong> <a href="../gmath/Curve_Fitting_VIs.html">Fitting VIs</a></p><!--Package and Platform--><p class="Body"><strong>Requires:</strong> Full Development System</p><!-- VI/Function Description --><p class="Body">Returns the linear fit of a data set (<strong>X</strong>, <strong>Y</strong>) using the Least Square, Least Absolute Residual, or Bisquare method.</p><!-- Supplemental VI/Function Information --><!-- Link to Additional VI/Function Information --><p class="Body"><a href="#details">Details</a>&nbsp;&nbsp;<a href="#examples">Examples</a></p><!-- Graphic Reference --><MAP NAME="connector_pane"><AREA SHAPE="rect" COORDS="0,8,99,16" HREF="#Input0"><AREA SHAPE="rect" COORDS="0,22,99,30" HREF="#Input1"><AREA SHAPE="rect" COORDS="0,35,99,46" HREF="#Input2"><AREA SHAPE="rect" COORDS="0,49,99,58" HREF="#Input3"><AREA SHAPE="rect" COORDS="0,63,99,72" HREF="#Input4"><AREA SHAPE="rect" COORDS="0,77,99,88" HREF="#Input5"><AREA SHAPE="rect" COORDS="229,8,299,16" HREF="#Output0"><AREA SHAPE="rect" COORDS="229,21,256,32" HREF="#Output1"><AREA SHAPE="rect" COORDS="229,36,274,46" HREF="#Output2"><AREA SHAPE="rect" COORDS="229,52,255,58" HREF="#Output3"><AREA SHAPE="rect" COORDS="229,63,266,72" HREF="#Output4"></MAP><p class="Anchor"><img src="Linear_Fit.gif" usemap="#connector_pane" border="0"></p><!--Add/Find Buttons--><table class="Borderless"><tr><td><a href="javascript:placeObject(object876);"><img src="add.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Add to the block diagram</td><td><a href="javascript:findObject(object876);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find on the palette</td></tr></table></div><div id="styleDivScrolling"><!-- Table of VI/Function Parameters --><table class="Borderless"><tr><td class="Icon"><a name="Input0"></a><img src="c1ddbl.gif"></td><td><strong>Y</strong> is the array of dependent values. The length of <strong>Y</strong> must be greater than or equal to the number of unknown parameters. </td></tr><tr><td class="Icon"><a name="Input1"></a><img src="c1ddbl.gif"></td><td><strong>X</strong> is the array of independent values. <strong>X</strong> must be the same size as <strong>Y</strong>. </td></tr><tr><td class="Icon"><a name="Input2"></a><img src="c1ddbl.gif"></td><td><strong>Weight</strong> is the array of weights for the observations (<strong>X</strong>, <strong>Y</strong>). <strong>Weight</strong> must be the same size as <strong>Y</strong>. <strong>Weight</strong> also must contain non-zero elements. If an element in <strong>Weight</strong> is less than 0, the VI uses the absolute value of the element.<br><br>If you do not wire an input to <strong>Weight</strong>, the VI sets all elements of <strong>Weight</strong> to 1. </td></tr><tr><td class="Icon"><a name="Input3"></a><img src="cdbl.gif"></td><td><strong>tolerance</strong> determines when to stop the iterative adjustment of <strong>slope</strong> and <strong>intercept</strong> when you use the Least Absolute Residual or Bisquare method. For the Least Absolute Residual method, if the relative difference between <strong>residue</strong> in two successive iterations is less than <strong>tolerance</strong>, this VI returns the resulting <strong>residue</strong>. For the Bisquare method, if any relative difference between <strong>slope</strong> and <strong>intercept</strong> in two successive iterations is less than <strong>tolerance</strong>, this VI returns the resulting <strong>slope</strong> and <strong>intercept</strong>. <br><br>If <strong>tolerance</strong> is less than or equal to 0, this VI sets tolerance to 0.0001.</td></tr><tr><td class="Icon"><a name="Input4"></a><img src="cu16.gif"></td><td><strong>method</strong> specifies the fitting method. <br><br><table class="Bordered"><tr><td class = "Bordered">0</td><td class = "Bordered">Least Square (default)</td></tr><tr><td class = "Bordered">1</td><td class = "Bordered">Least Absolute Residual</td></tr><tr><td class = "Bordered">2</td><td class = "Bordered">Bisquare</td></tr></table></td></tr><tr><td class="Icon"><a name="Input5"></a><img src="cnclst.gif"></td><td><strong>parameter bounds</strong> contains the upper and lower constraints for the <strong>slope</strong> and <strong>intercept</strong>. If you know the exact value of certain parameters, you can set the lower and upper bounds of those parameters equal to the known values. <table class="Borderless"><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>slope min</strong> specifies the lower bound for the <strong>slope</strong>. The default value is <span class="Monospace">-Inf</span>, which means no lower bound is imposed on the <strong>slope</strong>. </td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>slope max</strong> specifies the upper bound for the <strong>slope</strong>. The default value is <span class="Monospace">Inf</span>, which means no upper bound is imposed on the <strong>slope</strong>. </td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>intercept min</strong> specifies the lower bound for the <strong>intercept</strong>. The default value is <span class="Monospace">-Inf</span>, which means no lower bound is imposed on the <strong>intercept</strong>. </td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>intercept max</strong> specifies the upper bound for the <strong>intercept</strong>. The default value is <span class="Monospace">Inf</span>, which means no upper bound is imposed on the <strong>intercept</strong>. </td></tr></table></td></tr><tr><td class="Icon"><a name="Output0"></a><img src="i1ddbl.gif"></td><td><strong>Best Linear Fit</strong> returns the y-values of the fitted model. </td></tr><tr><td class="Icon"><a name="Output1"></a><img src="idbl.gif"></td><td><strong>slope</strong> returns the slope of the fitted model. </td></tr><tr><td class="Icon"><a name="Output2"></a><img src="idbl.gif"></td><td><strong>intercept</strong> returns the intercept of the fitted model. </td></tr><tr><td class="Icon"><a name="Output3"></a><img src="ii32.gif"></td><td><strong>error</strong> returns any <a href="../lverror/Error_Code_Ranges.html">error</a> or warning from the VI. You can wire <strong>error</strong> to the <a href="../glang/Err_Cluster_from_Code.html">Error Cluster From Error Code</a> VI to convert the error code or warning into an error cluster. </td></tr><tr><td class="Icon"><a name="Output4"></a><img src="idbl.gif"></td><td><strong>residue</strong> returns the weighted mean error of the fitted model. If <strong>method</strong> is <span class="Monospace">Least Absolute Residual</span>, <strong>residue</strong> is the weighted mean absolute error. Otherwise, <strong>residue</strong> is the weighted mean square error. </td></tr></table><!-- Additional VI/Function Information --><h2><a name="details">Linear Fit Details</a></h2><p class="Body">This VI uses the iterative general Least Square method and the Levenberg-Marquardt method to fit experimental data to a straight line of the general form described by the following equation:</p><p class="Indent1"><em>f</em> = <em>ax</em> + <em>b</em></p><p class="Body">where <em>x</em> is the input sequence <strong>X</strong>, <em>a</em> is <strong>slope</strong>, and <em>b</em> is <strong>intercept</strong>. This VI finds the values of <em>a</em> and <em>b</em> that best fit the observations (<strong>X</strong>, <strong>Y</strong>).</p><p class="Body">The following equation specifically describes the linear curve resulting from the linear fit algorithm:</p><p class="Indent1"><em>y</em>[<em>i</em>] = <em>ax</em>[<em>i</em>] + <em>b</em></p><p class="Body">If the noise of <strong>Y</strong> is Gaussian distributed, use the Least Square method. The following illustration shows the linear fit result using this method.</p><p class="Anchor"><img src="loc_fp_linear_fit_theory_1.gif"></p><p class="Body">When you use the Least Square method, this VI finds the <strong>slope</strong> and <strong>intercept</strong> of the linear model by minimizing <strong>residue</strong> according to the following equation:</p><p class="Indent1"><img src="noloc_eq_linear_fit_theory_2.gif"></p><p class="Body">where <em>N</em> is the length of <strong>Y</strong>, <em>w</em><em><sub>i</sub></em> is the <em>i</em><sup>th</sup> element of <strong>Weight</strong>, <em>f</em><em><sub>i</sub></em> is the <em>i</em><sup>th</sup> element of <strong>Best Linear Fit</strong>, and <em>y</em><em><sub>i</sub></em> is the <em>i</em><sup>th</sup> element of <strong>Y</strong>.</p><p class="Body">The Least Absolute Residual and Bisquare methods are robust fitting methods. Use these methods if outliers in the observations exist. The following illustration compares the fit results of the Least Square, Least Absolute Residual, and Bisquare fitting methods. In most cases, the Bisquare method is less sensitive to outliers than the Least Absolute Residual method.</p><p class="Anchor"><img src="loc_fp_linear_fit_theory_3.gif"></p><p class="Body">When you use the Least Absolute Residual method, this VI finds the <strong>slope</strong> and <strong>intercept</strong> of the linear model by minimizing <strong>residue</strong> according to the following equation:</p><p class="Indent1"><img src="noloc_eq_linear_fit_theory_4.gif"></p><p class="Body">When you use the Bisquare method, this VI obtains the <strong>slope</strong> and <strong>intercept</strong> using an iterative process, as shown in the following illustration, and calculates <strong>residue</strong> using the same formula as in the Least Square method.</p><p class="Anchor"><img src="loc_eps_linear_fit_flowchart.gif"></p><!--Module Specific Content--><script type="text/javascript">if (typeof(writeVarRefs)=="function"){writeVarRefs("876");}</script><!-- Example Information --><h2><a name="examples">Examples</a></h2><p class="Body">Refer to the following VIs for examples of using the Linear Fit VI:</p><ul><li>Regression Solver VI: <span class="Monospace">labview\examples\Mathematics\Fitting</span><p class="Body"><a href="javascript:openVI('examples%5C%5CMathematics%5C%5CFitting%5C%5CRegression%20Solver.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open example&nbsp;<a href="javascript:findExamples(3739);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find related examples</p></li><li>Linear, Exp, and Power Fit VI: <span class="Monospace">labview\examples\Mathematics\Fitting</span><p class="Body"><a href="javascript:openVI('examples%5C%5CMathematics%5C%5CFitting%5C%5CLinear,%20Exp,%20and%20Power%20Fit.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open example&nbsp;<a href="javascript:findExamples(3739);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find related examples</p></li><li>Robust linear fit VI: <span class="Monospace">labview\examples\Mathematics\Fitting</span><p class="Body"><a href="javascript:openVI('examples%5C%5CMathematics%5C%5CFitting%5C%5CRobust%20linear%20fit.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open example&nbsp;<a href="javascript:findExamples(3745);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find related examples</p></li></ul></div></body></HTML>