<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><!--Generated from database. Edit in the database; do not edit this file.--><!--VI id="5548"--><HTML><head><!--LabVIEW VI path:vi.lib\gmath\GlobalOptimization.llb\Global Optimization.vi--><TITLE>Global Optimization VI</TITLE><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252"><meta http-equiv="Content-Style-Type" content="text/css"><link rel="STYLESHEET" type="text/css" href="minimal.css"><script src="common.js" type="text/javascript"></script><script src="jquery-1.7.2.min.js" type="text/javascript"></script><script src="cssframes.js" type="text/javascript"></script><link media="print" rel="stylesheet" type="text/css" href="print.css"></head><body bgcolor="#ffffff"><noscript><p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p><hr width="100%" noshade></noscript><div id="styleDivTitle"><!-- VI or Function Name --><H1>Global Optimization VI</H1><!--Owning Palette--><p class="Body"><strong>Owning Palette:</strong> <a href="../gmath/Optimization_VIs.html">Optimization VIs</a></p><!--Package and Platform--><p class="Body"><strong>Requires:</strong> Full Development System</p><!-- VI/Function Description --><p class="Body">Solves a global optimization equation with boundary constraints, nonlinear equality constraints, and nonlinear inequality constraints using the differential evolution (DE) method.</p><!-- Supplemental VI/Function Information --><!-- Link to Additional VI/Function Information --><p class="Body"><a href="#details">Details</a>&nbsp;&nbsp;<a href="#examples">Examples</a></p><!-- Graphic Reference --><MAP NAME="connector_pane"><AREA SHAPE="rect" COORDS="0,10,170,19" HREF="#Input0"><AREA SHAPE="rect" COORDS="0,26,170,38" HREF="#Input1"><AREA SHAPE="rect" COORDS="0,42,170,51" HREF="#Input2"><AREA SHAPE="rect" COORDS="0,58,170,67" HREF="#Input3"><AREA SHAPE="rect" COORDS="0,74,170,86" HREF="#Input4"><AREA SHAPE="rect" COORDS="0,90,170,101" HREF="#Input5"><AREA SHAPE="rect" COORDS="0,106,170,118" HREF="#Input6"><AREA SHAPE="rect" COORDS="0,122,170,134" HREF="#Input7"><AREA SHAPE="rect" COORDS="289,26,421,35" HREF="#Output0"><AREA SHAPE="rect" COORDS="289,42,344,51" HREF="#Output1"><AREA SHAPE="rect" COORDS="289,58,358,69" HREF="#Output2"><AREA SHAPE="rect" COORDS="289,74,357,86" HREF="#Output3"><AREA SHAPE="rect" COORDS="289,91,337,99" HREF="#Output4"></MAP><p class="Anchor"><img src="global_optimization.gif" usemap="#connector_pane" border="0"></p><!--Add/Find Buttons--><table class="Borderless"><tr><td><a href="javascript:placeObject(object5548);"><img src="add.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Add to the block diagram</td><td><a href="javascript:findObject(object5548);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find on the palette</td></tr></table></div><div id="styleDivScrolling"><!-- Table of VI/Function Parameters --><table class="Borderless"><tr><td class="Icon"><a name="Input0"></a><img src="cfxdt.gif"></td><td><strong>function data</strong> contains static data that the user-defined function needs at run time. </td></tr><tr><td class="Icon"><a name="Input1"></a><img src="cdvrn.gif"></td><td><strong>objective and constraint function</strong> is a reference to the VI that implements the nonlinear function, the nonlinear equality constraints function, and the nonlinear inequality constraints function as separate outputs. In the referenced VI, the objective function output must not be empty, but the constraint functions are optional. Therefore, the equality constraints output, the inequality constraints output, or both can be empty. <br><br>Create this VI by starting from the VI template located in <span class="Monospace">labview\vi.lib\gmath\GlobalOptimization.llb\Global Optimization_Objective Function.vit</span>.<br><br><a href="javascript:openVI('vi.lib%5C%5Cgmath%5C%5CGlobalOptimization.llb%5C%5CGlobal%20Optimization_Objective%20Function.vit');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open template</td></tr><tr><td class="Icon"><a name="Input2"></a><img src="c2ddbl.gif"></td><td><strong>Init Parameters</strong> are the initial parameters at which the optimization process starts. LabVIEW uses <strong>Init Parameters</strong> when <strong>Beginning State</strong> is empty. Each row of <strong>Init Parameters</strong> is one set of parameters. The number of columns in <strong>Init Parameters</strong> must equal the length of <strong>Min</strong> and <strong>Max</strong> in <strong>Bounds</strong>. <br><br>If the number of rows in <strong>Init Parameters</strong> is less than <strong>population size</strong>, LabVIEW initializes the remaining sets of parameters. If the number of rows in <strong>Init Parameters</strong> is larger than <strong>population size</strong>, LabVIEW ignores the additional sets of parameters.</td></tr><tr><td class="Icon"><a name="Input3"></a><img src="ccclst.gif"></td><td><strong>Bounds</strong> is a cluster that contains the upper and lower numeric limits for the parameters being optimized. <table class="Borderless"><tr><td class="Icon"><img src="c1ddbl.gif"></td><td><strong>Min</strong> contains the lowest allowed value of the parameters being optimized. <strong>Min</strong> cannot be empty. The length of <strong>Min</strong> must be equal to the length of <strong>Max</strong>. <strong>Min</strong> does not accept exceptional values, such as <span class="Monospace">Inf</span>, <span class="Monospace">&#8211;Inf</span>, or <span class="Monospace">NaN</span>. </td></tr><tr><td class="Icon"><img src="c1ddbl.gif"></td><td><strong>Max</strong> contains the highest allowed value of the parameters being optimized. <strong>Max</strong> cannot be empty. The length of <strong>Max</strong> must be equal to the length of <strong>Min</strong>. <strong>Max</strong> does not accept exceptional values, such as <span class="Monospace">Inf</span>, <span class="Monospace">&#8211;Inf</span>, or <span class="Monospace">NaN</span>. </td></tr></table></td></tr><tr><td class="Icon"><a name="Input4"></a><img src="ccclst.gif"></td><td><strong>Beginning State</strong> contains the initial values of the populations and Pareto indexes. <strong>Beginning State</strong> is typically the ending state of a previous optimization and allows a warm start of the optimization. If <strong>Beginning State</strong> has values, LabVIEW ignores <strong>Init Parameters</strong>. <table class="Borderless"><tr><td class="Icon"><img src="c1dcclst.gif"></td><td><strong>Population</strong> contains a set of parameters, which includes values of parameters, objective functions, equality constraints, inequality constraints, and the base index. <table class="Borderless"><tr><td class="Icon"><img src="c1ddbl.gif"></td><td><strong>Parameters</strong> contains the values of candidate parameters. </td></tr><tr><td class="Icon"><img src="c1ddbl.gif"></td><td><strong>Objective Functions</strong> contains the values of objective functions at <strong>Parameters</strong>. </td></tr><tr><td class="Icon"><img src="c1ddbl.gif"></td><td><strong>Equality Constraints</strong> contains the values of equality constraints at <strong>Parameters</strong>. </td></tr><tr><td class="Icon"><img src="c1ddbl.gif"></td><td><strong>Inequality Constraints</strong> contains the values of inequality constraints at <strong>Parameters</strong>. </td></tr></table></td></tr><tr><td class="Icon"><img src="c1di32.gif"></td><td><strong>Pareto Indexes</strong> contains index that determines the selection of parameters from all candidates. </td></tr></table></td></tr><tr><td class="Icon"><a name="Input5"></a><img src="cerrcodeclst.gif"></td><td><strong>error in</strong> describes error conditions that occur before this node runs. This input provides <a href="../lvconcepts/using_standard_error_in.html">standard error in</a> functionality. </td></tr><tr><td class="Icon"><a name="Input6"></a><img src="cnclst.gif"></td><td><strong>DE Settings</strong> contains additional settings that are specific to the differential evolution (DE) method. <table class="Borderless"><tr><td class="Icon"><img src="ci32.gif"></td><td><strong>population size</strong> is the number of sets of candidate parameters that LabVIEW calculates at each loop iteration in the optimization process. This size also indicates the number of objective function calls at each loop iteration in the optimization process. A larger <strong>population size</strong> usually results in better optimization results and a longer execution time. The default is <span class="Monospace">10</span>. </td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>scale factor</strong> is the diversity factor that LabVIEW uses to generate mutant parameters. Larger values of <strong>scale factor</strong> result in more diverse mutant parameters. The default is <span class="Monospace">0.9</span>. </td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>crossover probability</strong> is the probability that LabVIEW inherits the trial parameters from the mutant parameters. A larger value of <strong>crossover probability</strong> results in a higher probability that LabVIEW accepts the mutant parameters. The default is <span class="Monospace">0.95</span>. </td></tr><tr><td class="Icon"><img src="cu16.gif"></td><td><strong>bound mapping method</strong> is the method that LabVIEW maps the trial parameters into bounds. <br><br><table class="Bordered"><tr><td class = "Bordered">0</td><td class = "Bordered">None</td></tr><tr><td class = "Bordered">1</td><td class = "Bordered">Random between Bounds and Values (default)</td></tr><tr><td class = "Bordered">2</td><td class = "Bordered">Re-Initialize</td></tr></table></td></tr><tr><td class="Icon"><img src="cu16.gif"></td><td><strong>mutation method</strong> is the method that LabVIEW generates mutant parameters. <br><br><table class="Bordered"><tr><td class = "Bordered">0</td><td class = "Bordered">Random (default)</td></tr><tr><td class = "Bordered">1</td><td class = "Bordered">Either Or</td></tr><tr><td class = "Bordered">2</td><td class = "Bordered">Best</td></tr><tr><td class = "Bordered">3</td><td class = "Bordered">Target to Best</td></tr></table></td></tr><tr><td class="Icon"><img src="cu16.gif"></td><td><strong>crossover method</strong> is the method that LabVIEW crosses candidate parameters with mutant parameters. <br><br><table class="Bordered"><tr><td class = "Bordered">0</td><td class = "Bordered">Uniform (default)</td></tr><tr><td class = "Bordered">1</td><td class = "Bordered">Exponential</td></tr></table></td></tr></table></td></tr><tr><td class="Icon"><a name="Input7"></a><img src="cnclst.gif"></td><td><strong>stopping criteria</strong> is the collection of conditions that terminate the optimization process. <table class="Borderless"><tr><td class="Icon"><img src="ci32.gif"></td><td><strong>max iterations</strong> is the maximum number of loop iteration in the optimization process. If the number of loop iteration exceeds <strong>max iterations</strong>, the optimization process terminates. The default is <span class="Monospace">50</span>. </td></tr><tr><td class="Icon"><img src="ci32.gif"></td><td><strong>max function calls</strong> is the maximum number of objective function calls allowed before the optimization process terminates. The default is <span class="Monospace">-1</span>. <br><br><span class="Monospace">-1</span> indicates that the optimization process never terminates and does not rely on the number of objective function calls. The formula that determines the actual number of objective function calls is <strong>population size</strong> * (<strong>max iterations</strong> + 1).</td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>max time (sec)</strong> is the maximum amount of time LabVIEW allows between the start and the end of the optimization process. The default is <span class="Monospace">-1</span>. <span class="Monospace">-1</span> indicates that the optimization process never times out. </td></tr></table></td></tr><tr><td class="Icon"><a name="Output0"></a><img src="ii32.gif"></td><td><strong>number of function calls</strong> is the number of times the objective function calls in the optimization process. <br><br>If <strong>max function calls</strong> is <span class="Monospace">-1</span>, <strong>number of function calls</strong> equals <strong>population size</strong> * (<strong>max iterations</strong> + 1).</td></tr><tr><td class="Icon"><a name="Output1"></a><img src="i1ddbl.gif"></td><td><strong>Minimum</strong> is the determined global minimum among all minimum possibilities. </td></tr><tr><td class="Icon"><a name="Output2"></a><img src="i1ddbl.gif"></td><td><strong>F(Minimum)</strong> is the function value of the objective function at <strong>Minimum</strong>. </td></tr><tr><td class="Icon"><a name="Output3"></a><img src="icclst.gif"></td><td><strong>Ending State</strong> contains the final values of the populations and Pareto indexes at the end of the optimization process. <table class="Borderless"><tr><td class="Icon"><img src="i1dcclst.gif"></td><td><strong>Population</strong> contains a set of populations, which includes values of candidate parameters, objective functions, equality constraints, and inequality constraints at the end of the optimization process. <table class="Borderless"><tr><td class="Icon"><img src="i1ddbl.gif"></td><td><strong>Parameters</strong> contains the values of candidate parameters at the end of optimization process. </td></tr><tr><td class="Icon"><img src="i1ddbl.gif"></td><td><strong>Objective Functions</strong> contains the values of objective functions at <strong>Parameters</strong>. </td></tr><tr><td class="Icon"><img src="i1ddbl.gif"></td><td><strong>Equality Constraints</strong> contains the values of equality constraints at <strong>Parameters</strong>. </td></tr><tr><td class="Icon"><img src="i1ddbl.gif"></td><td><strong>Inequality Constraints</strong> contains the values of inequality constraints at <strong>Parameters</strong>. </td></tr></table></td></tr><tr><td class="Icon"><img src="i1di32.gif"></td><td><strong>Pareto Indexes</strong> contains the index that determines the selection of parameters from all candidates. </td></tr></table></td></tr><tr><td class="Icon"><a name="Output4"></a><img src="ierrcodeclst.gif"></td><td><strong>error out</strong> contains error information. This output provides <a href="../lvconcepts/using_standard_error_out.html">standard error out</a> functionality. </td></tr></table><!-- Additional VI/Function Information --><h2><a name="details">Global Optimization Details</a></h2><p class="Body">This VI solves a global optimization equation by finding <em>x</em> to minimize <em>f</em>(<em>x</em>), which is subject to the following constraints:</p><table class="Borderless"><tr><td>Boundary constraints</td><td><em>min</em> &#8804; <em>x</em> &#8804; <em>max</em></td></tr><tr><td>Equality constraints</td><td><em>g</em>(<em>x</em>) = 0</td></tr><tr><td>Inequality constraints</td><td><em>h</em>(<em>x</em>) &#8804; 0</td></tr></table><p class="Body"><em>x</em> is the set of parameters to optimize. <em>f</em>(<em>x</em>) is the set of objective functions to minimize. The equality and inequality constraints are optional in this problem.</p><p class="Body">Differential evolution (DE) is one method used to solve the global optimization problem. It approximates the actual global optimum by iteratively mutating and improving the candidate parameters from the initial ones.</p><table class="Borderless"><tr><td class="Icon"><img src="note.gif"></td><td><strong>Note</strong>&nbsp;&nbsp;The DE method cannot guarantee the global optimum is found. The best parameters return depending on the choice of the DE settings as well as the problem itself.</td></tr></table><p class="Body">If object function evaluation takes long time, the DE method needs to call the object function several times, depending on population size, during each loop iteration in the optimization process. This VI enables parallel loop iterations on the For Loop to call the object function so that LabVIEW can take advantage of multiple processors. In order to utilize the parallel loop iterations, you need to do the following:</p><ul><li>Change the VI that implements the objective function to a reentrant VI that shares clones.</li><li>Open a reference to a VI with a 0x40 option, as the following shown in the following image.<br><img src="loc_bd_global_optimization_x40.gif"></li></ul><p class="Body">The following illustration shows how the VI solves a global optimization equation.</p><img src="loc_eps_global_opt_flow.gif"><!--Module Specific Content--><script type="text/javascript">if (typeof(writeVarRefs)=="function"){writeVarRefs("5548");}</script><!-- Example Information --><h2><a name="examples">Examples</a></h2><p class="Body">Refer to the following VIs for examples of using the Global Optimization VI:</p><ul><li>Find Global Min on Surface VI: <span class="Monospace">labview\examples\Mathematics\Optimization</span><p class="Body"><a href="javascript:openVI('examples%5C%5CMathematics%5C%5COptimization%5C%5CFind%20Global%20Min%20on%20Surface.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open example&nbsp;<a href="javascript:findExamples(3745);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find related examples</p></li><li>Two Circles Optimization VI: <span class="Monospace">labview\examples\Mathematics\Optimization</span><p class="Body"><a href="javascript:openVI('examples%5C%5CMathematics%5C%5COptimization%5C%5CTwo%20Circles%20Optimization.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open example&nbsp;<a href="javascript:findExamples(3745);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find related examples</p></li></ul></div></body></HTML>