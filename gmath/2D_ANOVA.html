<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><!--Generated from database. Edit in the database; do not edit this file.--><!--VI id="977"--><HTML><head><!--LabVIEW VI path:vi.lib\Analysis\5stat.llb\2D ANOVA.vi--><TITLE>2D ANOVA VI</TITLE><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252"><meta http-equiv="Content-Style-Type" content="text/css"><link rel="STYLESHEET" type="text/css" href="minimal.css"><script src="common.js" type="text/javascript"></script><script src="jquery-1.7.2.min.js" type="text/javascript"></script><script src="cssframes.js" type="text/javascript"></script><link media="print" rel="stylesheet" type="text/css" href="print.css"></head><body bgcolor="#ffffff"><noscript><p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p><hr width="100%" noshade></noscript><div id="styleDivTitle"><!-- VI or Function Name --><H1>2D ANOVA VI</H1><!--Owning Palette--><p class="Body"><strong>Owning Palette:</strong> <a href="../gmath/Analysis_of_Variance.html">Analysis of Variance VIs</a></p><!--Package and Platform--><p class="Body"><strong>Requires:</strong> Full Development System</p><!-- VI/Function Description --><p class="Body">Takes an array of experimental observations made at various levels of two factors and performs a two-way analysis of variance.</p><!-- Supplemental VI/Function Information --><!-- Link to Additional VI/Function Information --><p class="Body"><a href="#details">Details</a>&nbsp;&nbsp;</p><!-- Graphic Reference --><MAP NAME="connector_pane"><AREA SHAPE="rect" COORDS="0,12,113,21" HREF="#Input0"><AREA SHAPE="rect" COORDS="0,28,113,36" HREF="#Input1"><AREA SHAPE="rect" COORDS="0,41,113,50" HREF="#Input2"><AREA SHAPE="rect" COORDS="0,55,113,64" HREF="#Input3"><AREA SHAPE="rect" COORDS="0,69,113,80" HREF="#Input4"><AREA SHAPE="rect" COORDS="0,83,113,92" HREF="#Input5"><AREA SHAPE="rect" COORDS="231,27,252,36" HREF="#Output0"><AREA SHAPE="rect" COORDS="231,42,256,52" HREF="#Output1"><AREA SHAPE="rect" COORDS="231,56,255,66" HREF="#Output2"><AREA SHAPE="rect" COORDS="231,70,262,80" HREF="#Output3"><AREA SHAPE="rect" COORDS="231,86,257,92" HREF="#Output4"></MAP><p class="Anchor"><img src="2D_ANOVA.gif" usemap="#connector_pane" border="0"></p><!--Add/Find Buttons--><table class="Borderless"><tr><td><a href="javascript:placeObject(object977);"><img src="add.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Add to the block diagram</td><td><a href="javascript:findObject(object977);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find on the palette</td></tr></table></div><div id="styleDivScrolling"><!-- Table of VI/Function Parameters --><table class="Borderless"><tr><td class="Icon"><a name="Input0"></a><img src="ci32.gif"></td><td><strong>A levels</strong> contains the number of levels in factor A. The sign of <strong>A levels</strong> is set to positive if A is fixed and negative if A is random. </td></tr><tr><td class="Icon"><a name="Input1"></a><img src="c1ddbl.gif"></td><td><strong>X</strong> contains all the observational data. </td></tr><tr><td class="Icon"><a name="Input2"></a><img src="c1di32.gif"></td><td><strong>Index A</strong> contains the level of factor A to which the corresponding observation belongs. </td></tr><tr><td class="Icon"><a name="Input3"></a><img src="c1di32.gif"></td><td><strong>Index B</strong> contains the level of factor B to which the corresponding observation belongs. </td></tr><tr><td class="Icon"><a name="Input4"></a><img src="ci32.gif"></td><td><strong>observations per cell</strong> is the number of observations in each cell. It is the same for all cells. </td></tr><tr><td class="Icon"><a name="Input5"></a><img src="ci32.gif"></td><td><strong>B levels</strong> contains the number of levels in factor B. The sign of <strong>B levels</strong> is set to positive if B is fixed and negative if B is random. </td></tr><tr><td class="Icon"><a name="Output0"></a><img src="i2ddbl.gif"></td><td><strong>Info</strong> is a 4-by-4 matrix organized where the first column corresponds to the sum of squares associated with factor A, factor B, AB interaction, and residual error. The second column corresponds to the respective degrees of freedom. The third column corresponds to the respective mean squares. The fourth column corresponds to the respective F values. <p class="Indent1"><img src="loc_eq_infomat.gif"></p></td></tr><tr><td class="Icon"><a name="Output1"></a><img src="idbl.gif"></td><td><strong>sig A</strong> is the computed level of significance associated with factor A. </td></tr><tr><td class="Icon"><a name="Output2"></a><img src="idbl.gif"></td><td><strong>sig B</strong> is the computed level of significance associated with factor B. </td></tr><tr><td class="Icon"><a name="Output3"></a><img src="idbl.gif"></td><td><strong>sig AB</strong> is the computed level of significance associated with the interaction of factors A and B. </td></tr><tr><td class="Icon"><a name="Output4"></a><img src="ii32.gif"></td><td><strong>error</strong> returns any <a href="../lverror/Error_Code_Ranges.html">error</a> or warning from the VI. You can wire <strong>error</strong> to the <a href="../glang/Err_Cluster_from_Code.html">Error Cluster From Error Code</a> VI to convert the error code or warning into an error cluster. </td></tr></table><!-- Additional VI/Function Information --><h2><a name="details">2D ANOVA Details</a></h2><h3>2D ANOVA Factors, Levels, and Cells</h3><p class="Body">A factor is a basis for categorizing data. For example, if you count the number of sit-ups individuals can do, one basis of categorization is age. For age, you might have the following levels:</p><table class="Bordered"><tr><td class="Bordered">Level 0</td><td class="Bordered">6 years old to 10 years old</td></tr><tr><td class="Bordered">Level 1</td><td class="Bordered">11 years old to 15 years old</td></tr></table><p class="Body">Another possible factor is weight, with the following levels:</p><table class="Bordered"><tr><td class="Bordered">Level 0</td><td class="Bordered">less than 50 kg</td></tr><tr><td class="Bordered">Level 1</td><td class="Bordered">between 50 and 75 kg</td></tr><tr><td class="Bordered">Level 2</td><td class="Bordered">more than 75 kg</td></tr></table><p class="Body">Now, suppose that you made a series of observations to see how many sit-ups people could do. If you took a random sampling of <em>n</em> people, you might find the following results:</p><table class="Bordered"><tr><td class="Bordered">Person 1</td><td class="Bordered">8 years old (level 0)</td><td class="Bordered">30 kg (level 0)</td><td class="Bordered">10 sit-ups</td></tr><tr><td class="Bordered">Person 2</td><td class="Bordered">12 years old (level 1)</td><td class="Bordered">40 kg (level 0)</td><td class="Bordered">15 sit-ups</td></tr><tr><td class="Bordered">Person 3</td><td class="Bordered">15 years old (level 1)</td><td class="Bordered">76 kg (level 2)</td><td class="Bordered">20 sit-ups</td></tr><tr><td class="Bordered">Person 4</td><td class="Bordered">14 years old (level 1)</td><td class="Bordered">60 kg (level 1)</td><td class="Bordered">25 sit-ups</td></tr><tr><td class="Bordered">Person 5</td><td class="Bordered">9 years old (level 0)</td><td class="Bordered">51 kg (level 1)</td><td class="Bordered">17 sit-ups</td></tr><tr><td class="Bordered">Person 6</td><td class="Bordered">10 years old (level 0)</td><td class="Bordered">80 kg (level 2)</td><td class="Bordered">4 sit ups</td></tr></table><p class="Body">and so on.</p><p class="Body">If you plot observations as a function of factor A and factor B, they fall into cells of a matrix with factor A as rows and factor B as columns. Each cell must contain at least one observation, and each cell must contain the same number of observations.</p><p class="Body">To perform the analysis of variance, you specify an array <strong>X</strong> of observations, with values 10, 15, 20, 25, 17, and 4. The array <strong>Index A</strong> specifies the level (or category) of factor A to which each observation applies. In this case, the array would have the values 0, 1, 1, 1, 0, and 0.</p><p class="Body">The array <strong>Index B</strong> specifies the level (or category) of factor B to which each observation applies. In this case, the array would have the values 0, 0, 2, 1, 1, and 2. Finally, there are two possible levels for factor A and three possible levels for factor B, so you pass in a value of 2 for the <strong>A levels</strong> parameter and a value of 3 for the <strong>B levels</strong> parameter.</p><p class="Body">You can apply any one of the following models, where <em>L</em> is the specified <strong>observations per cell</strong>:</p><ul><li>Model 1: Fixed-effects with no interaction and one observation per cell (per specified levels x and y of the factors A and B, respectively).</li><li>Model 2: Fixed-effects with interaction and <em>L</em> &gt; 1 observations per cell.</li><li>Model 3: Either of the fixed-effects models with interaction and <em>L</em> &gt; 1 observations per cell.</li><li>Model 4: Random-effects with interaction and <em>L</em> &gt; 1 observations per cell.</li></ul><h3>2D ANOVA Random and Fixed Effects</h3><p class="Body">A factor is a random effect if it has a large population of levels about which you want to draw conclusions but such that you cannot sample from all levels. You thus pick levels at random and hope to generalize about all levels. A factor is a fixed effect if you can sample from all levels about which you want to draw conclusions.</p><p class="Body">The input parameters <strong>A levels</strong> and <strong>B levels</strong> represent the number of levels in factors A and B, respectively, as well as whether the factors are random or fixed. For example, if factor A is random, you set <strong>A levels</strong> to be negative the number of levels in factor A. Notice that if there is only one observation per cell, both <strong>A levels</strong> and <strong>B levels</strong> must be positive. That is, you use model 1.</p><h3>2D ANOVA Statistical Model</h3><p class="Body">Let <em>x<sub>pqr</sub></em> be the <em>r</em><sup>th</sup> observation at the <em>p</em><sup>th</sup> and <em>q</em><sup>th</sup> levels of A and B respectively, where <em>r</em> = 0, 1, ..., <em>L</em> &#8211; 1.</p><p class="Body">Model 1 expresses each observation as the sum of four components.</p><p class="Indent1"><em>x<sub>pqr</sub></em> = &#0181; + <img src="alpha.gif"><sub><em>p</em></sub> + <img src="beta.gif"><sub><em>q</em></sub> + <img src="epsilon.gif"><sub><em>pqr</em></sub></p><p class="Body">Models 2, 3, and 4 express each observation as the sum of five components.</p><p class="Indent1"><em>x<sub>pqr</sub></em> = &#0181; + <img src="alpha.gif"><sub><em>p</em></sub> + <img src="beta.gif"><sub><em>q</em></sub> + (<img src="alpha.gif"><img src="beta.gif">)<sub><em>pq</em></sub> + <img src="epsilon.gif"><sub><em>pqr</em></sub></p><p class="Body">where</p><p class="Indent1"><img src="beta.gif"><sub><em>q</em></sub> = &#0181;<sub><em>q</em></sub> &#8211; &#0181;</p><ul><li>&#0181; is the overall mean response (the average of the mean response for all the populations).</li><li><img src="alpha.gif"><sub><em>p</em></sub> is the effect of the <em>p</em><sup>th</sup> level of factor A<BR><BR>(equal to &#0181;<sub><em>p</em></sub> &#8211; &#0181; where &#0181;<sub><em>p</em></sub> is the average of the <em>p</em><sup>th</sup> level of factor A over all levels of factor B).</li><li><img src="beta.gif"><sub><em>q</em></sub> is the effect of the <em>q</em><sup>th</sup> level of factor B<BR><BR>(equal to &#0181;<sub><em>q</em></sub> &#8211; &#0181; where &#0181;<sub><em>q</em></sub> is the average of the <em>q</em><sup>th</sup> level of factor B over all levels of factor A).</li><li>(<img src="alpha.gif"><img src="beta.gif">)<sub><em>pq</em></sub> is the interaction between the <em>p</em><sup>th</sup> level of factor A and the <em>q</em><sup>th</sup> level of factor B<BR><BR>(equal to &#0181;<sub><em>pq</em></sub> &#8211; (&#0181; + <img src="alpha.gif"><sub><em>p</em></sub> + <img src="beta.gif"><sub><em>q</em></sub>) where &#0181;<sub><em>pq</em></sub> is the population mean of the <em>pq</em><sup>th</sup> cell).</li><li><img src="epsilon.gif"><sub><em>pqr</em></sub> is the deviation of <em>x</em><sub><em>pqr</em></sub> from the population mean response for the <em>pq</em><sup>th</sup> population.</li></ul><h3>2D ANOVA Hypotheses</h3><p class="Body">Each of the following hypotheses is a different way of saying that a factor or an interaction among factors has no effect on experimental outcomes. This VI assumes that there are no effects and then seeks evidence to contradict this assumption. The following are the three hypotheses:</p><ul><li>(A) that <img src="alpha.gif"><sub><em>p</em></sub> = 0 for all levels <em>p</em> if factor A is fixed, and that <img src="sigma.gif"><sub>A</sub><sup>2</sup> = 0 if factor A is random.</li><li>(B) that <img src="beta.gif"><sub><em>q</em></sub> = 0 for all levels <em>q</em> if factor B is fixed, and that <img src="sigma.gif"><sub>B</sub><sup>2</sup> = 0 if factor B is random.</li><li>(AB) that (<img src="alpha.gif"><img src="beta.gif">)<sub><em>pq</em></sub> = 0 for all levels <em>p</em> and <em>q</em> if both factors A and B are fixed, and that <img src="sigma.gif"><sub>A</sub><sup>2</sup> = 0 if either factor A or factor B is random. (This does not apply to model 1. In model 1 there is no interaction, and the associated output parameters are superfluous.)</li></ul><h3>2D ANOVA Assumptions</h3><p class="Body">The 2D ANOVA VI makes the following assumptions:</p><ul><li>Assume that for each <em>p</em>, <em>q</em>, and <em>r</em>, <img src="epsilon.gif"><sub><em>pqr</em></sub> is Normally distributed with mean 0 and variance <img src="sigma.gif"><sub>e</sub><sup>2</sup>.</li><li>If a factor such as A is fixed, assume that the populations of measurements at each level of A are Normally distributed with mean <img src="alpha.gif"><sub><em>p</em></sub> + &#0181; and variance <img src="sigma.gif"><sub>A</sub><sup>2</sup>, and that all the populations at each of the levels have the same variance. In addition, assume that <img src="alpha.gif"><sub><em>p</em></sub> sum to zero. Analogous assumptions are made for B.</li><li>If a factor such as A is random, assume that the effect of the level of A itself, <img src="alpha.gif"><sub><em>p</em></sub>, is a random variable Normally distributed with mean 0 and variance <img src="sigma.gif"><sub>e</sub><sup>2</sup>. Analogous assumptions are made for B.</li><li>If all of the factors such as A and B associated with the effect of an interaction (<img src="alpha.gif"><img src="beta.gif">)<sub><em>pq</em></sub> are fixed, assume that the populations of measurements at each level are Normally distributed with mean &#0181;<sub><em>pq</em></sub> and variance <img src="sigma.gif"><sub>AB</sub><sup>2</sup>. For any fixed <em>p</em>, (<img src="alpha.gif"><img src="beta.gif">)<sub><em>pq</em></sub> sum to zero, when summing over all <em>q</em>. Similarly, for any fixed <em>q</em>, the means (<img src="alpha.gif"><img src="beta.gif">)<sub><em>pq</em></sub> sum to zero, when summing over all <em>p</em>.</li><li>If any of the factors such as A and B associated with the effect of an interaction (<img src="alpha.gif"><img src="beta.gif">)<sub><em>pq</em></sub> are random, assume the effect is a random variable Normally distributed with mean 0 and variance <img src="sigma.gif"><sub>AB</sub><sup>2</sup>. If A is fixed but B is random, then also assume that for any fixed <em>q</em> the means <img src="sigma.gif"><sub>AB</sub><sup>2</sup> sum to zero, when summing over all <em>p</em>. Similarly, if B is fixed but A is random, assume that for any fixed <em>p</em> the means <img src="sigma.gif"><sub>AB</sub><sup>2</sup> sum to zero, when summing over all <em>q</em>.</li><li>Assume that all effects taken to be random variables are mutually independent.</li></ul><h3>2D ANOVA General Method</h3><p class="Body">In each of the models, the VI breaks up the total sum of squares, tss, a measure of the total variation of the data from the overall population mean, into some number of component sums of squares. In model 1</p><p class="Indent1">tss = ssa + ssb + sse</p><p class="Body">whereas in models 2 through 4</p><p class="Indent1">tss = ssa + ssb + ssab + sse</p><p class="Body">Each component sum in tss is a measure of variation attributed to a certain factor or interaction among the factors. Here ssa is a measure of the variation due to factor A, ssb is a measure of the variation due to factor B, ssab is a measure of the variation due to the interaction between factors A and B, and sse is a measure of the variation due to random fluctuation. Notice that with model 1 you have no ssab term. This is what no interaction means.</p><p class="Body">The VI divides each of the values ssa, ssb, ssab, and sse by their own degrees of freedom to compute the mean square quantities msa, msb, msab, and mse. If one factor, such as factor A, has a strong effect on the experimental observations, the respective mean square quantity msa will be relatively large.</p><h3>Testing the 2D ANOVA Hypotheses</h3><p class="Body">For each hypothesis, the VI computes a number f that is used to calculate the associated sig probability. For example, for the hypothesis (A), that <img src="alpha.gif"><sub><em>p</em></sub> = 0 for all the levels <em>p</em>, (fixed A), the VI computes</p><p class="Indent1"><img src="noloc_eq_2dan9b.gif"></p><p class="Body">then</p><p class="Indent1"><strong>sigA</strong> = Prob{F<sub><em>a</em> &#8211; 1, (<em>a</em> &#8211; 1)(<em>b</em> &#8211; 1)</sub>} &gt; fa</p><p class="Body">where</p><p class="Indent1">F<sub><em>a</em> &#8211; 1, (<em>a</em> &#8211; 1)(<em>b</em> &#8211; 1)</sub></p><p class="Body">is an F distribution with degrees of freedom <em>a</em> &#8211; 1 and (<em>a</em> &#8211; 1)(<em>b</em> &#8211; 1). You then can use the probabilities <strong>sigA</strong>, <strong>sigB</strong>, and <strong>sigAB</strong> to determine when you should reject the associated hypotheses (A), (B), and (AB).</p><p class="Body">How do you know when to reject the null hypothesis? For each hypothesis, you choose a level of significance. This level of significance is how likely you want it to be that you mistakenly reject the hypothesis (a common choice is 0.05). Compare your chosen level of significance with the associated sig probability output. If the sig probability is less than your chosen level of significance, you should reject the null hypothesis.</p><p class="Body">For example, if A is a random effect, your chosen level of significance is 0.05, and the output <strong>sigA</strong> is 0.03, then you must reject the hypothesis <img src="alpha.gif">A<sup>2</sup> = 0 and conclude that factor A has an effect on the experimental observations.</p><h3>2D ANOVA Formulas</h3><p class="Body">Let <em>x</em><sub><em>pqr</em></sub> be the <em>r</em><sup>th</sup> observation at the <em>p</em><sup>th</sup> and <em>q</em><sup>th</sup> levels of A and B respectively, where <em>r</em> = 0, 1, &#8230;, <em>L</em> &#8211; 1.</p><p class="Body">Let</p><p class="Indent1"><em>a</em> = |A levels|</p><p class="Indent1"><em>b</em> = |B levels|</p><p class="Indent1"><img src="noloc_eq_2dan1.gif"></p><p class="Indent1"><img src="noloc_eq_2dan2.gif"></p><p class="Indent1"><img src="noloc_eq_2dan3.gif"></p><p class="Indent1"><img src="noloc_eq_2dan4.gif"></p><p class="Indent1"><img src="noloc_eq_2dan5.gif"></p><p class="Indent1"><img src="noloc_eq_2dan6.gif"></p><p class="Indent1"><img src="noloc_eq_2dan7.gif"></p><p class="Indent1"><img src="loc_eq_2dan8.gif"></p><p class="Body">then</p><p class="Indent1"><img src="noloc_eq_2dan9a.gif"></p><p class="Indent1"><img src="noloc_eq_2dan10.gif"></p><p class="Indent1"><img src="noloc_eq_2dan11.gif"></p><p class="Indent1"><em>dofab</em> = (<em>a</em> &#8211; 1)(<em>b</em> &#8211; 1) if <em>L</em> &gt; 1</p><p class="Indent1"><em>dofab</em> = 0 if <em>L</em> = 1</p><p class="Indent1"><img src="noloc_eq_2dan12.gif"></p><p class="Indent1"><em>dofe</em> = <em>ab</em>(<em>L</em> &#8211; 1) if <em>L</em> &gt; 1</p><p class="Indent1"><em>dofe</em> = (<em>a</em> &#8211; 1)(<em>b</em> &#8211; 1) if <em>L</em> = 1</p><p class="Indent1"><img src="noloc_eq_2dan13.gif"></p><p class="Indent1"><img src="loc_eq_2dan14.gif"></p><p class="Indent1"><img src="loc_eq_2dan15.gif"></p><p class="Indent1"><img src="loc_eq_2dan16.gif"></p><p class="Indent1"><img src="loc_eq_2dan17.gif"></p><p class="Indent1"><strong>sigA</strong> = Prob{F<sub><em>a</em> &#8211; 1, <em>ab</em>(<em>L</em> &#8211; 1)</sub> &gt; fa}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if B is fixed</p><p class="Indent1"><strong>sigA</strong> = Prob{F<sub><em>a</em> &#8211; 1, (<em>a</em> &#8211; 1)(<em>b</em> &#8211; 1)</sub> &gt; fa}&nbsp;&nbsp;&nbsp;&nbsp;if B is random</p><p class="Indent1"><strong>sigB</strong> = Prob{F<sub><em>a</em> &#8211; 1, <em>ab</em>(<em>L</em> &#8211; 1)</sub> &gt; fb}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if A is fixed</p><p class="Indent1"><strong>sigB</strong> = Prob{F<sub><em>a</em> &#8211; 1, (<em>a</em> &#8211; 1)(<em>b</em> &#8211; 1)</sub> &gt; fb}&nbsp;&nbsp;&nbsp;&nbsp;if A is random</p><p class="Indent1"><strong>sigAB</strong> = Prob{F<sub>(<em>a</em> &#8211; 1)(<em>b</em> &#8211; 1), <em>ab</em>(<em>L</em> &#8211; 1)</sub> &gt; fab}</p><!--Module Specific Content--><script type="text/javascript">if (typeof(writeVarRefs)=="function"){writeVarRefs("977");}</script><!-- Example Information --></div></body></HTML>