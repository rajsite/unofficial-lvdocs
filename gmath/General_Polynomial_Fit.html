<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><!--Generated from database. Edit in the database; do not edit this file.--><!--VI id="874"--><HTML><head><!--LabVIEW VI path:vi.lib\Analysis\6fits.llb\General Polynomial Fit.vi--><TITLE>General Polynomial Fit VI</TITLE><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252"><meta http-equiv="Content-Style-Type" content="text/css"><link rel="STYLESHEET" type="text/css" href="minimal.css"><script src="common.js" type="text/javascript"></script><script src="jquery-1.7.2.min.js" type="text/javascript"></script><script src="cssframes.js" type="text/javascript"></script><link media="print" rel="stylesheet" type="text/css" href="print.css"></head><body bgcolor="#ffffff"><noscript><p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p><hr width="100%" noshade></noscript><div id="styleDivTitle"><!-- VI or Function Name --><H1>General Polynomial Fit VI</H1><!--Owning Palette--><p class="Body"><strong>Owning Palette:</strong> <a href="../gmath/Curve_Fitting_VIs.html">Fitting VIs</a></p><!--Package and Platform--><p class="Body"><strong>Requires:</strong> Full Development System</p><!-- VI/Function Description --><p class="Body">Returns the polynomial fit of <strong>polynomial order</strong> for a data set (<strong>X</strong>, <strong>Y</strong>) using the Least Square, Least Absolute Residual, or Bisquare method.</p><!-- Supplemental VI/Function Information --><!-- Link to Additional VI/Function Information --><p class="Body"><a href="#details">Details</a>&nbsp;&nbsp;<a href="#examples">Example</a></p><!-- Graphic Reference --><MAP NAME="connector_pane"><AREA SHAPE="rect" COORDS="0,8,114,17" HREF="#Input0"><AREA SHAPE="rect" COORDS="0,22,114,33" HREF="#Input1"><AREA SHAPE="rect" COORDS="0,37,114,45" HREF="#Input2"><AREA SHAPE="rect" COORDS="0,51,114,59" HREF="#Input3"><AREA SHAPE="rect" COORDS="0,64,114,75" HREF="#Input4"><AREA SHAPE="rect" COORDS="0,78,114,87" HREF="#Input5"><AREA SHAPE="rect" COORDS="0,92,114,101" HREF="#Input6"><AREA SHAPE="rect" COORDS="0,106,114,117" HREF="#Input7"><AREA SHAPE="rect" COORDS="239,36,330,47" HREF="#Output0"><AREA SHAPE="rect" COORDS="239,50,351,61" HREF="#Output1"><AREA SHAPE="rect" COORDS="239,67,265,73" HREF="#Output2"><AREA SHAPE="rect" COORDS="239,78,276,87" HREF="#Output3"></MAP><p class="Anchor"><img src="General_Polynomial_Fit.gif" usemap="#connector_pane" border="0"></p><!--Add/Find Buttons--><table class="Borderless"><tr><td><a href="javascript:placeObject(object874);"><img src="add.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Add to the block diagram</td><td><a href="javascript:findObject(object874);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find on the palette</td></tr></table></div><div id="styleDivScrolling"><!-- Table of VI/Function Parameters --><table class="Borderless"><tr><td class="Icon"><a name="Input0"></a><img src="c1dnclst.gif"></td><td><strong>Coefficient Constraint</strong> specifies the constraints on <strong>Polynomial Coefficients</strong> of certain orders by setting the coefficient of <strong>order</strong> to <strong>coefficient</strong>. Use <strong>Coefficient Constraint</strong> if you know the exact values of certain polynomial coefficients. <table class="Borderless"><tr><td class="Icon"><img src="ci32.gif"></td><td><strong>order</strong> specifies the constrained order. </td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>coefficient</strong> sets the coefficient of the specified <strong>order</strong>. </td></tr></table></td></tr><tr><td class="Icon"><a name="Input1"></a><img src="ci32.gif"></td><td><strong>polynomial order</strong> specifies the order of the polynomial that fits to the data set. The default is 2. <strong>polynomial order</strong> must be greater than or equal to 0. If <strong>polynomial order</strong> is less than zero, this VI sets <strong>Polynomial Coefficients</strong> to an empty array and returns an error. In real applications, <strong>polynomial order</strong> is less than 10. If <strong>polynomial order</strong> is greater than 25, the VI sets the coefficients in <strong>Polynomial Coefficients</strong> to zero and returns a warning. If <strong>polynomial order</strong> is high, a large range of <strong>X</strong> causes the polynomial fit result to diverge.</td></tr><tr><td class="Icon"><a name="Input2"></a><img src="c1ddbl.gif"></td><td><strong>Y</strong> is the array of dependent values. The number of sample points in <strong>Y</strong> must be greater than <strong>polynomial order</strong>. If the number of sample points is less than or equal to <strong>polynomial order</strong>, this VI sets <strong>Polynomial Coefficients</strong> to an empty array and returns an error. </td></tr><tr><td class="Icon"><a name="Input3"></a><img src="c1ddbl.gif"></td><td><strong>X</strong> is the array of independent values. The number of sample points in <strong>X</strong> must be greater than <strong>polynomial order</strong>. If the number of sample points is less than or equal to <strong>polynomial order</strong>, this VI sets <strong>Polynomial Coefficients</strong> to an empty array and returns an error. <strong>X</strong> must be the same size as <strong>Y</strong>. </td></tr><tr><td class="Icon"><a name="Input4"></a><img src="c2ddbl.gif"></td><td><strong>Weight</strong> is the array of weights for the observations (<strong>X</strong>, <strong>Y</strong>). <strong>Weight</strong> must be the same size as <strong>Y</strong>. If you do not wire an input to <strong>Weight</strong>, the VI sets all elements of <strong>Weight</strong> to 1. If an element of <strong>Weight</strong> is less than 0, the VI uses the absolute value of the element.</td></tr><tr><td class="Icon"><a name="Input5"></a><img src="cdbl.gif"></td><td><strong>tolerance</strong> determines when to stop the iterative adjustment of <strong>Polynomial Coefficients</strong> when you use the Least Absolute Residual or Bisquare methods. For the Least Absolute Residual method, if the relative difference between <strong>residue</strong> in two successive iterations is less than <strong>tolerance</strong>, this VI returns the resulting <strong>Polynomial Coefficients</strong>. For the Bisquare method, if any relative difference between <strong>Polynomial Coefficients</strong> in two successive iterations is less than <strong>tolerance</strong>, this VI returns the resulting <strong>Polynomial Coefficients</strong>. <br><br>If <strong>tolerance</strong> is less than or equal to 0, the VI sets <strong>tolerance</strong> to 0.0001.</td></tr><tr><td class="Icon"><a name="Input6"></a><img src="cu16.gif"></td><td><strong>method</strong> specifies the fitting method. <br><br><table class="Bordered"><tr><td class = "Bordered">0</td><td class = "Bordered">Least Square (default)</td></tr><tr><td class = "Bordered">1</td><td class = "Bordered">Least Absolute Residual</td></tr><tr><td class = "Bordered">2</td><td class = "Bordered">Bisquare</td></tr></table></td></tr><tr><td class="Icon"><a name="Input7"></a><img src="cu16.gif"></td><td><strong>algorithm</strong> specifies the algorithm the VI uses to compute <strong>Best Polynomial Fit</strong>. Use <span class="Monospace">SVD for Rank Deficient H</span> if all other algorithms are unsuccessful. <br><br><table class="Bordered"><tr><td class = "Bordered">0</td><td class = "Bordered">SVD (default)</td></tr><tr><td class = "Bordered">1</td><td class = "Bordered">Givens</td></tr><tr><td class = "Bordered">2</td><td class = "Bordered">Givens2</td></tr><tr><td class = "Bordered">3</td><td class = "Bordered">Householder</td></tr><tr><td class = "Bordered">4</td><td class = "Bordered">LU Decomposition</td></tr><tr><td class = "Bordered">5</td><td class = "Bordered">Cholesky</td></tr><tr><td class = "Bordered">6</td><td class = "Bordered">SVD for Rank Deficient H</td></tr></table></td></tr><tr><td class="Icon"><a name="Output0"></a><img src="i1ddbl.gif"></td><td><strong>Best Polynomial Fit</strong> returns the y-values of the polynomial curve that best fits the input values. </td></tr><tr><td class="Icon"><a name="Output1"></a><img src="i1ddbl.gif"></td><td><strong>Polynomial Coefficients</strong><!--Begin child: ../ptbypt/General_Polynomial_Fit_Pt.html#Output1--> returns the coefficients of the fitted model in ascending order of power. The total number of elements in <strong>Polynomial Coefficients</strong> is <em>m</em> + 1, where <em>m</em> is the polynomial order.<!--End child: ../ptbypt/General_Polynomial_Fit_Pt.html#Output1--> </td></tr><tr><td class="Icon"><a name="Output2"></a><img src="ii32.gif"></td><td><strong>error</strong> returns any <a href="../lverror/Error_Code_Ranges.html">error</a> or warning from the VI. You can wire <strong>error</strong> to the <a href="../glang/Err_Cluster_from_Code.html">Error Cluster From Error Code</a> VI to convert the error code or warning into an error cluster. </td></tr><tr><td class="Icon"><a name="Output3"></a><img src="idbl.gif"></td><td><strong>residue</strong> returns the weighted mean error of the fitted model. If <strong>method</strong> is <span class="Monospace">Least Absolute Residual</span>, <strong>residue</strong> is the weighted mean absolute error. Otherwise, <strong>residue</strong> is the weighted mean square error. </td></tr></table><!-- Additional VI/Function Information --><h2><a name="details">General Polynomial Fit Details</a></h2><p class="Body">This VI fits data to a polynomial function of the general form described by the following equation:</p><p class="Indent1"><img src="noloc_eq_genpf1.gif"></p><p class="Body">where <em>f</em> represents the output sequence <strong>Best Polynomial Fit</strong>, <em>x</em> represents the input sequence <strong>X</strong>, <em>a</em> represents <strong>Polynomial Coefficients</strong>, and <em>m</em> represents <strong>polynomial order</strong>. This VI finds the value of <em>a</em> that best fits the observations (<strong>X</strong>, <strong>Y</strong>).</p><p class="Body">The following equation specifically describes the polynomial curve resulting from the general polynomial fit algorithm:</p><p class="Indent1"><img src="noloc_eq_genpf2.gif"></p><p class="Body">If the noise of <strong>Y</strong> is Gaussian distributed, use the Least Square method. The following illustration shows the general polynomial fit result using this method.</p><p class="Anchor"><img src="loc_fp_gen_poly_fit_1.gif"></p><p class="Body">When you use the Least Square method, this VI finds the <strong>Polynomial Coefficients</strong> of the polynomial model by minimizing the <strong>residue</strong> according to the following equation:</p><p class="Indent1"><img src="noloc_eq_linear_fit_theory_2.gif"></p><p class="Body">where <em>N</em> is the length of <strong>Y</strong>, <em>w</em><em><sub>i</sub></em> is the <em>i</em><sup>th</sup> element of <strong>Weight</strong>, <em>f</em><em><sub>i</sub></em> is the <em>i</em><sup>th</sup> element of <strong>Best Polynomial Fit</strong>, and <em>y</em><em><sub>i</sub></em> is the <em>i</em><sup>th</sup> element of <strong>Y</strong>.</p><p class="Body">The Least Absolute Residual and Bisquare fitting methods are robust fitting methods. Use these methods if outliers in the observations exist. The following illustration compares the fit results of the Least Square, Least Absolute Residual, and Bisquare fitting methods. In most cases, the Bisquare method is less sensitive to outliers than the Least Absolute Residual method.</p><p class="Anchor"><img src="loc_fp_gen_poly_fit_2.gif"></p><p class="Body">When you use the Least Absolute Residual method, this VI finds the <strong>Polynomial Coefficients</strong> of the polynomial model by minimizing the <strong>residue</strong> according to the following equation:</p><p class="Indent1"><img src="noloc_eq_linear_fit_theory_4.gif"></p><p class="Body">When you use the Bisquare method, this VI obtains the <strong>Polynomial Coefficients</strong> using an iterative process, as shown in the following illustration, and calculates the <strong>residue</strong> using the same formula as in the Least Square method.</p><p class="Anchor"><img src="loc_eps_polynomial_fit_flowchart.gif"></p><!--Module Specific Content--><script type="text/javascript">if (typeof(writeVarRefs)=="function"){writeVarRefs("874");}</script><!-- Example Information --><h2><a name="examples">Example</a></h2><p class="Body">Refer to the Regression Solver VI in the <span class="Monospace">labview\examples\Mathematics\Fitting</span> directory for an example of using the General Polynomial Fit VI.</p><p class="Body"><a href="javascript:openVI('examples%5C%5CMathematics%5C%5CFitting%5C%5CRegression%20Solver.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open example&nbsp;<a href="javascript:findExamples(3739);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find related examples</p></div></body></HTML>