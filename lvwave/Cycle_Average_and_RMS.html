<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><head><!--Generated from database. Edit in the database; do not edit this file.--><!--Poly VI id="1208"--><!--LabVIEW VI path:vi.lib\measure\mascope.llb\Cycle Average and RMS.vi--><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252"><meta http-equiv="Content-Style-Type" content="text/css"><TITLE>Cycle Average and RMS VI</TITLE><link rel="STYLESHEET" type="text/css" href="minimal.css"><script src="common.js" type="text/javascript"></script><script src="polyviselect.js" type="text/javascript"></script><script src="jquery-1.7.2.min.js" type="text/javascript"></script><script src="cssframes.js" type="text/javascript"></script><link media="print" rel="stylesheet" type="text/css" href="print.css"></head><body bgcolor="#ffffff"><noscript><p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p><hr width="100%" noshade></noscript><div id="styleDivTitle"><!-- VI or Function Name --><H1>Cycle Average and RMS VI</H1><!--Owning Palette--><p class="Body"><strong>Owning Palette:</strong> <a href="../lvwave/Waveform_Measurement_VIs.html">Waveform Measurements VIs</a></p><!--Package and Platform--><p class="Body"><strong>Requires:</strong> Full Development System</p><!-- VI/Function Description --><p class="Body">Returns the average and RMS levels of a selected cycle of a periodic waveform or an array of periodic waveforms. Wire data to the <strong>signal in</strong> input to determine the polymorphic instance to use or <a href="../lvhowto/SelectingDefaultInstPolyVI.html">manually select</a> the instance.</p><!-- Supplemental VI/Function Information --><table class="Borderless"><tr><td class="Icon"><img src="note.gif"></td><td><strong>Note</strong>&nbsp;&nbsp;The terminology and measurement definitions for this VI comply with <em>IEEE Standard 181-2003</em>, <em>IEEE Standard on Transitions, Pulses, and Related Waveforms</em>.</td></tr></table><!-- Link to Additional VI/Function Information --><p class="Body"><a href="#examples">Examples</a></p><!--Instance drop-down list--><p class="Body">Use the pull-down menu to select an instance of this VI.</p><table class="Borderless">   <tr>   <td>      <select name="site" size="1" onchange="polyVISelectHandler(this)">      <option value="">Select an instance</option>      <option value="#parent">Cycle Average and RMS 1 chan</option><option value="#instance1">Cycle Average and RMS N chan</option></select>   </td>      </tr>   </table><!--Add/Find Buttons--><table class="Borderless"><tr><td><a href="javascript:placeObject(object1208);"><img src="add.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Add to the block diagram</td><td><a href="javascript:findObject(object1208);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find on the palette</td></tr></table></div><div id="styleDivScrolling"><!--Parent Link Text --><h2><a name="parent">Cycle Average and RMS 1 chan</a></h2><!-- Instance 1 Note --><!-- Parent Graphic Reference --><p class="Anchor"><img src="Cycle_Average_and_RMS_1_chan.gif"></p><!-- Table of VI/Function Parameters --><table class="Borderless"><tr><td class="Icon"><img src="ci32.gif"></td><td><strong>cycle number</strong> specifies the cycle, or period, of the periodic signal on which to perform the measurement. </td></tr><tr><td class="Icon"><img src="cmsdt.gif"></td><td><strong>signal in</strong> is the waveform to measure. Each waveform is required to contain at least <strong>cycle number</strong> complete cycles, where a cycle is defined as the interval between two consecutive rising <strong>mid ref level</strong> crossings. </td></tr><tr><td class="Icon"><img src="cnclst.gif"></td><td><strong>reference levels</strong> specifies the high, middle, and low reference levels of a waveform. LabVIEW uses the <a href="../lvwave/State_and_Reference_Levels.html">reference levels</a> to define the measurement interval of one complete cycle. The distance between the <strong>mid ref level</strong> and the <strong>high ref level</strong> must equal the distance between the <strong>low ref level</strong> and the <strong>mid ref level</strong>. If the two distances are not equal, LabVIEW adjusts either the <strong>high ref level</strong> or the <strong>low ref level</strong> to match the smaller of the two distances. For example, if you specify a <strong>high ref level</strong> of 90%, a <strong>mid ref level</strong> of 50%, and a <strong>low ref level</strong> of 20%, LabVIEW uses 80% instead of 90% for the <strong>high ref level</strong>.<table class="Borderless"><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>high ref level</strong> specifies the high reference level of the waveform in percent (default) or absolute units. After the signal crosses the <strong>mid ref level</strong> in the rising direction, it must cross the <strong>high ref level</strong> before the next falling <strong>mid ref level</strong> crossing can be counted.</td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>mid ref level</strong> specifies the middle reference level in percent (default) or absolute units. The interval between consecutive rising <strong>mid ref level</strong> crossings defines one cycle, or period, of the waveform. At least one high/low reference level crossing must separate each <strong>mid ref level</strong> crossing.</td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>low ref level</strong> specifies the low reference level of the waveform in percent (default) or absolute units. After the signal crosses the<strong> mid ref level</strong> in the falling direction, it must cross the <strong>low ref level</strong> before the next rising <strong>mid ref level</strong> crossing can be counted.</td></tr><tr><td class="Icon"><img src="cu16.gif"></td><td><strong>ref units</strong> specifies whether the <strong>high ref level</strong>, <strong>mid ref level</strong>, and <strong>low ref level</strong> inputs are interpreted as a percentage (default) of the full range of the waveform or as absolute levels. </td></tr></table></td></tr><tr><td class="Icon"><img src="cerrcodeclst.gif"></td><td><strong>error in</strong> describes error conditions that occur before this node runs. This input provides <a href="../lvconcepts/using_standard_error_in.html">standard error in</a> functionality. </td></tr><tr><td class="Icon"><img src="cnclst.gif"></td><td><strong>percent level settings</strong> specifies the method LabVIEW uses to determine the high and low state levels of a waveform. If you select percent <strong>ref units</strong>, <strong>percent level settings</strong> determines the <a href="State_and_Reference_Levels.html">reference levels</a>. Otherwise, LabVIEW ignores this input.<table class="Borderless"><tr><td class="Icon"><img src="cenum.gif"></td><td><strong>method</strong> specifies how LabVIEW computes the high and low state levels of the waveform. <br><br><table class="Bordered"><tr><td class = "Bordered">0</td><td class = "Bordered"><strong>Histogram</strong>&#8212;Returns the levels of the histogram bins with the maximum number of hits in the upper and lower regions of the waveform. The upper and lower regions of the waveform include the upper and lower 40%, respectively, of the peak-to-peak range of the waveform.</td></tr><tr><td class = "Bordered">1</td><td class = "Bordered"><strong>Peak</strong>&#8212;Searches the entire waveform for its maximum and minimum levels.</td></tr><tr><td class = "Bordered">2</td><td class = "Bordered"><strong>Auto select</strong> (default)&#8212;Determines whether the histogram bins that correspond to the high and low state levels each have over 5% of the total hits. If so, LabVIEW returns those results. Otherwise, LabVIEW uses the <strong>peak</strong> method. This ensures a reasonable answer for either a square wave (ignoring the overshoot and undershoot) or a triangle wave (where a histogram fails).</td></tr></table></td></tr><tr><td class="Icon"><img src="ci32.gif"></td><td><strong>histogram size</strong> specifies the number of bins in the histogram LabVIEW uses to determine the high and low state levels of the waveform. </td></tr><tr><td class="Icon"><img src="cenum.gif"></td><td><strong>histogram method</strong> specifies how LabVIEW computes the high and low state levels of the waveform. Currently, <strong>mode</strong> is the only available <strong>histogram method</strong>. <br><br><table class="Bordered"><tr><td class = "Bordered">0</td><td class = "Bordered">mode</td></tr></table></td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>reserved</strong> is reserved for future use. </td></tr></table></td></tr><tr><td class="Icon"><img src="idbl.gif"></td><td><strong>cycle average</strong> is the mean level of one complete period of a periodic input waveform. The average is computed by the following equation.<p class="Indent1"><img src="loc_eq_cycleavg.gif"></p>where <em>i</em> indicates the waveform samples that fall in the single period specified by <strong>cycle number</strong> and <em>numPoints</em> is given by the following equation.<p class="Indent1"><em>numPoints</em> = int(<em>period</em>/<em>dt</em> + .5)</p>where <em>dt</em> is the time between two samples and int( ) is a function that returns the integer portion of a floating-point number.<br><br>The cycle average of a perfect sine wave is zero, while the average level of the entire waveform can be nonzero due to partial periods at the boundaries of the waveform.</td></tr><tr><td class="Icon"><img src="idbl.gif"></td><td><strong>cycle RMS</strong> is the root mean square value of one complete period of a periodic input waveform. The RMS value is computed by the following equation.<p class="Indent1"><img src="loc_eq_cyclerms.gif"></p>where <em>i</em> indicates the waveform samples that fall in the single period specified by <strong>cycle number</strong> and <em>numPoints</em> is given by the following equation.<p class="Indent1"><em>numPoints</em> = int(<em>period</em>/<em>dt</em> + .5)</p>where <em>dt</em> is the time between two points and int( ) is a function that returns the integer portion of a floating-point number.</td></tr><tr><td class="Icon"><img src="ierrcodeclst.gif"></td><td><strong>error out</strong> contains error information. This output provides <a href="../lvconcepts/using_standard_error_out.html">standard error out</a> functionality. </td></tr><tr><td class="Icon"><img src="icclst.gif"></td><td><strong>measurement info</strong> returns the measurement cycle interval endpoints and the absolute reference levels used to define the measurement cycle. <table class="Borderless"><tr><td class="Icon"><img src="idbl.gif"></td><td><strong>start time</strong> specifies the time of the rising <strong>mid ref level</strong> crossing that defines the start of the measurement interval. </td></tr><tr><td class="Icon"><img src="idbl.gif"></td><td><strong>end time</strong> specifies the time of the rising <strong>mid ref level</strong> crossing that defines the end of the measurement interval. </td></tr><tr><td class="Icon"><img src="inclst.gif"></td><td><strong>ref levels</strong> returns the three user-defined reference levels of the waveform in absolute units. LabVIEW uses the <a href="../lvwave/State_and_Reference_Levels.html">reference levels</a> to define the interval of one cycle measurement.<table class="Borderless"><tr><td class="Icon"><img src="idbl.gif"></td><td><strong>high ref level</strong> returns the high reference level. </td></tr><tr><td class="Icon"><img src="idbl.gif"></td><td><strong>mid ref level</strong> returns the middle reference level. </td></tr><tr><td class="Icon"><img src="idbl.gif"></td><td><strong>low ref level</strong> returns the low reference level. </td></tr><tr><td class="Icon"><img src="iu16.gif"></td><td><strong>ref units</strong> is always absolute in <strong>measurement info</strong>. </td></tr></table></td></tr></table></td></tr></table><!-- Instance 1 Link Text --><h2><a name="instance1">Cycle Average and RMS N chan</a></h2><!--LabVIEW VI Inst Path:vi.lib\measure\mascope.llb\Cycle Average and RMS N chan.vi--><!-- Instance 1 Note --><!-- Instance 1 Graphic Reference --><p class="Anchor"><img src="Cycle_Average_and_RMS_N_chan.gif"></p><!-- Table of VI/Function Parameters for Instance 1 --><table class="Borderless"><tr><td class="Icon"><img src="ci32.gif"></td><td><strong>cycle number</strong> specifies the cycle, or period, of the periodic signal on which to perform the measurement. </td></tr><tr><td class="Icon"><img src="c1dmsdt.gif"></td><td><strong>signal(s) in</strong> is an array of waveforms containing the signals to measure. Each waveform is required to contain at least <strong>cycle number</strong> complete cycles, where a cycle is defined as the interval between two consecutive rising <strong>mid ref level</strong> crossings. </td></tr><tr><td class="Icon"><img src="cnclst.gif"></td><td><strong>reference levels</strong> specifies the high, middle, and low reference levels of a waveform. LabVIEW uses the <a href="../lvwave/State_and_Reference_Levels.html">reference levels</a> to define the measurement interval of one complete cycle. The distance between the <strong>mid ref level</strong> and the <strong>high ref level</strong> must equal the distance between the <strong>low ref level</strong> and the <strong>mid ref level</strong>. If the two distances are not equal, LabVIEW adjusts either the <strong>high ref level</strong> or the <strong>low ref level</strong> to match the smaller of the two distances. For example, if you specify a <strong>high ref level</strong> of 90%, a <strong>mid ref level</strong> of 50%, and a <strong>low ref level</strong> of 20%, LabVIEW uses 80% instead of 90% for the <strong>high ref level</strong>.<table class="Borderless"><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>high ref level</strong> specifies the high reference level of the waveform in percent (default) or absolute units. After the signal crosses the <strong>mid ref level</strong> in the rising direction, it must cross the <strong>high ref level</strong> before the next falling <strong>mid ref level</strong> crossing can be counted.</td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>mid ref level</strong> specifies the middle reference level in percent (default) or absolute units. The interval between consecutive rising <strong>mid ref level</strong> crossings defines one cycle, or period, of the waveform. At least one high/low reference level crossing must separate each <strong>mid ref level</strong> crossing.</td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>low ref level</strong> specifies the low reference level of the waveform in percent (default) or absolute units. After the signal crosses the<strong> mid ref level</strong> in the falling direction, it must cross the <strong>low ref level</strong> before the next rising <strong>mid ref level</strong> crossing can be counted.</td></tr><tr><td class="Icon"><img src="cu16.gif"></td><td><strong>ref units</strong> specifies whether the <strong>high ref level</strong>, <strong>mid ref level</strong>, and <strong>low ref level</strong> inputs are interpreted as a percentage (default) of the full range of the waveform or as absolute levels. </td></tr></table></td></tr><tr><td class="Icon"><img src="cerrcodeclst.gif"></td><td><strong>error in</strong> describes error conditions that occur before this node runs. This input provides <a href="../lvconcepts/using_standard_error_in.html">standard error in</a> functionality. </td></tr><tr><td class="Icon"><img src="cnclst.gif"></td><td><strong>percent level settings</strong> specifies the method LabVIEW uses to determine the high and low state levels of a waveform. If you select percent <strong>ref units</strong>, <strong>percent level settings</strong> determines the <a href="State_and_Reference_Levels.html">reference levels</a>. Otherwise, LabVIEW ignores this input.<table class="Borderless"><tr><td class="Icon"><img src="cenum.gif"></td><td><strong>method</strong> specifies how LabVIEW computes the high and low state levels of the waveform. <br><br><table class="Bordered"><tr><td class = "Bordered">0</td><td class = "Bordered"><strong>Histogram</strong>&#8212;Returns the levels of the histogram bins with the maximum number of hits in the upper and lower regions of the waveform. The upper and lower regions of the waveform include the upper and lower 40%, respectively, of the peak-to-peak range of the waveform.</td></tr><tr><td class = "Bordered">1</td><td class = "Bordered"><strong>Peak</strong>&#8212;Searches the entire waveform for its maximum and minimum levels.</td></tr><tr><td class = "Bordered">2</td><td class = "Bordered"><strong>Auto select</strong> (default)&#8212;Determines whether the histogram bins that correspond to the high and low state levels each have over 5% of the total hits. If so, LabVIEW returns those results. Otherwise, LabVIEW uses the <strong>peak</strong> method. This ensures a reasonable answer for either a square wave (ignoring the overshoot and undershoot) or a triangle wave (where a histogram fails).</td></tr></table></td></tr><tr><td class="Icon"><img src="ci32.gif"></td><td><strong>histogram size</strong> specifies the number of bins in the histogram LabVIEW uses to determine the high and low state levels of the waveform. </td></tr><tr><td class="Icon"><img src="cenum.gif"></td><td><strong>histogram method</strong> specifies how LabVIEW computes the high and low state levels of the waveform. Currently, <strong>mode</strong> is the only available <strong>histogram method</strong>. <br><br><table class="Bordered"><tr><td class = "Bordered">0</td><td class = "Bordered">mode</td></tr></table></td></tr><tr><td class="Icon"><img src="cdbl.gif"></td><td><strong>reserved</strong> is reserved for future use. </td></tr></table></td></tr><tr><td class="Icon"><img src="i1ddbl.gif"></td><td><strong>cycle average</strong> is an array containing the cycle average of each waveform in <strong>signal(s) in</strong>. <strong>cycle average</strong> is the mean level of one complete period of a periodic input waveform. The average is computed by the following equation.<p class="Indent1"><img src="loc_eq_cycleavg.gif"></p>where <em>i</em> indicates the waveform samples that fall in the single period specified by <strong>cycle number</strong> and <em>numPoints</em> is given by the following equation.<p class="Indent1"><em>numPoints</em> = int(<em>period</em>/<em>dt</em> + .5)</p>where <em>dt</em> is the time between two samples and int( ) is a function that returns the integer portion of a floating-point number.<br><br>The cycle average of a perfect sine wave is zero, while the average level of the entire waveform can be nonzero due to partial periods at the boundaries of the waveform.</td></tr><tr><td class="Icon"><img src="i1ddbl.gif"></td><td><strong>cycle RMS</strong> is an array containing the cycle RMS value for each waveform in <strong>signal(s) in</strong>. <strong>cycle RMS</strong> is the root mean square value of one complete period of a periodic input waveform. The RMS value is computed by the following equation.<p class="Indent1"><img src="loc_eq_cyclerms.gif"></p>where <em>i</em> indicates the waveform samples that fall in the single period specified by <strong>cycle number</strong> and <em>numPoints</em> is given by the following equation.<p class="Indent1"><em>numPoints</em> = int(<em>period</em>/<em>dt</em> + .5)</p>where <em>dt</em> is the time between two points and int( ) is a function that returns the integer portion of a floating-point number.</td></tr><tr><td class="Icon"><img src="ierrcodeclst.gif"></td><td><strong>error out</strong> contains error information. This output provides <a href="../lvconcepts/using_standard_error_out.html">standard error out</a> functionality. </td></tr><tr><td class="Icon"><img src="i1dcclst.gif"></td><td><strong>measurement info</strong> is an array of clusters containing measurement information for each input waveform. <table class="Borderless"><tr><td class="Icon"><img src="idbl.gif"></td><td><strong>start time</strong> specifies the time of the rising <strong>mid ref level</strong> crossing that defines the start of the measurement interval. </td></tr><tr><td class="Icon"><img src="idbl.gif"></td><td><strong>end time</strong> specifies the time of the rising <strong>mid ref level</strong> crossing that defines the end of the measurement interval. </td></tr><tr><td class="Icon"><img src="inclst.gif"></td><td><strong>ref levels</strong> returns the three user-defined reference levels of the waveform in absolute units. LabVIEW uses the <a href="../lvwave/State_and_Reference_Levels.html">reference levels</a> to define the interval of one cycle measurement.<table class="Borderless"><tr><td class="Icon"><img src="idbl.gif"></td><td><strong>high ref level</strong> returns the high reference level. </td></tr><tr><td class="Icon"><img src="idbl.gif"></td><td><strong>mid ref level</strong> returns the middle reference level. </td></tr><tr><td class="Icon"><img src="idbl.gif"></td><td><strong>low ref level</strong> returns the low reference level. </td></tr><tr><td class="Icon"><img src="iu16.gif"></td><td><strong>ref units</strong> is always absolute in <strong>measurement info</strong>. </td></tr></table></td></tr></table></td></tr></table><!-- Additional VI/Function Information --><!--Module Specific Content--><script type="text/javascript">if (typeof(writeVarRefs)=="function"){writeVarRefs("1208");}</script><!-- Example Information --><h2><a name="examples">Examples</a></h2><p class="Body">Refer to the following VIs for examples of using the Cycle Average and RMS VI:</p><ul><li>Pulse and Transition Measurements VI: <span class="Monospace">labview\examples\Signal Processing\Waveform Measurements</span><p class="Body"><a href="javascript:openVI('examples%5C%5CSignal%20Processing%5C%5CWaveform%20Measurements%5C%5CPulse%20and%20Transition%20Measurements.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open example&nbsp;<a href="javascript:findExamples(3747);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find related examples</p></li><li>N channel Pulse and Transition Measurements VI: <span class="Monospace">labview\examples\Signal Processing\Waveform Measurements</span><p class="Body"><a href="javascript:openVI('examples%5C%5CSignal%20Processing%5C%5CWaveform%20Measurements%5C%5CN%20channel%20Pulse%20and%20Transition%20Measurements.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open example&nbsp;<a href="javascript:findExamples(3747);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find related examples</p></li></ul></div></body></HTML>