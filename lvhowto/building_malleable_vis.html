<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>


<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<!-- Unit name: 2900Epolymorphvihlp -->


<title>Building Malleable VIs</title>
<link rel="STYLESHEET" type="text/css" href="minimal.css">
<script src="common.js" type="text/javascript"></script>





</head>
<body bgcolor="#ffffff">

<noscript>
<p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p>
<hr width="100%" noshade>
</noscript>

<!-- WARNING: This topic has a redirect to it in lvhelp. If you want to delete this file or move it to another CHM, you must update that redirect. -->

<h1>Building Malleable VIs</h1>

<p>Build <a href="../lvconcepts/malleable_vis_intro.html">malleable VIs</a> to perform the same operation on any acceptable data type instead of saving a separate copy of the VI for each data type. Malleable VIs are useful if an operation can be implemented in similar ways for different data types without significant customization for a specific data type. If the operation must be implemented differently across data types or if the sets of terminals differ across data types, <a href="Using_Polymorphic_VIs.html">build a polymorphic VI</a> instead.</p>

<p>You can create a malleable VI in the following ways:</p>
<ul>
<li>To create a new, blank malleable VI, select <strong>File&#0187;New</strong> and select <strong>Malleable VI</strong> from the <strong>New</strong> dialog box.</li>
<li>To convert an existing VI into a malleable VI, set the file extension to <span class="Monospace">.vim</span>. If the existing VI is not configured to be <a href="../lvconcepts/VI_Execution_Speed.html#SubVI_Overhead">inlined</a> into its calling VIs, the malleable VI appears broken. You must configure the malleable VI to be inlined by selecting <strong>File&#0187;VI Properties&#0187;Execution</strong>, enabling the <strong>Inline subVI into calling VIs</strong> and <strong>Preallocated clone reentrant execution</strong> options, and disabling the <strong>Allow debugging</strong> and <strong>Enable automatic error handling</strong> options.
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif" alt="Note"></td>
<td><strong>Note</strong>&nbsp;&nbsp;You can convert only standard VIs into malleable VIs. You cannot convert polymorphic VIs, global VIs, or XControl abilities into malleable VIs.</td>
</tr>
</table></li>
</ul>
<p>When you place a malleable VI on the block diagram, the inputs and outputs display the default data types. If you wire a control, indicator, or constant to an input or output, the input or output adapts to the wired data type.</p>
<p>For example, in the <a href="../glang/sort_2d_array.html">Sort 2D Array</a> malleable VI, the <strong>2D array</strong> input and the <strong>sorted 2D array</strong> output accept 2D arrays of any data type except refnums, with 2D array of variant as the default data type. If you wire a 2D array of string to <strong>2D array</strong>, the data types of <strong>2D array</strong> and <strong>sorted 2D array</strong> both change to 2D array of string. However, if you wire a 1D array to <strong>2D array</strong>, the VI appears broken because this malleable VI is not implemented to accept 1D arrays.</p>
<p>You can build specialized malleable VIs for the following purposes using the <a href="../glang/type_specialization_structure.html">Type Specialization</a> structure and the <a href="../glang/assert_type_palette.html">Assert Type</a> VIs and functions:</p>
<ul>
<li>Customizing sections of code in a malleable VI for specific data types</li>
<li>Forcing a malleable VI to accept only a subset of the acceptable data types</li>
<li>Forcing a malleable VI to decline specific data types</li>
</ul>
<p>For example, the Sort 2D Array malleable VI uses the Type Specialization structure to behave differently when <strong>index</strong> is an integer versus an array of integers so that the malleable VI works in an expected way for both data types. The <strong>index</strong> input coerces integer types other than signed 32-bit integers to signed 32-bit integers. You can force <strong>index</strong> to accept signed 32-bit integers only using the <a href="../glang/assert_integer_type.html">Assert Integer Type</a> VI.</p> <p>Because malleable VIs are inherently polymorphic, they accept any data type that does not cause syntax errors. NI recommends that you allow coercion in your malleable VIs for better code reusability. Restrict the data types a malleable VI can accept only if your application meets one of the following conditions:</p>
<ul>
<li>Coercion causes significant performance burden.</li>
<li>Specific data types in the context of the application are meaningless.</li>
</ul>
<h2>Related Information</h2>
<p class="Body"><a href="debugging_malleable_vis.html">Debugging Malleable VIs</a></p>
<p class="Body"><a href="../lvconcepts/choosing_between_vim_and_polymorphic.html">Choosing between Malleable VIs and Polymorphic VIs</a></p>
</body>
</html>