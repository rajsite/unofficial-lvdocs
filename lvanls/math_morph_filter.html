<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><!--Generated from database. Edit in the database; do not edit this file.--><!--VI id="5304"--><HTML><head><!--LabVIEW VI path:vi.lib\Analysis\3filter.llb\Mathematical Morphological Filter.vi--><TITLE>Mathematical Morphological Filter VI</TITLE><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252"><meta http-equiv="Content-Style-Type" content="text/css"><link rel="STYLESHEET" type="text/css" href="minimal.css"><script src="common.js" type="text/javascript"></script><script src="jquery-1.7.2.min.js" type="text/javascript"></script><script src="cssframes.js" type="text/javascript"></script><link media="print" rel="stylesheet" type="text/css" href="print.css"></head><body bgcolor="#ffffff"><noscript><p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p><hr width="100%" noshade></noscript><div id="styleDivTitle"><!-- VI or Function Name --><H1>Mathematical Morphological Filter VI</H1><!--Owning Palette--><p class="Body"><strong>Owning Palette:</strong> <a href="../lvanls/Filter_VIs.html">Filters VIs</a></p><!--Package and Platform--><p class="Body"><strong>Requires:</strong> Full Development System</p><!-- VI/Function Description --><p class="Body">Filters the input data sequence <strong>X</strong> with <strong>Structure Element</strong> using a mathematical morphological filter.</p><!-- Supplemental VI/Function Information --><!-- Link to Additional VI/Function Information --><p class="Body"><a href="#details">Details</a>&nbsp;&nbsp;</p><!-- Graphic Reference --><MAP NAME="connector_pane"><AREA SHAPE="rect" COORDS="0,13,100,23" HREF="#Input0"><AREA SHAPE="rect" COORDS="0,28,100,36" HREF="#Input1"><AREA SHAPE="rect" COORDS="0,41,100,50" HREF="#Input2"><AREA SHAPE="rect" COORDS="0,56,100,66" HREF="#Input3"><AREA SHAPE="rect" COORDS="0,69,100,80" HREF="#Input4"><AREA SHAPE="rect" COORDS="217,27,265,36" HREF="#Output0"><AREA SHAPE="rect" COORDS="217,54,244,60" HREF="#Output1"></MAP><p class="Anchor"><img src="Mathematical_Morphological_Filter.gif" usemap="#connector_pane" border="0"></p><!--Add/Find Buttons--><table class="Borderless"><tr><td><a href="javascript:placeObject(object5304);"><img src="add.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Add to the block diagram</td><td><a href="javascript:findObject(object5304);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find on the palette</td></tr></table></div><div id="styleDivScrolling"><!-- Table of VI/Function Parameters --><table class="Borderless"><tr><td class="Icon"><a name="Input0"></a><img src="cu16.gif"></td><td><strong>X extension type</strong> specifies the method by which to extend the input <strong>X</strong> at both ends of the sequence. <br><br><table class="Bordered"><tr><td class = "Bordered">0</td><td class = "Bordered"><strong>Zero padding</strong> (default)&#8212;Extends <strong>X</strong> by padding zeros to both ends of the original <strong>X</strong>.</td></tr><tr><td class = "Bordered">1</td><td class = "Bordered"><strong>Symmetric</strong>&#8212;Extends <strong>X</strong> to form a new sequence that is symmetric at both ends of the original <strong>X</strong>.</td></tr><tr><td class = "Bordered">2</td><td class = "Bordered"><strong>Periodic</strong>&#8212;Extends <strong>X</strong> to form a new sequence that is periodic at both ends of the original <strong>X</strong>.</td></tr></table></td></tr><tr><td class="Icon"><a name="Input1"></a><img src="c1ddbl.gif"></td><td><!--Begin child: ../ptbypt/Bessel_Filter_PtByPt.html--><strong>X</strong> is the input signal to filter.<!--End child: ../ptbypt/Bessel_Filter_PtByPt.html--> </td></tr><tr><td class="Icon"><a name="Input2"></a><img src="cdbl.gif"></td><td><strong>Structure Element</strong> specifies the structure element to use in the filtering process. </td></tr><tr><td class="Icon"><a name="Input3"></a><img src="cu16.gif"></td><td><strong>operation type</strong> specifies the fundamental operation of the morphological filter. <br><br><table class="Bordered"><tr><td class = "Bordered">0</td><td class = "Bordered"><strong>Dilation</strong> (default)&#8212;Specifies to perform dilation on the input sequence <strong>X</strong>.</td></tr><tr><td class = "Bordered">1</td><td class = "Bordered"><strong>Erosion</strong>&#8212;Specifies to perform erosion on the input sequence <strong>X</strong>.</td></tr></table></td></tr><tr><td class="Icon"><a name="Input4"></a><img src="cbool.gif"></td><td><strong>zero phase?</strong> specifies whether to perform zero-phase filtering of the signal. The default is TRUE. </td></tr><tr><td class="Icon"><a name="Output0"></a><img src="i1ddbl.gif"></td><td><strong>Filtered X</strong> returns the filtered signal. </td></tr><tr><td class="Icon"><a name="Output1"></a><img src="ii32.gif"></td><td><strong>error</strong> returns any <a href="../lverror/Error_Code_Ranges.html">error</a> or warning from the VI. You can wire <strong>error</strong> to the <a href="../glang/Err_Cluster_from_Code.html">Error Cluster From Error Code</a> VI to convert the error code or warning into an error cluster. </td></tr></table><!-- Additional VI/Function Information --><h2><a name="details">Mathematical Morphological Filter Details</a></h2><p class="Body">This VI concatenates the input signal <strong>X</strong> with a sequence of length <em>k</em> at both ends before filtering according to <strong>X extension type</strong>, where <em>k</em> is the length of <strong>Structure Element</strong>.</p><p class="Body">The following illustration represents the new sequence when <strong>X extension type</strong> is <span class="Monospace">Zero padding</span>.</p><p class="Anchor"><img src="loc_eps_morph_zeropad.gif"></p><p class="Body">The following illustration represents the new sequence when <strong>X extension type</strong> is <span class="Monospace">Symmetric</span>.</p><p class="Anchor"><img src="loc_eps_morph_symmetric.gif"></p><p class="Body">If <em>k</em> &gt; <em>n</em>, this VI pads <strong>X</strong> with <em>k</em> &#8211; <em>n</em> zeros at both ends of the new sequence, where <em>n</em> is the length of <strong>X</strong>.</p><p class="Body">The following illustration represents the new sequence when <strong>X extension type</strong> is <span class="Monospace">Periodic</span>.</p><p class="Anchor"><img src="loc_eps_morph_periodic.gif"></p><p class="Body">If <em>k</em> &gt; <em>n</em>, this VI periodically repeats <strong>X</strong> more than once at both ends of the sequence.</p><p class="Body">The Mathematical Morphological Filter VI can perform two basic operations, dilation and erosion.</p><h2 id="dilation">Dilation</h2><p class="Body">The dilation of a 1D signal <em>f</em> is defined as follows:</p><p class="Indent1"><em>D</em>(<em>i</em>) = max{<em>x</em>(<em>i</em> &#8211; <em>j</em>) + <em>s</em>(<em>j</em>)}, 0 <img src="leq.gif"> <em>i</em> <img src="leq.gif"> <em>n</em> &#8211; 1, 0 <img src="leq.gif"> <em>j</em> <img src="leq.gif"> <em>k</em> &#8211; 1</p><p class="Body">where <em>x</em><em>(</em>i) is the <em>i</em>-th element in <strong>X</strong> and <em>s</em>(<em>j</em>) is the <em>j</em>-th element in <strong>Structure Element</strong>.</p><p class="Body">The following front panel shows an example of the dilation effect. The original signal consists of two pulses with widths of 20 and the <strong>Structure Element</strong> is an array of ten zeros. The filtered signal expands the pulses in the original signal.</p><p class="Anchor"><img src="loc_fp_morph_dil.gif"></p><h2 id="erosion">Erosion</h2><p class="Body">The erosion of a 1D signal <em>f</em> is defined as follows:</p><p class="Indent1"><em>E</em>(<em>i</em>) = min{<em>x</em>(<em>i</em> + <em>j</em>) &#8211; <em>s</em>(<em>j</em>)}, 0 <img src="leq.gif"> <em>i</em> <img src="leq.gif"> <em>n</em> &#8211; 1, 0 <img src="leq.gif"> <em>j</em> <img src="leq.gif"> <em>k</em> &#8211; 1</p><p class="Body">where <em>x</em><em>(</em>i) is the <em>i</em>-th element in <strong>X</strong> and <em>s</em>(<em>j</em>) is the <em>j</em>-th element in <strong>Structure Element</strong>.</p><p class="Body">The following front panel shows an example of the erosion effect. The original signal consists of two pulses with widths of 20 and the <strong>Structure Element</strong> is an array of ten zeros. The filtered signal shrinks the pulses in the original signal.</p><p class="Anchor"><img src="loc_fp_morph_eros.gif"></p><p class="Body">You can use mathematical morphological filters to reduce various types of noise in an input signal while preserving the compatibility of those shapes with the size of the structure element. The following front panel shows the result of using a mathematical morphological filter to remove the baseline and suppress the noise in an ECG signal.</p><p class="Anchor"><img src="loc_fp_morph_ecg.gif"></p><p class="Body">Refer to the <a href="javascript:WWW(WWW_MATHMORPH)">Mathematical Morphological Filters</a> document on the NI Community Web site for more information about using mathematical morphological filters in LabVIEW.</p><!--Module Specific Content--><script type="text/javascript">if (typeof(writeVarRefs)=="function"){writeVarRefs("5304");}</script><!-- Example Information --></div></body></HTML>