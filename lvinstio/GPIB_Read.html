<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><head><!--Generated from database. Edit in the database; do not edit this file.--><!--Function id="429"--><TITLE>GPIB Read Function</TITLE><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252"><meta http-equiv="Content-Style-Type" content="text/css"><link rel="STYLESHEET" type="text/css" href="minimal.css"><script src="common.js" type="text/javascript"></script><script src="jquery-1.7.2.min.js" type="text/javascript"></script><script src="cssframes.js" type="text/javascript"></script><link media="print" rel="stylesheet" type="text/css" href="print.css"></head><body bgcolor="#ffffff"><noscript><p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p><hr width="100%" noshade></noscript><div id="styleDivTitle"><!-- VI or Function Name --><H1>GPIB Read Function</H1><!--Owning Palette--><p class="Body"><strong>Owning Palette:</strong> <a href="../lvinstio/Tradit_GPIB_Func_Descr.html">GPIB Functions</a></p><!--Package and Platform--><p class="Body"><strong>Requires:</strong> Base Development System</p><!-- VI/Function Description --><p class="Body">Reads <strong>byte count</strong> number of bytes from the GPIB device at <strong>address string</strong>.</p><!-- Supplemental VI/Function Information --><p class="Body">Right-click the node and select <strong>Synchronous I/O Mode&#0187;Synchronous</strong> from the shortcut menu to read data synchronously.</p><!-- Link to Additional VI/Function Information and Examples  --><p class="Body"><a href="#details">Details</a>&nbsp;&nbsp;<a href="#examples">Example</a></p><!-- Graphic Reference --><MAP NAME="connector_pane"><AREA SHAPE="rect" COORDS="0,11,137,22" HREF="#Input0"><AREA SHAPE="rect" COORDS="0,26,137,37" HREF="#Input1"><AREA SHAPE="rect" COORDS="0,40,137,51" HREF="#Input2"><AREA SHAPE="rect" COORDS="0,54,137,65" HREF="#Input3"><AREA SHAPE="rect" COORDS="0,69,137,77" HREF="#Input4"><AREA SHAPE="rect" COORDS="256,27,279,36" HREF="#Output0"><AREA SHAPE="rect" COORDS="256,42,287,50" HREF="#Output1"><AREA SHAPE="rect" COORDS="256,56,300,64" HREF="#Output2"></MAP><p class="Anchor"><img src="gpibread.gif" usemap="#connector_pane" border="0"></p><!--Add/Find Buttons--><table class="Borderless"><tr><td><a href="javascript:placeObject(object429);"><img src="add.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Add to the block diagram</td><td><a href="javascript:findObject(object429);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find on the palette</td></tr></table></div><div id="styleDivScrolling"><!-- Table of VI/Function Parameters --><table class="Borderless"><tr><td class="Icon"><a name="Input0"></a><img src="ci32.gif"></td><td><strong>timeout ms</strong> specifies the time, in milliseconds, that the function waits before timing out. To disable timeouts, set <strong>timeout ms</strong> to 0. The operation aborts if it does not complete within <strong>timeout ms</strong>.<br><br>To use the 488.2 global timeout, leave <strong>timeout ms</strong> unwired or set the input to &#8211;1. Then use the <a href="../lvinstio/SetTimeOut.html">SetTimeOut</a> function to change the default value of <strong>timeout ms</strong>. The default is 10000.</td></tr><tr><td class="Icon"><a name="Input1"></a><img src="cstr.gif"></td><td><strong>address string</strong> contains the address of the GPIB device with which the function communicates. You can input both the primary and secondary addresses in <strong>address string</strong> by using the form <em>primary</em>+<em>secondary</em>. Both <em>primary</em> and <em>secondary</em> are decimal values, so if <em>primary</em> is 2 and <em>secondary</em> is 3, <strong>address string</strong> is 2+3.<br><br>If you do not specify an address, the functions do not perform addressing before they attempt to read and write the string. They assume you have either sent these commands another way or that another controller is in charge and therefore responsible for the addressing. If the controller is supposed to address the device but does not do so before the time limit expires, the functions terminate with GPIB error 6 (timeout) and set bit 14 in <strong>status</strong>. If the GPIB is not the Controller-In-Charge, do not specify <strong>address string</strong>.<br><br>When there are multiple GPIB controllers that LabVIEW can use, a prefix to <strong>address string</strong> in the form ID:address (or ID: if no address is necessary) determines the controller that a specific function uses. For example, to set GPIB controller 2 to talk to a device on address 3, use the prefix <span class="Monospace">2:3</span>. If a controller ID is not present, the function defaults to controller (or bus) number 0.</td></tr><tr><td class="Icon"><a name="Input2"></a><img src="ci32.gif"></td><td><strong>byte count</strong> specifies the number of bytes the function reads from the GPIB device. </td></tr><tr><td class="Icon"><a name="Input3"></a><img src="ci16.gif"></td><td><strong>mode</strong> specifies conditions, other than reaching byte count, for terminating the read. The following table includes valid values and the corresponding EOS characters. Any mode not listed in the table indicates the decimal number of the EOS character that you want. Refer to <a href="Multiline_Interface_Mess.html">GPIB Multiline Interface Messages</a> for more information about managing GPIB tasks.<br><br><table class="Bordered"><tr><td class = "Bordered">0</td><td class = "Bordered">No EOS character. The EOS termination mode is disabled. Read terminated on EOI or <strong>byte count</strong>.</td></tr><tr><td class = "Bordered">1</td><td class = "Bordered">EOS character is CR. Read terminated on EOI, <strong>byte count</strong>, or CR.</td></tr><tr><td class = "Bordered">2</td><td class = "Bordered">EOS character is LF. Read terminated on EOI, <strong>byte count</strong>, or LF.</td></tr></table></td></tr><tr><td class="Icon"><a name="Input4"></a><img src="cerrcodeclst.gif"></td><td><strong>error in</strong> describes error conditions that occur before this node runs. This input provides <a href="../lvconcepts/using_standard_error_in.html">standard error in</a> functionality. </td></tr><tr><td class="Icon"><a name="Output0"></a><img src="istr.gif"></td><td><strong>data</strong> is the data the function read. </td></tr><tr><td class="Icon"><a name="Output1"></a><img src="i1dbool.gif"></td><td><strong>status</strong> is a Boolean array in which each bit describes a state of the GPIB Controller. If an error occurs, the function sets bit 15. <strong>GPIB error</strong> is valid only if bit 15 of <strong>status</strong> is set.<br><br>The following table shows the numeric value and symbolic status of each bit in<strong> status</strong>. This table also includes a description of each bit.<table class="Bordered"><tr><th class="Bordered"><strong>Status Bit</strong></th><th class="Bordered"><strong>Numeric Value</strong></th><th class="Bordered"><strong>Symbolic Status</strong></th><th class="Bordered"><strong>Description</strong></th></tr><tr><td class="Bordered">0</td><td class="Bordered">1</td><td class="Bordered">DCAS</td><td class="Bordered">Device Clear state</td></tr><tr><td class="Bordered">1</td><td class="Bordered">2</td><td class="Bordered">DTAS</td><td class="Bordered">Device Trigger State</td></tr><tr><td class="Bordered">2</td><td class="Bordered">4</td><td class="Bordered">LACS</td><td class="Bordered">Listener Active</td></tr><tr><td class="Bordered">3</td><td class="Bordered">8</td><td class="Bordered">TACS</td><td class="Bordered">Talker Active</td></tr><tr><td class="Bordered">4</td><td class="Bordered">16</td><td class="Bordered">ATN</td><td class="Bordered">Attention Asserted</td></tr><tr><td class="Bordered">5</td><td class="Bordered">32</td><td class="Bordered">CIC</td><td class="Bordered">Controller-In-Charge</td></tr><tr><td class="Bordered">6</td><td class="Bordered">64</td><td class="Bordered">REM</td><td class="Bordered">Remote State</td></tr><tr><td class="Bordered">7</td><td class="Bordered">128</td><td class="Bordered">LOK</td><td class="Bordered">Lockout State</td></tr><tr><td class="Bordered">8</td><td class="Bordered">256</td><td class="Bordered">CMPL</td><td class="Bordered">Operation Completed</td></tr><tr><td class="Bordered">12</td><td class="Bordered">4096</td><td class="Bordered">SRQI</td><td class="Bordered">SRQ Detected while CIC</td></tr><tr><td class="Bordered">13</td><td class="Bordered">8192</td><td class="Bordered">END</td><td class="Bordered">EOI or EOS Detected</td></tr><tr><td class="Bordered">14</td><td class="Bordered">16384</td><td class="Bordered">TIMO</td><td class="Bordered">Timeout</td></tr><tr><td class="Bordered">15</td><td class="Bordered">-32768</td><td class="Bordered">ERR</td><td class="Bordered">Error Detected</td></tr></table></td></tr><tr><td class="Icon"><a name="Output2"></a><img src="ierrcodeclst.gif"></td><td><strong>error out</strong> contains error information. This output provides <a href="../lvconcepts/using_standard_error_out.html">standard error out</a> functionality. </td></tr></table><!-- Additional VI/Function Information --><h2><a name="details">GPIB Read Details</a></h2><p class="Body"><!-- Begin parent: ../lvinstio/VISA_Read.html -->When you transfer data from or to a hardware driver synchronously, the <a href="../lvconcepts/LabVIEW_Threading_Model.html">calling thread</a> is locked for the duration of the data transfer. Depending on the speed of the transfer, this can hinder other processes that require the calling thread. However, if an application requires that the data transfer as quickly as possible, performing the operation synchronously dedicates the calling thread exclusively to this operation.</p><table class="Borderless"><tr><td class="Icon"><img src="note.gif"></td><td><strong>Note</strong>&nbsp;&nbsp;In most applications, synchronous calls are slightly faster when you are communicating with 4 or fewer instruments. Asynchronous operations result in a significantly faster application when you are communicating with 5 or more instruments. The LabVIEW default is asynchronous I/O.</td></tr></table><!-- End parent: ../lvinstio/VISA_Read.html --><p class="Body">The GPIB Read function terminates when it accomplishes one of the following tasks:</p><ul><li>Reads the number of bytes requested.</li><li>Detects an error.</li><li>Exceeds the time limit.</li><li>Detects the END message (EOI asserted).</li><li>Detects the EOS character (if this option is enabled by the value supplied to <strong>mode</strong>).</li></ul><table class="Borderless"><tr><td class="Icon"><img src="note.gif"></td><td><strong>Note</strong>&nbsp;&nbsp;The function compares all eight bits when it checks for the EOS character.</td></tr></table><!--Module Specific Content--><script type="text/javascript">if (typeof(writeVarRefs)=="function"){writeVarRefs("429");}</script><!-- Example Information --><h2><a name="examples">Example</a></h2><p class="Body">Refer to the Simple GPIB VI in the <span class="Monospace">labview\examples\Instrument IO\GPIB</span> directory for an example of using the GPIB Read function.</p><p class="Body"><a href="javascript:openVI('examples%5C%5CInstrument%20IO%5C%5CGPIB%5C%5CSimple%20GPIB.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open example&nbsp;<a href="javascript:findExamples(3110);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find related examples</p></div></body></HTML>