<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- Generated from lvpidmain.xml. Edit in the XML file; do not edit this file.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">

<title>Designing a Control Strategy</title>
<link rel="STYLESHEET" type="text/css" href="minimal.css">
<script src="common.js" type="text/javascript"></script><script src="dynamicjumps.js" type="text/javascript"></script></head>
<body>
<noscript>
<p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p>
<hr width="100%" noshade>
</noscript><h1>Designing a Control Strategy</h1>
<p class="Body">You can design a control strategy by sketching a flowchart that includes the physical process and control elements such as valves and measurements. Also include feedback from the process and any required computations. You then can use the <a href="../lvpid/PIDTitle.html">PID</a> VIs, combined with the math and logic VIs and functions in LabVIEW, to translate the flowchart into a LabVIEW block diagram.</p>
<p class="Body">The following image shows a sample control flowchart:</p>
<p class="Anchor"><img src="loc_fp_tank.gif"></p>
<p class="Body">The following image shows the equivalent LabVIEW block diagram:</p>
<p class="Anchor"><img src="loc_bd_tank.gif"></p>
<p class="Body">In the previous images, <strong>FT</strong> is the flow transmitter, <strong>LT</strong> is the level transmitter, <strong>LC</strong> is the level of control, and <strong>SP</strong> is the setpoint. The only elements missing from this simplified VI are the loop-tuning parameters and the automatic-to-manual switching.</p>
<p class="Body">You can handle the inputs and outputs through DAQ devices, FieldPoint I/O modules, GPIB instruments, or serial I/O ports. You can adjust polling rates in real time. Potential polling rates are limited only by your hardware and by the number and graphical complexity of your VIs.</p><a name="settime"></a><h2>Setting Timing</h2>
<p class="Body">The <a href="../lvpid/PID_VI.html">PID</a> VI and the <a href="../lvpid/PIDLead_Lag.html">PID Lead-Lag</a> VI are time-dependent. A VI can acquire timing information either from a value you supply to the cycle time control, <strong>dt</strong>, or from a time keeper such as those built into the <a href="../lvpid/PIDTitle.html">PID</a> VIs. If <strong>dt</strong> is less than or equal to zero, the VI calculates new timing information each time LabVIEW calls it. At each call, the VI measures the time since the last call and uses that difference in its calculations. If you call a VI from a <a href="../glang/While_Loop.html">While Loop</a> that uses one of the LabVIEW <a href="../glang/Time_Dialog_and_Error_Func.html">Timing</a>  VIs and functions, you can achieve fairly regular timing, and the internal time keeper compensates for variations. However, the resolution of the <a href="../glang/Tick_Count_ms.html">Tick Count (ms)</a> function is limited to 1 ms.</p>
<p class="Body">If <strong>dt</strong> is a positive value in seconds, the VI uses that value in the calculations, regardless of the elapsed time. National Instruments recommends you use this method for fast loops, such as when you use acquisition hardware to time the controller input or real-time applications. Refer to the example VIs
located in the <span class="Monospace">labview\examples\control\PID</span> directory for examples of using timing with the <a href="../lvpid/PIDTitle.html">PID</a> VIs.</p>
<p class="Body"><a href="javascript:findExamples(3815);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Find related examples</p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��If you installed NI-DAQmx, you also can view relevant examples in the <span class="Monospace">labview\examples\DAQmx\Control\Control.llb</span> directory.</td>
</tr>
</table>
<p class="Body">According to control theory, a control system must sample a physical process at a rate about 10 times faster than the fastest time constant in the physical process. For example, a time constant of 60 seconds is typical for a temperature control loop in a small system. In this case, a cycle time of about 6 seconds is sufficient. Faster cycling does not improve performance. In fact, running all your control VIs too fast can degrade the response time of your LabVIEW application.</p>
<p class="Body">All VIs within a loop execute once per iteration at the same cycle time. To run several control VIs at different cycle times and still share data between them, as for example in a cascade, you must separate the VIs into independently timed <a href="../glang/While_Loop.html">While Loops</a>. The following block diagram shows a cascade with two independently timed While Loops:</p>
<p class="Anchor"><img src="loc_bd_CascCont.gif"></p>
<p class="Body">A global variable passes the <strong>output</strong> of the <a href="../lvpid/PID_VI.html">PID</a> VI in <strong>Loop A</strong> to the <strong>process variable</strong> input of the PID VI in Loop B. You can place both <a href="../glang/While_Loop.html">While Loops</a> on the same block diagram or in separate VIs. Use additional global or local variables to pass any other necessary data between the two While Loops.</p>
<p class="Body">If the front panel of your VI does not contain graphics that LabVIEW must update frequently, the <a href="../lvpid/PIDTitle.html">PID</a> VIs can execute at kilohertz (kHz) rates. However, actions such as mouse activity and window scrolling interfere with these rates.</p>
</body>
</html>