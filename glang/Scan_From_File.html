<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><head><!--Generated from database. Edit in the database; do not edit this file.--><!--Function id="697"--><TITLE>Scan From File Function</TITLE><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252"><meta http-equiv="Content-Style-Type" content="text/css"><link rel="STYLESHEET" type="text/css" href="minimal.css"><script src="common.js" type="text/javascript"></script><script src="jquery-1.7.2.min.js" type="text/javascript"></script><script src="cssframes.js" type="text/javascript"></script><link media="print" rel="stylesheet" type="text/css" href="print.css"></head><body bgcolor="#ffffff"><noscript><p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p><hr width="100%" noshade></noscript><div id="styleDivTitle"><!-- VI or Function Name --><H1>Scan From File Function</H1><!--Owning Palette--><p class="Body"><strong>Owning Palette:</strong> <a href="../glang/File_VIs_and_Functions.html">File I/O VIs and Functions</a></p><!--Package and Platform--><p class="Body"><strong>Requires:</strong> Base Development System</p><!-- VI/Function Description --><p class="Body">Scans text in a file for string, numeric, path, and Boolean data, converts the text to a data type, and returns a duplicated refnum and the converted outputs in the order scanned. This function does not work for files inside an LLB.</p><!-- Supplemental VI/Function Information --><p class="Body">You can use this function to read all the text in the file. However, you cannot use this function to determine a starting point for the scan. To do so, use the <a href="../glang/Read_Characters_From_File.html">Read from Text File</a> function and the <a href="../glang/Scan_From_String.html">Scan From String</a> function.</p><!-- Link to Additional VI/Function Information and Examples  --><p class="Body"><a href="#details">Details</a>&nbsp;&nbsp;<a href="#examples">Example</a></p><!-- Graphic Reference --><MAP NAME="connector_pane"><AREA SHAPE="rect" COORDS="0,15,128,27" HREF="#Input0"><AREA SHAPE="rect" COORDS="0,33,128,45" HREF="#Input1"><AREA SHAPE="rect" COORDS="0,49,128,60" HREF="#Input2"><AREA SHAPE="rect" COORDS="0,65,128,76" HREF="#Input3"><AREA SHAPE="rect" COORDS="0,88,128,90" HREF="#Input4"><AREA SHAPE="rect" COORDS="252,33,351,45" HREF="#Output0"><AREA SHAPE="rect" COORDS="252,50,300,58" HREF="#Output1"><AREA SHAPE="rect" COORDS="252,65,299,77" HREF="#Output2"><AREA SHAPE="rect" COORDS="252,88,263,90" HREF="#Output3"></MAP><p class="Anchor"><img src="scnfrfil.gif" usemap="#connector_pane" border="0"></p><!--Add/Find Buttons--><table class="Borderless"><tr><td><a href="javascript:placeObject(object697);"><img src="add.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Add to the block diagram</td><td><a href="javascript:findObject(object697);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find on the palette</td></tr></table></div><div id="styleDivScrolling"><!-- Table of VI/Function Parameters --><table class="Borderless"><tr><td class="Icon"><a name="Input0"></a><img src="cstr.gif"></td><td><strong>format string</strong> specifies how to convert the input string into the output arguments. The default is to scan the string according to default behavior for the data types of the outputs wired. Right-click the function and select <strong>Edit Scan String</strong> from the shortcut menu to create and edit the <a href="../lvconcepts/Format_Specifier_Syntax.html">format string</a>.<br><br>This input accepts a maximum of 255 characters.</td></tr><tr><td class="Icon"><a name="Input1"></a><img src="cdvrn.gif"></td><td><strong>input file</strong> can be a refnum or absolute file path. If it is a refnum, this node opens the file specified by the refnum. This function creates the specified file if it does not already exist. The default is to display a file dialog box and prompt you to select a file.<br><br>If you specify an empty or relative path, this function returns an error.</td></tr><tr><td class="Icon"><a name="Input2"></a><img src="cerrcodeclst.gif"></td><td><strong>error in</strong> describes error conditions that occur before this node runs. This input provides <a href="../lvconcepts/using_standard_error_in.html">standard error in</a> functionality. </td></tr><tr><td class="Icon"><a name="Input3"></a><a name="Input4"></a><img src="cdbl.gif"></td><td><strong>default 1..n</strong> specifies the type and default value for the output parameters. If this function cannot scan the input value from <strong>format string</strong>, the function uses the default. If you do not wire <strong>default 1</strong> and you wire a constant to <strong>format string</strong>, the function uses <strong>format string</strong> to determine the type of the output. Otherwise, the default data type is double-precision, floating-point. The default value is <span class="Monospace">0</span> or an empty string, depending on the output data type. If you wire an enumerated type to <strong>default 1</strong>, the function finds substrings matching the string values in the enumerated type and returns the corresponding numeric value of the enumerated type.<BR><BR>You can scan for Boolean values if you use a string or numeric format code. If the format code is %s or unwired, the function reads <span class="Monospace">Y</span>, <span class="Monospace">T</span>, <span class="Monospace">TRUE</span>, <span class="Monospace">ON</span>, or <span class="Monospace">YES</span> and any lowercase versions of those words as TRUE Boolean values. The function reads <span class="Monospace">F</span>, <span class="Monospace">FALSE</span>, <span class="Monospace">OFF</span>, or <span class="Monospace">NO</span> and any lowercase versions of those words as FALSE Boolean values. If you specify a numeric format code, the function reads any numeric value greater than 0.5 as TRUE and any numeric value less than or equal to 0.5 as FALSE.<table class="Borderless"><tr><td class="Icon"><img src="note.gif"></td><td><strong>Note</strong>&nbsp;&nbsp;This function reads negative numbers as FALSE Boolean values because the function converts the number to an unsigned 8-bit integer and any number less than or equal to 0.5 becomes 0 during the conversion.</td></tr></table></td></tr><tr><td class="Icon"><a name="Output0"></a><img src="idvrn.gif"></td><td><strong>output file refnum</strong> is the refnum of the file that the VI read. You can wire this output to another file function, depending on what you want to do with the file. The default is to close the file if it is referenced by a file path or selected from the file dialog box. If <strong>input file</strong> is a refnum, LabVIEW assumes that the file is still in use until you close it.</td></tr><tr><td class="Icon"><a name="Output1"></a><img src="ierrcodeclst.gif"></td><td><strong>error out</strong> contains error information. This output provides <a href="../lvconcepts/using_standard_error_out.html">standard error out</a> functionality. </td></tr><tr><td class="Icon"><a name="Output2"></a><a name="Output3"></a><img src="idbl.gif"></td><td><strong>output 1..n</strong> specifies the output parameters. Each output can be a string, path, enumerated type, time stamp, Boolean, or any numeric data type. If you scan a string that does not fit into the numeric data type you specify, this function returns the largest number that fits into that data type. You cannot use arrays and clusters with this function.</td></tr></table><!-- Additional VI/Function Information --><h2><a name="details">Scan From File Details</a></h2><p class="Body">Increase the number of parameters by right-clicking the function and selecting <strong>Add Parameter</strong> from the shortcut menu or by <a href="../lvhowto/Resizing_Array_Functions.html">resizing the function</a>.</p><table class="Borderless"><tr><td class="Icon"><img src="note.gif"></td><td><strong>Note</strong>&nbsp;&nbsp;If an error occurs, the <strong>source</strong> component of the <strong>error out</strong> cluster contains a string of the form <span class="Monospace">''Scan From File (arg n),''</span> where <span class="Monospace">n</span> is the first argument for which the error occurred.</td></tr></table><p class="Body">If you wire a block diagram constant string to <strong>format string</strong>, LabVIEW uses <strong>format string</strong> to determine the number of outputs and the data type of each output at compile time. If the types you wire to the outputs do not match the types determined by <strong>format string</strong>, you must change the output types before the VI can run.</p><p class="Body">If you do not directly wire a block diagram constant to <strong>format string</strong>, LabVIEW checks for type mismatches at run time. If you want to scan values that have data types other than double-precision, floating point, you must wire the data types to <strong>default 1..n</strong>.</p><p class="Body">When you use the match characters not in set format specifier (<span class="Monospace">%[^...]</span>), which is used frequently to read an entire string, the matched character(s) are left in the file stream. <span class="Monospace">%[^\n\r]</span> matches an entire line of text, but the carriage return and new line are left behind. To remove these characters, use <span class="Monospace">%[^\n\r]\n\r</span>.</p><table class="Borderless"><tr><td class="Icon"><img src="note.gif"></td><td><strong>Note</strong>&nbsp;&nbsp;By default, this function is locale aware, which means that it uses the system decimal separator configured in the regional settings of the operating system. In some instances, such as using GPIB instruments on European operating systems, you may need to override the system decimal separator by using the <a href="../lvconcepts/Format_Specifier_Syntax.html#Format_Specifier_Examples">localization code syntax elements</a>.</td></tr></table><h3>Examples of Formatting Strings</h3><table class="Bordered"><tr><th class="Bordered">input string</th><th class="Bordered">format string</th><th class="Bordered">default(s)</th><th class="Bordered">output(s)</th><th class="Bordered">remaining string</th></tr><tr><td class="Bordered" rowspan="4">abc, xyz<BR>12.3+56i 7200</td><td class="Bordered" rowspan="4">%3s, %s%f%2d</td><td class="Bordered">&#8212;</td><td class="Bordered">abc</td><td class="Bordered" rowspan="4">00</td></tr><tr><td class="Bordered">&#8212;</td><td class="Bordered">xyz</td></tr><tr><td class="Bordered">0+00i</td><td class="Bordered">12.3+56i</td></tr><tr><td class="Bordered">&#8212;</td><td class="Bordered">72</td></tr><tr><td class="Bordered">Q+1.27E&#8211;3 tail</td><td class="Bordered">Q%f t</td><td class="Bordered">&#8212;</td><td class="Bordered">1.27E&#8211;3</td><td class="Bordered">ail</td></tr><tr><td class="Bordered" rowspan="2">0123456789</td><td class="Bordered" rowspan="2">%3d%3d</td><td class="Bordered" rowspan="2">&#8212;</td><td class="Bordered">12</td><td class="Bordered" rowspan="2">6789</td></tr><tr><td class="Bordered">345</td></tr><tr><td class="Bordered" rowspan="2">X:9.860 Z:3.450</td><td class="Bordered" rowspan="2">X:%fY:%f</td><td class="Bordered">100 (I32)</td><td class="Bordered">10</td><td class="Bordered" rowspan="2">Z: 3450</td></tr><tr><td class="Bordered">100.00 (DBL)</td><td class="Bordered">100.00</td></tr><tr><td class="Bordered">set49.4.2</td><td class="Bordered">set%d</td><td class="Bordered">&#8212;</td><td class="Bordered">49</td><td class="Bordered">.4.2</td></tr><tr><td class="Bordered">color: red</td><td class="Bordered">color: %s</td><td class="Bordered">blue (enum {red, green, blue})</td><td class="Bordered">red</td><td class="Bordered">&#8212;</td></tr><tr><td class="Bordered" rowspan="4">abcd012xyz3</td><td class="Bordered" rowspan="4">%[a-z]%d<BR>%[a-z]%d</td><td class="Bordered" rowspan="4">&#8212;</td><td class="Bordered">abcd</td><td class="Bordered" rowspan="4">&#8212;</td></tr><tr><td class="Bordered">12</td></tr><tr><td class="Bordered">xyz</td></tr><tr><td class="Bordered">3</td></tr><tr><td class="Bordered" rowspan="2">welcome to LabVIEW, John Smith</td><td class="Bordered" rowspan="2">%[^,],%s</td><td class="Bordered" rowspan="2">&#8212;</td><td class="Bordered">welcome to LabVIEW</td><td class="Bordered" rowspan="2">Smith</td></tr><tr><td class="Bordered">John</td></tr></table><!--Module Specific Content--><script type="text/javascript">if (typeof(writeVarRefs)=="function"){writeVarRefs("697");}</script><!-- Example Information --><h2><a name="examples">Example</a></h2><p class="Body">Refer to the Format Into File and Scan From File VI in the <span class="Monospace">labview\examples\File IO\Text (ASCII)</span> directory for an example of using the Scan From File function.</p><p class="Body"><a href="javascript:openVI('examples%5C%5CFile%20IO%5C%5CText%20(ASCII)%5C%5CFormat%20Into%20File%20and%20Scan%20From%20File.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open example&nbsp;<a href="javascript:findExamples(3151);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find related examples</p></div></body></HTML>