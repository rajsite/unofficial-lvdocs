<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><!--Generated from database. Edit in the database; do not edit this file.--><!--node id="2682"--><HTML><head><TITLE>Timed Loop</TITLE><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252"><meta http-equiv="Content-Style-Type" content="text/css"><link rel="STYLESHEET" type="text/css" href="minimal.css"><link media="print" rel="stylesheet" type="text/css" href="print.css"><script src="common.js" type="text/javascript"></script></head><body bgcolor="#ffffff"><noscript><p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p><hr width="100%" noshade></noscript><div id="styleDivTitle"><!-- VI or Function Name --><H1>Timed Loop</H1><!--Owning Palette--><p class="Body"><strong>Owning Palette:</strong> <a href="../glang/Timed_Loop_VIs_and_Func.html">Timed Structures and VIs</a></p><!--Package and Platform--><p class="Body"><strong>Requires:</strong> Base Development System (Real-Time, Windows)</p><!-- VI/Function Description --><p class="Body">Executes one or more subdiagrams, or frames, sequentially each iteration of the loop at the period you specify. Use the Timed Loop when you want to develop VIs with multirate timing capabilities, precise timing, feedback on loop execution, timing characteristics that change dynamically, or several levels of execution priority. Right-click the structure border to <a href="../lvhowto/HOW_Add_Delete_Timed_Struct_Frames.html">add, delete, insert</a>, and <a href="../lvhowto/HOW_Merge_Timed_Struct_Frames.html">merge</a> frames.</p><!-- Graphic Reference --><p class="Anchor"><img src="loc_eps_timedloopframesnodes.gif"></p><!--Add/Find Buttons--><table class="Borderless"><tr><td><a href="javascript:placeObject(object2682);"><img src="add.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Add to the block diagram</td><td><a href="javascript:findObject(object2682);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find on the palette</td></tr></table><!-- Supplemental VI/Function Information --><table class="checkFile lvfpgamain Borderless"><tr><td class="Icon"><img src="note.gif"></td><td><strong>Note</strong>&nbsp;&nbsp;If you use the Timed Loop in an FPGA VI, you must use a <a href="../lvfpga/FPGA_Timed_Loop.html">single-cycle Timed Loop</a>. A single-cycle Timed Loop executes one subdiagram per FPGA clock cycle. Single-cycle Timed Loops do not support frames.</td></tr></table><!--begin parent: ../glang/While_Loop.html--><p class="Body">The iteration (<strong>i</strong>) terminal provides the current loop iteration count, which is zero for the first iteration. If iteration count exceeds 2,147,483,647, or 2<sup>31</sup>-1, the iteration terminal remains at 2,147,483,647 for all further iterations. If you need to keep count of more than 2,147,483,647 iterations, you can use <a href="../lvconcepts/shift_registers_feedback_node.html">shift registers</a> with a greater integer range.</p><!--end parent: ../glang/While_Loop.html--><p class="Body">The Timed Loop includes the (1) <a href="#InputNode">Input</a> and (4) <a href="#OutputNode">Output</a> nodes, and (2) <a href="#LDNode">Left</a> and (3) <a href="#RDNode">Right Data</a> nodes for each frame, as shown in the previous illustration. By default, nodes of the Timed Loop do not display all of the available input and output terminals. You can resize nodes or right-click a node and use the shortcut menu to <a href="../lvhowto/HOW_Dis_Timed_Struct_terms.html">display node terminals</a>. Right-click the border of a Timed Loop and select <strong>Show Left Data Node</strong> or <strong>Show Right Data Node</strong> from the shortcut menu to display each node.</p><p class="Body">Double-click the Input Node or right-click the structure and select <strong>Configure Timed Loop</strong> to display the <a href="../lvdialog/Loop_Configuration_DB.html">Configure Timed Loop</a> dialog box, where you can configure the Timed Loop. The values you enter in the <strong>Configure Timed Loop</strong> dialog box appear next to the input terminals on the Input Node.</p><p class="Body">The following table lists node terminals of the Timed Loop. The Timed Loop includes many nodes whose values are relative to the start of the timing source. If you do not request synchronization, the start time of the timing source is the start time of the first loop that uses the timing source. If multiple loops are part of a synchronization group, the start time of the timing source is when the last loop is ready to execute.</p><p class="Body"><strong><a name="InputNode">(1) Input Node</a></strong></p><table class="Bordered"><tr><td class="Bordered"><img src="noloc_bd_timed_deadline.gif"></td><td class="Bordered"><strong>Deadline</strong></td><td class="Bordered">Specifies the time when the Timed Loop must complete the iteration. The deadline value is relative to the start of the timing source and is specified in units of the timing source. Specifying a value of -1 indicates no deadline. If you do not specify a value for this input, the structure uses the value of <strong>Period</strong> as the deadline value.</td></tr><tr><td class="Bordered"><img src="noloc_bd_timed_error.gif"></td><td class="Bordered"><strong>Error</strong></td><td class="Bordered">Propagates errors through the structure. The Timed Loop does not execute if <strong>Error</strong> receives an error condition.</td></tr><tr><td class="Bordered"><img src="noloc_bd_timed_mode.gif"></td><td class="Bordered"><strong>Mode</strong></td><td class="Bordered">Specifies how the Timed Loop handles late executions. There are five available modes&#8212;No change, Process missed periods maintaining original phase, Process missed periods ignoring original phase, Discard missed periods maintaining original phase, and Discard missed periods ignoring original phase.</td></tr><tr><td class="Bordered"><img src="noloc_bd_timed_name.gif"></td><td class="Bordered"><strong>Structure Name</strong></td><td class="Bordered">Specifies a name for the Timed Loop.</td></tr><tr><td class="Bordered"><img src="noloc_bd_timed_offset.gif"></td><td class="Bordered"><strong>Offset</strong></td><td class="Bordered">Specifies the length of time a Timed Loop waits to begin execution. The offset value is relative to the start of the timing source and is specified in units of the timing source.</td></tr><tr><td class="Bordered"><img src="noloc_bd_timed_period.gif"></td><td class="Bordered"><strong>Period</strong></td><td class="Bordered">Specifies a period for the Timed Loop in the same units as the timing source specified by <strong>Source Name</strong>.<table class="Borderless"><tr><td class="Icon"><img src="note.gif"></td><td><strong>Note</strong>&nbsp;&nbsp;Do not set the period of a Timed Loop to 0. National Instruments does not support applications that contain Timed Loops with periods of 0 because these periods cause undefined application behavior. If you need a loop that runs as fast as possible combined with the priority execution features of a Timed Loop, use a While Loop inside a Timed Sequence structure instead.</td></tr></table></td></tr><tr><td class="Bordered"><img src="noloc_bd_timed_priority.gif"></td><td class="Bordered"><strong>Priority</strong></td><td class="Bordered">Specifies the priority of the execution of the Timed Loop. The priority of a timed structure specifies when the structure executes on the block diagram relative to other objects on the block diagram. The value for the <strong>Priority</strong> input must be a positive integer between 1 and 65,535.</td></tr><tr><td class="Bordered"><img src="noloc_bd_timed_processor.gif"></td><td class="Bordered"><strong>Processor</strong></td><td class="Bordered">Specifies the processor you want to handle execution. The default is <span class="monospace">-2</span>, which means LabVIEW automatically assigns a processor. To manually assign a processor, enter a number between <span class="monospace">0</span> and <span class="monospace">255</span>, where <span class="monospace">0</span> represents the first processor. If you enter a number that exceeds the number of available processors, you generate a run-time error and the timed structure does not execute.</td></tr><tr><td class="Bordered"><img src="noloc_bd_timed_sourcename.gif"></td><td class="Bordered"><strong>Source Name</strong></td><td class="Bordered">Specifies the name of the timing source to use for controlling the structure. The timing source must be created on the block diagram using the <a href="../glang/Create_Timing_Source.html">Create Timing Source</a> VI or selected from the <a href="../lvdialog/Loop_Configuration_DB.html">Configure Timed Loop</a> dialog box.</td></tr><tr><td class="Bordered"><img src="noloc_bd_timed_timeout.gif"></td><td class="Bordered"><strong>Timeout</strong></td><td class="Bordered">Specifies the maximum amount of time a Timed Loop can wait to begin execution. The default is -1,which means that no timeout is specified for the next frame. The timeout value is relative to the start of the timing source or the end of the previous iteration and is specified in units of the frame timing source.</td></tr></table><p class="Body"><strong><a name="LDNode">(2) Left Data Node</a></strong></p><table class="Bordered"><tr><td class="Bordered"><strong>Actual End [f-1]</strong> (Unavailable in singe-frame Timed Loop)</td><td class="Bordered">Returns the actual end time for the previous frame (f-1). The actual end value is relative to the start time of the timing source and is specified in units of the timing source.</td></tr><tr><td class="Bordered"><strong>Actual End [i-1]</strong> (First frame only)</td><td class="Bordered">Returns the actual end time for the previous iteration (i-1). The actual end value is relative to the start time of the timing source and is specified in units of the timing source.</td></tr><tr><td class="Bordered"><strong>Actual Start [f]</strong> (Unavailable in single-frame Timed Loop)</td><td class="Bordered">Returns the actual start time of the current frame (f). The actual start value is relative to the start time of the timing source and is specified in units of the frame timing source.</td></tr><tr><td class="Bordered"><strong>Actual Start [i]</strong> (First frame only)</td><td class="Bordered">Returns the actual start time of the current iteration (i). The actual start value is relative to the start time of the timing source and is specified in units of the timing source.</td></tr><tr><td class="Bordered"><strong>Deadline</strong></td><td class="Bordered">Returns the deadline value for the current frame.</td></tr><tr><td class="Bordered"><strong>Error</strong></td><td class="Bordered">Propagates errors through the structure.</td></tr><tr><td class="Bordered"><strong>Expected End [f-1]</strong> (Unavailable in single-frame Timed Loops)</td><td class="Bordered">Returns the expected end time for the previous frame (f-1). The expected end value is relative to the start time of the timing source and is specified in units of the timing source. The expected end (f-1) is equal to the start of the next period.</td></tr><tr><td class="Bordered"><strong>Expected End [i-1]</strong> (First frame only)</td><td class="Bordered">Returns the expected end time for the previous iteration (i-1). The expected end value is relative to the start time of the timing source and is specified in units of the timing source.</td></tr><tr><td class="Bordered"><strong>Expected Start [f]</strong></td><td class="Bordered">Returns the expected start time of the current frame (f). The expected start value is relative to the start time of the timing source and is specified in units of the frame timing source.</td></tr><tr><td class="Bordered"><strong>Expected Start [i]</strong> (First frame only)</td><td class="Bordered">Returns the expected start time of the current iteration (i). The expected start value is relative to the start time of the timing source and is specified in units of the timing source.</td></tr><tr><td class="Bordered"><strong>Finished Late? [f-1]</strong></td><td class="Bordered">Returns TRUE if the Timed Loop does not complete the previous frame before the specified deadline.</td></tr><tr><td class="Bordered"><strong>Finished Late? [i-1]</strong> (First frame only)</td><td class="Bordered">Returns TRUE if the Timed Loop does not complete the previous iteration before the specified deadline.</td></tr><tr><td class="Bordered"><strong>Frame Duration</strong> (Unavailable in single-frame Timed Loops</td><td class="Bordered">Returns the duration time of the previous frame. The frame duration is relative to the start of the frame and is specified in units of the frame timing source.</td></tr><tr><td class="Bordered"><strong>Global End Time</strong></td><td class="Bordered">Returns the end time of the previous iteration or frame in nanoseconds. If the timed loop uses an absolute timing source, <strong>Global End Time</strong> returns a timestamp. Otherwise, <strong>Global End Time</strong> returns a 64-bit integer. If the timed loop runs on an RT target, <strong>Global End Time</strong> is based on the target�s system time and can be synchronized with an external clock. If the timed loop runs on Windows, <strong>Global End Time</strong> is based on the Windows system time.</td></tr><tr><td class="Bordered"><strong>Global Start Time</strong></td><td class="Bordered">Returns the start time of the current iteration or frame in nanoseconds. If the timed loop uses an absolute timing source, <strong>Global Start Time</strong> returns a timestamp. Otherwise, <strong>Global Start Time</strong> returns a 64-bit integer. If the timed loop runs on an RT target, <strong>Global Start Time</strong> is based on the target�s system time and can be synchronized with an external clock. If the timed loop runs on Windows, <strong>Global Start Time</strong> is based on the Windows system time.</td></tr><tr><td class="Bordered"><strong>Iteration Duration</strong> (First frame only)</td><td class="Bordered">Returns a time stamp of the duration of the previous iteration. The iteration duration value is relative to the start of the iteration and is specified in units of the timing source.</td></tr><tr><td class="Bordered"><strong>Mode</strong> (First frame only)</td><td class="Bordered">Returns the mode value for the current iteration.</td></tr><tr><td class="Bordered"><strong>Offset</strong> (First frame only)</td><td class="Bordered">Returns the offset value for the start of the current iteration.</td></tr><tr><td class="Bordered"><strong>Period</strong> (First frame only)</td><td class="Bordered">Returns the period value for the current frame.</td></tr><tr><td class="Bordered"><strong>Priority</strong></td><td class="Bordered">Returns the priority value for the current frame.</td></tr><tr><td class="Bordered"><strong>Processor</strong></td><td class="Bordered">Returns the processor you assigned to handle execution, if you assigned one. Otherwise, returns <span class="monospace">-2</span>, which means LabVIEW automatically assigned a processor.</td></tr><tr><td class="Bordered"><strong>Start</strong> (Unavailable in first frame)</td><td class="Bordered">Returns the start value for the current frame.</td></tr><tr><td class="Bordered"><strong>Timeout</strong></td><td class="Bordered">Returns the timeout value for the current frame.</td></tr><tr><td class="Bordered"><strong>Wakeup Reason</strong></td><td class="Bordered">Returns an enumerated type with the reason for the execution start of the current iteration. The possible values are 0 for Normal, 1 for Aborted, 2 for Asynchronous wakeup, 3 for a Timing source error, 4 for a Timed loop error, and 5 for Timeout.</td></tr></table><p class="Body"><strong><a name="RDNode">(3) Right Data Node</a></strong></p><table class="Bordered"><tr><td class="Bordered"><img src="noloc_bd_timed_deadline.gif"></td><td class="Bordered"><strong>Deadline</strong></td><td class="Bordered">Specifies the time when the Timed Loop must complete the next frame. The deadline value is relative to the start of the next frame and is specified in units of the timing source. The default is -1, which means unchanged.</td></tr><tr><td class="Bordered"><img src="noloc_bd_timed_error.gif"></td><td class="Bordered"><strong>Error</strong></td><td class="Bordered">Propagates errors or warnings out of the Timed Loop subdiagram. If <strong>Error</strong> receives an error condition, the Timed Loop executes the next frame untimed. If <strong>Error</strong> receives an error condition in the last frame, the structure finishes executing the current iteration untimed, exits the loop, and returns the error condition on the Output node.</td></tr><tr><td class="Bordered"><img src="noloc_bd_timed_mode.gif"></td><td class="Bordered"><strong>Mode</strong> (Last frame only)</td><td class="Bordered">Specifies the <strong>Mode</strong> for the next iteration of the Timed Loop. There are five available modes&#8212;No change, Process missed periods maintaining original phase, Process missed periods ignoring original phase, Discard missed periods maintaining original phase, and Discard missed periods ignoring original phase.</td></tr><tr><td class="Bordered"><img src="noloc_bd_timed_offset.gif"></td><td class="Bordered"><strong>Offset</strong> (Last frame only)</td><td class="Bordered">Specifies the length of time the next iteration waits to begin execution. The offset value is relative to the start of the next iteration and is specified in units of the timing source. The default is -1, which means unchanged. If you set an offset for the next iteration, you must set a new <strong>Mode</strong> value.</td></tr><tr><td class="Bordered"><img src="noloc_bd_timed_period.gif"></td><td class="Bordered"><strong>Period</strong> (Last frame only)</td><td class="Bordered">Specifies a period for the next iteration of a Timed Loop in units as the timing source. The default is -1, which means unchanged.<table class="Borderless"><tr><td class="Icon"><img src="note.gif"></td><td><strong>Note:</strong> Do not set the period of a Timed Loop to 0. National Instruments does not support applications that contain Timed Loops with periods of 0 because these periods cause undefined application behavior. If you need a loop that runs as fast as possible combined with the priority execution features of a Timed Loop, use a While Loop inside a Timed Sequence structure instead.</td></tr></table></td></tr><tr><td class="Bordered"><img src="noloc_bd_timed_priority.gif"></td><td class="Bordered"><strong>Priority</strong></td><td class="Bordered">Specifies the <strong>Priority</strong> for the next iteration of the Timed Loop. The priority specifies when the next iteration executes on the block diagram relative to other objects on the block diagram. The value for the <strong>Priority</strong> input must be a positive integer between 1 and 65,535.</td></tr><tr><td class="Bordered"><img src="noloc_bd_timed_processor.gif"></td><td class="Bordered"><strong>Processor</strong></td><td class="Bordered">Specifies the processor you want to handle execution. The default is <span class="monospace">-1</span>, which means LabVIEW assigns the same processor specified in the Input node. Enter <span class="monospace">-2</span> to allow LabVIEW to assign the processor. To manually assign a processor, enter a number between <span class="monospace">0</span> and <span class="monospace">255</span>, where <span class="monospace">0</span> represents the first available processor. If you enter a number that exceeds the number of available processors, you generate a run-time error and the timed structure does not execute.</td></tr><tr><td class="Bordered"><img src="noloc_bd_timed_start.gif"></td><td class="Bordered"><strong>Start</strong> (Unavailable in last frame)</td><td class="Bordered">Specifies the length of time the next frame waits to start execution. The start value is relative to the beginning of the current frame and is specified in units of the timing source.</td></tr><tr><td class="Bordered"><img src="noloc_bd_timed_timeout.gif"></td><td class="Bordered"><strong>Timeout</strong></td><td class="Bordered">Specifies the maximum amount of time the next iteration can wait to begin execution. The default is -1, which means that no timeout is specified for the next iteration. The timeout value is relative to the end of the previous iteration and is specified in units of the frame timing source.</td></tr></table><p class="Body"><strong><a name="OutputNode">(4) Output Node</a></strong></p><table class="Bordered"><tr><td class="Bordered"><strong>Actual End [f-1]</strong> (Unavailable in single-frame Timed Loops)</td><td class="Bordered">Returns the actual end time for the previous frame (f-1). The actual end value is relative to the start time of the timing source and is specified in units of the timing source.</td></tr><tr><td class="Bordered"><strong>Actual End [i-1]</strong></td><td class="Bordered">Returns the actual end time for the previous iteration (i-1). The actual end value is relative to the start time of the timing source and is specified in units of the timing source.</td></tr><tr><td class="Bordered"><strong>Error</strong></td><td class="Bordered">Propagates errors received by the Timed Loop and returns errors from the subdiagram.</td></tr><tr><td class="Bordered"><strong>Expected End [f-1]</strong> (Unavailable in single-frame Timed Loops)</td><td class="Bordered">Returns the expected end time for the previous frame (f-1). The expected end value is relative to the timing source if the frame timing source is not reset at the beginning of the iterations. The expected end value is specified in units of the timing source. The expected end (f-1) is equal to the start of the next period.</td></tr><tr><td class="Bordered"><strong>Expected End [i-1]</strong></td><td class="Bordered">Returns the expected end time for the previous iteration (i-1). The expected end value is relative to the timing source if the frame timing source is not reset at the beginning of the iterations. The expected end value is specified in units of the timing source.</td></tr><tr><td class="Bordered"><strong>Finished Late? [f-1]</strong> (Unavailable in single-frame Timed Loops)</td><td class="Bordered">Returns TRUE if the Timed Loop does not complete the previous frame before the specified deadline.</td></tr><tr><td class="Bordered"><strong>Finished Late? [i-1]</strong></td><td class="Bordered">Returns TRUE if the Timed Loop does not complete the previous iteration before the specified deadline.</td></tr><tr><td class="Bordered"><strong>Frame Duration</strong> (Unavailable in single-frame Timed Loops)</td><td class="Bordered">Returns the duration time of the previous frame. The frame duration is relative to the start of the frame and is specified in units of the frame timing source.</td></tr><tr><td class="Bordered"><strong>Global End Time</strong></td><td class="Bordered">Returns the end time of the previous iteration or frame in nanoseconds. If the timed loop uses an absolute timing source, <strong>Global End Time</strong> returns a timestamp. Otherwise, <strong>Global End Time</strong> returns a 64-bit integer. If the timed loop runs on an RT target, <strong>Global End Time</strong> is based on the target�s system time and can be synchronized with an external clock. If the timed loop runs on Windows, <strong>Global End Time</strong> is based on the Windows system time.</td></tr><tr><td class="Bordered"><strong>Iteration Duration</strong></td><td class="Bordered">Returns a time stamp of the execution length of the previous iteration. The iteration duration is relative to the start of the iteration and is specified in units of the timing source.</td></tr><tr><td class="Bordered"><strong>Processor</strong></td><td class="Bordered">Returns the processor you assigned to handle execution, if you assigned one. Otherwise, returns <span class="monospace">-2</span>, which means LabVIEW automatically assigned a processor.</td></tr></table><p class="Body">Refer to the <a href="../lvconcepts/Configuring_the_LabVIEW_Timed_Loop.html">Configuring Timed Loops</a> topic for more information about using and configuring the Timed Loop.</p><p class="Body">To convert a Timed Loop to a While Loop, right-click the Timed Loop and select <strong>Replace with While Loop</strong> from the shortcut menu. To convert a Timed Loop to a Timed Sequence structure, right-click the Timed Loop and select <strong>Replace with Timed Sequence</strong> from the shortcut menu.</p><p class="Body">Unlike the While Loop, the Timed Loop does not require wiring to the stop terminal.  If you do not wire anything to the stop terminal, the loop will run interminably.</p><p class="checkFile lvfpga Body">Refer to the <a href="../lvfpga/FPGA_Timed_Loop.html">Timed Loop (FPGA Module)</a> topic for more information about using and configuring the Timed Loop in FPGA Vis.</p><!-- Link to Additional VI/Function Information --><!-- Additional VI/Function Information --><!--Module Specific Content--><script type="text/javascript">if (typeof(writeVarRefs)=="function"){writeVarRefs("2682");}</script><!-- Example Information --><h2><a name="examples">Examples</a></h2><p class="Body">Refer to the following VIs for examples of using the Timed Loop:</p><ul><li>Timed Loop Offset VI: <span class="Monospace">labview\examples\Structures\Timed Loop</span><p class="Body"><a href="javascript:openVI('examples%5C%5CStructures%5C%5CTimed%20Loop%5C%5CTimed%20Loop%20Offset.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open example&nbsp;<a href="javascript:findExamples(3154);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find related examples</p></li><li>Timed Loop Resettable Source Type VI: <span class="Monospace">labview\examples\Structures\Timed Loop</span><p class="Body"><a href="javascript:openVI('examples%5C%5CStructures%5C%5CTimed%20Loop%5C%5CTimed%20Loop%20Resettable%20Source%20Type.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open example&nbsp;<a href="javascript:findExamples(3154);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find related examples</p></li></ul></div></body></HTML>