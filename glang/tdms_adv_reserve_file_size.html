<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><head><!--Generated from database. Edit in the database; do not edit this file.--><!--Function id="5162"--><TITLE>TDMS Reserve File Size Function</TITLE><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252"><meta http-equiv="Content-Style-Type" content="text/css"><link rel="STYLESHEET" type="text/css" href="minimal.css"><script src="common.js" type="text/javascript"></script><script src="jquery-1.7.2.min.js" type="text/javascript"></script><script src="cssframes.js" type="text/javascript"></script><link media="print" rel="stylesheet" type="text/css" href="print.css"></head><body bgcolor="#ffffff"><noscript><p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p><hr width="100%" noshade></noscript><div id="styleDivTitle"><!-- VI or Function Name --><H1>TDMS Reserve File Size Function</H1><!--Owning Palette--><p class="Body"><strong>Owning Palette:</strong> <a href="../glang/tdms_advanced_functions.html">Advanced TDMS VIs and Functions</a></p><!--Package and Platform--><p class="Body"><strong>Requires:</strong> Base Development System (Windows)</p><!-- VI/Function Description --><p class="Body">Pre-allocates disk space for writing and prevents fragmentation on a file-system level. If you are running this function on Windows with User Account Control enabled, you must run LabVIEW or the application with administrator privileges to avoid a run-time error.</p><!-- Supplemental VI/Function Information --><table class="Borderless"><tr><td class="Icon"><img src="note.gif"></td><td>If you are using this function to build an application, National Instruments recommends that you embed an application manifest to the application. The requested execution level in the manifest file must be <span class="Monospace">requireAdministrator</span>.<BR><BR>When a <a href="../lvhowto/NI_Test_Data_Exchange.html">.tdms</a> file is in use by this function, no other processes can access this file.</td></tr></table><!-- Link to Additional VI/Function Information and Examples  --><p class="Body"><a href="#examples">Example</a></p><!-- Graphic Reference --><MAP NAME="connector_pane"><AREA SHAPE="rect" COORDS="0,10,97,21" HREF="#Input0"><AREA SHAPE="rect" COORDS="0,25,97,34" HREF="#Input1"><AREA SHAPE="rect" COORDS="0,40,97,48" HREF="#Input2"><AREA SHAPE="rect" COORDS="0,53,97,64" HREF="#Input3"><AREA SHAPE="rect" COORDS="0,67,97,78" HREF="#Input4"><AREA SHAPE="rect" COORDS="198,25,260,34" HREF="#Output0"><AREA SHAPE="rect" COORDS="198,50,243,58" HREF="#Output1"></MAP><p class="Anchor"><img src="tdms_adv_reserve.gif" usemap="#connector_pane" border="0"></p><!--Add/Find Buttons--><table class="Borderless"><tr><td><a href="javascript:placeObject(object5162);"><img src="add.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Add to the block diagram</td><td><a href="javascript:findObject(object5162);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find on the palette</td></tr></table></div><div id="styleDivScrolling"><!-- Table of VI/Function Parameters --><table class="Borderless"><tr><td class="Icon"><a name="Input0"></a><img src="cbool.gif"></td><td><strong>append?</strong> specifies whether to append the new size that this function reserves to an existing file. If the value is FALSE, this function changes the file size of <strong>tdms file</strong> to the reserved size. If the value is TRUE, this function extends the file size of <strong>tdms file</strong> with the reserved size. The default is TRUE. </td></tr><tr><td class="Icon"><a name="Input1"></a><img src="cdvrn.gif"></td><td><strong>tdms file</strong> specifies a <a href="../lvhowto/Refnum_Controls_and_Indica.html">reference number</a> to the <span class="Monospace">.tdms</span> file on which to perform the operation. Use the <a href="../glang/tdms_adv_open.html">TDMS Advanced Open</a> function to open the refnum. </td></tr><tr><td class="Icon"><a name="Input2"></a><img src="cu64.gif"></td><td><strong>reserve size</strong> specifies the size to reserve in samples. <BR><BR>You can calculate the actual size, in bytes, that this function reserves by multiplying the value of <strong>reserve size</strong> by the number of bytes of <strong>data type</strong>. For example, if the value of <strong>reserve size</strong> is 512 and <strong>data type</strong> is an unsigned 16-bit integer, then you can calculate the actual size that this function reserves as follows: 512&times;(16&divide;8) = 1024 bytes.<BR><BR>For large files of several terabytes, the operating system may take a significant amount of time to pre-allocate disk space. Insert a delay in your application after the TDMS Reserve File Size function to ensure the file size is fully reserved. For multiple files on separate RAID volumes, if you reserve the file size in a loop, insert a single delay after the loop to avoid serializing the delays. NI recommends a time delay of 500 ms/TB.<table class="Borderless"><tr><td class="Icon"><img src="note.gif"></td><td><strong>Note</strong>&nbsp;&nbsp;If the <strong>disable buffering?</strong> input of the <a href="../glang/tdms_adv_open.html">TDMS Advanced Open</a> function is TRUE, the actual reserved size in bytes must be a multiple of the sector size of the hard disk. Use the TDMS Advanced Open function to obtain the sector size of the hard disk.</td></tr></table></td></tr><tr><td class="Icon"><a name="Input3"></a><img src="cerrcodeclst.gif"></td><td><strong>error in</strong> describes error conditions that occur before this node runs. This input provides <a href="../lvconcepts/using_standard_error_in.html">standard error in</a> functionality. </td></tr><tr><td class="Icon"><a name="Input4"></a><img src="cu8.gif"></td><td><strong>data type</strong> specifies the type of data on which you want to perform the operation. This input accepts integers, floating-point numbers, Booleans, and timestamps. <table class="Borderless"><tr><td class="Icon"><img src="note.gif"></td><td><strong>Note</strong>&nbsp;&nbsp;You can wire the following floating-point numbers to this input:<ul><li>Single-precision and double-precision floating-point numbers</li><li>Complex single-precision and double-precision floating-point numbers</li><li>Extended-precision floating-point numbers</li></ul></td></tr></table></td></tr><tr><td class="Icon"><a name="Output0"></a><img src="idvrn.gif"></td><td><strong>tdms file out</strong> returns a <a href="../lvhowto/Types_of_Refnum_Controls.html">TDMS file reference</a> to the <span class="Monospace">.tdms</span> file on which you performed the operation. </td></tr><tr><td class="Icon"><a name="Output1"></a><img src="ierrcodeclst.gif"></td><td><strong>error out</strong> contains error information. This output provides <a href="../lvconcepts/using_standard_error_out.html">standard error out</a> functionality. </td></tr></table><!-- Additional VI/Function Information --><!--Module Specific Content--><script type="text/javascript">if (typeof(writeVarRefs)=="function"){writeVarRefs("5162");}</script><!-- Example Information --><h2><a name="examples">Example</a></h2><p class="Body">Refer to the TDMS Advanced Append Multiple Headers VI in the <span class="Monospace">labview\examples\File IO\TDMS\Advanced Read and Write\Asynchronous Read and Write</span> directory for an example of using the TDMS Reserve File Size function.</p><p class="Body"><a href="javascript:openVI('examples%5C%5CFile%20IO%5C%5CTDMS%5C%5CAdvanced%20Read%20and%20Write%5C%5CAsynchronous%20Read%20and%20Write%5C%5CTDMS%20Advanced%20Append%20Multiple%20Headers.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open example&nbsp;<a href="javascript:findExamples(3151);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find related examples</p></div></body></HTML>