<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><head><!--Generated from database. Edit in the database; do not edit this file.--><!--Function id="279"--><TITLE>Scan String For Tokens Function</TITLE><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252"><meta http-equiv="Content-Style-Type" content="text/css"><link rel="STYLESHEET" type="text/css" href="minimal.css"><script src="common.js" type="text/javascript"></script><script src="jquery-1.7.2.min.js" type="text/javascript"></script><script src="cssframes.js" type="text/javascript"></script><link media="print" rel="stylesheet" type="text/css" href="print.css"></head><body bgcolor="#ffffff"><noscript><p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p><hr width="100%" noshade></noscript><div id="styleDivTitle"><!-- VI or Function Name --><H1>Scan String For Tokens Function</H1><!--Owning Palette--><p class="Body"><strong>Owning Palette:</strong> <a href="../glang/Addit_String_Functions.html">Additional String VIs and Functions</a></p><!--Package and Platform--><p class="Body"><strong>Requires:</strong> Base Development System</p><!-- VI/Function Description --><p class="Body">Scans <strong>input string</strong> starting at <strong>offset</strong> for tokens and outputs each segment as a <strong>token string</strong>.</p><!-- Supplemental VI/Function Information --><!-- Link to Additional VI/Function Information and Examples  --><p class="Body"><a href="#details">Details</a>&nbsp;&nbsp;</p><!-- Graphic Reference --><MAP NAME="connector_pane"><AREA SHAPE="rect" COORDS="0,19,170,30" HREF="#Input0"><AREA SHAPE="rect" COORDS="0,35,170,45" HREF="#Input1"><AREA SHAPE="rect" COORDS="0,48,170,57" HREF="#Input2"><AREA SHAPE="rect" COORDS="0,62,170,73" HREF="#Input3"><AREA SHAPE="rect" COORDS="0,76,170,87" HREF="#Input4"><AREA SHAPE="rect" COORDS="0,90,170,101" HREF="#Input5"><AREA SHAPE="rect" COORDS="272,35,320,45" HREF="#Output0"><AREA SHAPE="rect" COORDS="272,48,357,59" HREF="#Output1"><AREA SHAPE="rect" COORDS="272,62,331,73" HREF="#Output2"><AREA SHAPE="rect" COORDS="272,76,330,85" HREF="#Output3"></MAP><p class="Anchor"><img src="scantok.gif" usemap="#connector_pane" border="0"></p><!--Add/Find Buttons--><table class="Borderless"><tr><td><a href="javascript:placeObject(object279);"><img src="add.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Add to the block diagram</td><td><a href="javascript:findObject(object279);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find on the palette</td></tr></table></div><div id="styleDivScrolling"><!-- Table of VI/Function Parameters --><table class="Borderless"><tr><td class="Icon"><a name="Input0"></a><img src="cbool.gif"></td><td><strong>allow empty tokens?</strong> determines whether the function recognizes a token when it encounters multiple adjacent <strong>delimiters</strong>. If <strong>allow empty tokens?</strong> is FALSE (default), multiple adjacent <strong>delimiters</strong> can separate two tokens in <strong>input string</strong>. If <strong>allow empty tokens?</strong> is TRUE, an empty <strong>token string</strong> is returned between every pair of adjacent delimiters.</td></tr><tr><td class="Icon"><a name="Input1"></a><img src="cstr.gif"></td><td><strong>input string</strong> is the string to scan for tokens. </td></tr><tr><td class="Icon"><a name="Input2"></a><img src="ci32.gif"></td><td><strong>offset</strong> is the point in <strong>input string</strong> to begin scanning. The default is 0, which specifies the beginning of the string.</td></tr><tr><td class="Icon"><a name="Input3"></a><img src="c1dstr.gif"></td><td><strong>operators</strong> is an array of strings that the function identifies as tokens when they appear in <strong>input string</strong>, even if they are not surrounded by <strong>delimiters</strong>. If a portion of <strong>input string</strong> matches more than one defined operator, the function chooses the longest match as a token. For example, if <span class="Monospace">&gt;</span>, <span class="Monospace">=</span> and <span class="Monospace">&gt;=</span> are defined <strong>operators</strong>, the input string <span class="Monospace">4&gt;=0</span> produces <span class="Monospace">&gt;=</span> as the next token string with an <strong>offset</strong> of <span class="Monospace">1</span>.<br><br>A string in <strong>operators</strong> might contain the following special format codes, which you can use to scan entire numbers as single tokens.<table class="Bordered"><tr><td class="Bordered">%d</td><td class="Bordered">match decimal integer</td></tr><tr><td class="Bordered">%o</td><td class="Bordered">match octal integer</td></tr><tr><td class="Bordered">%x</td><td class="Bordered">match hexadecimal integer</td></tr><tr><td class="Bordered">%b</td><td class="Bordered">match binary integer</td></tr><tr><td class="Bordered">%e,%f,%g</td><td class="Bordered">match floating-point or scientific real number</td></tr><tr><td class="Bordered">%%</td><td class="Bordered">match a single % character</td></tr></table><table class="Borderless"><tr><td class="Icon"><img src="note.gif"></td><td><strong>Note</strong>&nbsp;&nbsp;If the strings + or &#8211; are defined as <strong>operators</strong>, the function does not recognize leading, or unary, + and &#8211; signs. The function always returns them as separate tokens. This is an exception to the &quot;longest match&quot; rule.</td></tr></table></td></tr><tr><td class="Icon"><a name="Input4"></a><img src="c1dstr.gif"></td><td><strong>delimiters</strong> is an array of strings that act as separators between tokens. Strings in <strong>delimiters</strong> are not returned as tokens but serve to separate adjacent tokens from each other. The default delimiters are the white space characters: space, tab, linefeed, and carriage return.</td></tr><tr><td class="Icon"><a name="Input5"></a><img src="cbool.gif"></td><td><strong>use cached delim/oper data?</strong> is an advanced optional input. If unwired, <strong>token string</strong> still behaves correctly. However, you can use <strong>use cached delim/oper data?</strong> to greatly improve string parsing performance. Set <strong>use cached delim/oper data?</strong> to FALSE the first time <strong>token string</strong> is executed, and TRUE each subsequent time as long as <strong>operators</strong> and <strong>delimiters</strong> have not changed. Use a shift register with a constant FALSE coming in and a constant TRUE going out to ensure correct behavior if <strong>operators</strong> and <strong>delimiters</strong> do not change during the execution of the loop. If <strong>use cached delim/oper data?</strong> is TRUE and <strong>operators</strong> or <strong>delimiters</strong> has changed since the last execution, incorrect output might result. If both <strong>operators</strong> and <strong>delimiters</strong> are unwired or are wired to block diagram constants, you can leave <strong>use cached delim/oper data?</strong> unwired and still achieve optimal performance.</td></tr><tr><td class="Icon"><a name="Output0"></a><img src="istr.gif"></td><td><strong>string out</strong> returns <strong>input string</strong> unchanged. </td></tr><tr><td class="Icon"><a name="Output1"></a><img src="ii32.gif"></td><td><strong>offset past token</strong> identifies the point in the <strong>input string</strong> immediately following the most recently found token and any trailing <strong>delimiters</strong>. Any subsequent scanning of the same <strong>input string</strong> should begin at this offset. If <strong>offset</strong> is less than 0 or greater than the number of characters in <strong>input string</strong>, or if the end of the string was reached, <strong>offset past token</strong> is &#8211;1.</td></tr><tr><td class="Icon"><a name="Output2"></a><img src="istr.gif"></td><td><strong>token string</strong> is the matched token. It can be one of the strings in <strong>operators</strong> or any text string in <strong>input string</strong> that appears between <strong>delimiters</strong>. </td></tr><tr><td class="Icon"><a name="Output3"></a><img src="ii32.gif"></td><td><strong>token index</strong> is the index of <strong>token string</strong> in <strong>operators</strong> if <strong>token string</strong> matches one of the elements in <strong>operators</strong>. If <strong>token string</strong> is any other string, <strong>token index</strong> returns &#8211;1. If the function reaches the end of <strong>input string</strong> without finding any valid operator, <strong>token index</strong> returns &#8211;2.</td></tr></table><!-- Additional VI/Function Information --><h2><a name="details">Scan String For Tokens Details</a></h2><p class="Body">Tokens are text segments that typically represent individual keywords, numeric values, or operators found when parsing a configuration file or other text-based data format. You can specify tokens with the data you pass into the function through the <strong>delimiters</strong> and <strong>operators</strong> inputs. For example, because the space character is a delimiter by default, each word of <span class="Monospace">This is a string</span> is a token, and you can parse the sentence into its component words.</p><p class="Body">Use this function in a <a href="../glang/While_Loop.html">While Loop</a> that processes one section of string at a time until <strong>token index</strong> returns &#8211;2 (indicating end of string). You can pass <strong>offset past token</strong> through a <a href="../lvhowto/Creating_Shift_Registers.html">shift register</a> into <strong>offset</strong>, so that each scan starts where the preceding scan ended.</p><p class="Body">By default, the function identifies and returns a token when it encounters a space, tab, carriage return, or linefeed. You can parse a string using these or any other <strong>delimiters</strong> you choose or you can define <strong>operators</strong>.</p><p class="Body">For example, suppose you wire the following values to the function.</p><table class="Bordered"><tr><th class="Bordered">Input</th><th class="Bordered">Value</th></tr><tr><td class="Bordered"><strong>input string</strong></td><td class="Bordered"><span class="Monospace">This is a testLabVIEWstring</span></td></tr><tr><td class="Bordered"><strong>offset</strong></td><td class="Bordered"><span class="Monospace">0</span> (default)</td></tr><tr><td class="Bordered"><strong>operators</strong></td><td class="Bordered"><span class="Monospace">[NI,asdf,LabVIEW]</span></td></tr><tr><td class="Bordered"><strong>delimiters</strong></td><td class="Bordered"><span class="Monospace">\s,\t,\r,\n</span> (default)</td></tr></table><p class="Body">If you place the function in a While Loop, the function returns the following values.</p><h3>First Iteration</h3><table class="Bordered"><tr><td class="Bordered"><strong>string out</strong></td><td class="Bordered"><span class="Monospace">This is a testLabVIEWstring</span></td></tr><tr><td class="Bordered"><strong>offset past token</strong></td><td class="Bordered"><span class="Monospace">5</span></td></tr><tr><td class="Bordered"><strong>token string</strong></td><td class="Bordered"><span class="Monospace">This</span></td></tr><tr><td class="Bordered"><strong>token index</strong></td><td class="Bordered"><span class="Monospace">&#8211;1</span> (not an operator)</td></tr></table><h3>Second Iteration</h3><table class="Bordered"><tr><td class="Bordered"><strong>string out</strong></td><td class="Bordered"><span class="Monospace">This is a testLabVIEWstring</span></td></tr><tr><td class="Bordered"><strong>offset past token</strong></td><td class="Bordered"><span class="Monospace">8</span></td></tr><tr><td class="Bordered"><strong>token string</strong></td><td class="Bordered"><span class="Monospace">is</span></td></tr><tr><td class="Bordered"><strong>token index</strong></td><td class="Bordered"><span class="Monospace">&#8211;1</span> (not an operator)</td></tr></table><h3>Third Iteration</h3><table class="Bordered"><tr><td class="Bordered"><strong>string out</strong></td><td class="Bordered"><span class="Monospace">This is a testLabVIEWstring</span></td></tr><tr><td class="Bordered"><strong>offset past token</strong></td><td class="Bordered"><span class="Monospace">10</span></td></tr><tr><td class="Bordered"><strong>token string</strong></td><td class="Bordered"><span class="Monospace">a</span></td></tr><tr><td class="Bordered"><strong>token index</strong></td><td class="Bordered"><span class="Monospace">&#8211;1</span> (not an operator)</td></tr></table><h3>Fourth Iteration</h3><table class="Bordered"><tr><td class="Bordered"><strong>string out</strong></td><td class="Bordered"><span class="Monospace">This is a testLabVIEWstring</span></td></tr><tr><td class="Bordered"><strong>offset past token</strong></td><td class="Bordered"><span class="Monospace">14</span></td></tr><tr><td class="Bordered"><strong>token string</strong></td><td class="Bordered"><span class="Monospace">test</span></td></tr><tr><td class="Bordered"><strong>token index</strong></td><td class="Bordered"><span class="Monospace">&#8211;1</span> (not an operator)</td></tr></table><h3>Fifth Iteration</h3><table class="Bordered"><tr><td class="Bordered"><strong>string out</strong></td><td class="Bordered"><span class="Monospace">This is a testLabVIEWstring</span></td></tr><tr><td class="Bordered"><strong>offset past token</strong></td><td class="Bordered"><span class="Monospace">21</span></td></tr><tr><td class="Bordered"><strong>token string</strong></td><td class="Bordered"><span class="Monospace">LabVIEW</span></td></tr><tr><td class="Bordered"><strong>token index</strong></td><td class="Bordered"><span class="Monospace">2</span> (second item in <strong>operators</strong>)</td></tr></table><h3>Sixth Iteration</h3><table class="Bordered"><tr><td class="Bordered"><strong>string out</strong></td><td class="Bordered"><span class="Monospace">This is a testLabVIEWstring</span></td></tr><tr><td class="Bordered"><strong>offset past token</strong></td><td class="Bordered"><span class="Monospace">&#8211;1</span> (no more tokens present)</td></tr><tr><td class="Bordered"><strong>token string</strong></td><td class="Bordered"><span class="Monospace">string</span></td></tr><tr><td class="Bordered"><strong>token index</strong></td><td class="Bordered"><span class="Monospace">&#8211;1</span> (not an operator)</td></tr></table><h3>Seventh Iteration</h3><table class="Bordered"><tr><td class="Bordered"><strong>string out</strong></td><td class="Bordered"><span class="Monospace">This is a testLabVIEWstring</span></td></tr><tr><td class="Bordered"><strong>offset past token</strong></td><td class="Bordered"><span class="Monospace">&#8211;1</span> (no more tokens present)</td></tr><tr><td class="Bordered"><strong>token string</strong></td><td class="Bordered">(end of string)</td></tr><tr><td class="Bordered"><strong>token index</strong></td><td class="Bordered"><span class="Monospace">&#8211;2</span> (end of string)</td></tr></table><!--Module Specific Content--><script type="text/javascript">if (typeof(writeVarRefs)=="function"){writeVarRefs("279");}</script><!-- Example Information --></div></body></HTML>