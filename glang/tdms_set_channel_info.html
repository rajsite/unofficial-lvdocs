<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><head><!--Generated from database. Edit in the database; do not edit this file.--><!--Function id="5163"--><TITLE>TDMS Set Channel Information Function</TITLE><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252"><meta http-equiv="Content-Style-Type" content="text/css"><link rel="STYLESHEET" type="text/css" href="minimal.css"><script src="common.js" type="text/javascript"></script><script src="jquery-1.7.2.min.js" type="text/javascript"></script><script src="cssframes.js" type="text/javascript"></script><link media="print" rel="stylesheet" type="text/css" href="print.css"></head><body bgcolor="#ffffff"><noscript><p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p><hr width="100%" noshade></noscript><div id="styleDivTitle"><!-- VI or Function Name --><H1>TDMS Set Channel Information Function</H1><!--Owning Palette--><p class="Body"><strong>Owning Palette:</strong> <a href="../glang/tdms_advanced_functions.html">Advanced TDMS VIs and Functions</a></p><!--Package and Platform--><p class="Body"><strong>Requires:</strong> Base Development System</p><!-- VI/Function Description --><p class="Body">Defines the channel information of the raw data that you want to write to the specified <a href="../lvhowto/NI_Test_Data_Exchange.html">.tdms</a> file. The channel information includes the data layout, name of the group, names of the channels, data type, and number of samples.</p><!-- Supplemental VI/Function Information --><table class="Borderless"><tr><td class="Icon"><img src="note.gif"></td><td><strong>Note</strong>&nbsp;&nbsp;If you use this function multiple times in an application, the order in which you use this function determines the order of channels and groups that you write to a <span class="Monospace">.tdms</span> file.</td></tr></table><!-- Link to Additional VI/Function Information and Examples  --><p class="Body"><a href="#details">Details</a>&nbsp;&nbsp;<a href="#examples">Example</a></p><!-- Graphic Reference --><MAP NAME="connector_pane"><AREA SHAPE="rect" COORDS="0,10,160,22" HREF="#Input0"><AREA SHAPE="rect" COORDS="0,26,160,35" HREF="#Input1"><AREA SHAPE="rect" COORDS="0,42,160,54" HREF="#Input2"><AREA SHAPE="rect" COORDS="0,58,160,68" HREF="#Input3"><AREA SHAPE="rect" COORDS="0,74,160,85" HREF="#Input4"><AREA SHAPE="rect" COORDS="0,90,160,102" HREF="#Input5"><AREA SHAPE="rect" COORDS="0,106,160,118" HREF="#Input6"><AREA SHAPE="rect" COORDS="267,26,338,35" HREF="#Output0"><AREA SHAPE="rect" COORDS="267,51,316,59" HREF="#Output1"></MAP><p class="Anchor"><img src="tdms_adv_set_channel.gif" usemap="#connector_pane" border="0"></p><!--Add/Find Buttons--><table class="Borderless"><tr><td><a href="javascript:placeObject(object5163);"><img src="add.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Add to the block diagram</td><td><a href="javascript:findObject(object5163);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find on the palette</td></tr></table></div><div id="styleDivScrolling"><!-- Table of VI/Function Parameters --><table class="Borderless"><tr><td class="Icon"><a name="Input0"></a><img src="cenum.gif"></td><td><strong>data layout</strong> specifies the arrangement of the data that you want to stream to a <span class="Monospace">.tdms</span> file. You must use the same data layout for each channel under the same group. <br><br><table class="Bordered"><tr><td class = "Bordered">0</td><td class = "Bordered"><strong>non-interleaved</strong> (default)&#8212;Specifies that the input data prioritizes channels before samples. This arrangement first lists all samples from the first channel, then all samples from the second channel, and so on through the last channel. The following table shows a typical example of the non-interleaved data layout.<br><br><table class="Bordered"><tr><td class="Bordered">Channel 0&#8212;Sample 1</td></tr><tr><td class="Bordered">Channel 0&#8212;Sample 2</td></tr><tr><td class="Bordered">...</td></tr><tr><td class="Bordered">Channel 0&#8212;Sample <em>N</em></td></tr><tr><td class="Bordered">Channel 1&#8212;Sample 1</td></tr><tr><td class="Bordered">Channel 1&#8212;Sample 2</td></tr><tr><td class="Bordered">...</td></tr><tr><td class="Bordered">Channel 1&#8212;Sample <em>N</em></td></tr><tr><td class="Bordered">Channel 2&#8212;Sample 1</td></tr><tr><td class="Bordered">Channel 2&#8212;Sample 2</td></tr><tr><td class="Bordered">...</td></tr><tr><td class="Bordered">Channel 2&#8212;Sample <em>N</em></td></tr></table></td></tr><tr><td class = "Bordered">1</td><td class = "Bordered"><strong>interleaved</strong>&#8212;Specifies that the input data prioritizes samples before channels. This arrangement lists the first sample from every channel, then the second sample from every channel, and so on through the last sample from every channel. The following table shows a typical example of the interleaved data layout.<br><br><table class="Bordered"><tr><td class="Bordered">Channel 0&#8212;Sample 1</td></tr><tr><td class="Bordered">Channel 1&#8212;Sample 1</td></tr><tr><td class="Bordered">Channel 2&#8212;Sample 1</td></tr><tr><td class="Bordered">Channel 0&#8212;Sample 2</td></tr><tr><td class="Bordered">Channel 1&#8212;Sample 2</td></tr><tr><td class="Bordered">Channel 2&#8212;Sample 2</td></tr><tr><td class="Bordered">...</td></tr><tr><td class="Bordered">Channel 0&#8212;Sample <em>N</em></td></tr><tr><td class="Bordered">Channel 1&#8212;Sample <em>N</em></td></tr><tr><td class="Bordered">Channel 2&#8212;Sample <em>N</em></td></tr></table></td></tr></table></td></tr><tr><td class="Icon"><a name="Input1"></a><img src="cdvrn.gif"></td><td><strong>tdms file</strong> specifies a <a href="../lvhowto/Refnum_Controls_and_Indica.html">reference number</a> to the <span class="Monospace">.tdms</span> file on which to perform the operation. Use the <a href="../glang/tdms_adv_open.html">TDMS Advanced Open</a> function to open the refnum. </td></tr><tr><td class="Icon"><a name="Input2"></a><img src="cstr.gif"></td><td><strong>group name</strong> specifies the group name for the channel. If you do not wire data to this input or if you wire an empty string to this input, this function uses <span class="Monospace">Untitled</span> as the group name. </td></tr><tr><td class="Icon"><a name="Input3"></a><img src="c1dstr.gif"></td><td><strong>channel name(s)</strong> specifies the names for the channels. </td></tr><tr><td class="Icon"><a name="Input4"></a><img src="cerrcodeclst.gif"></td><td><strong>error in</strong> describes error conditions that occur before this node runs. This input provides <a href="../lvconcepts/using_standard_error_in.html">standard error in</a> functionality. </td></tr><tr><td class="Icon"><a name="Input5"></a><img src="cu8.gif"></td><td><strong>data type</strong> specifies the type of data on which you want to perform the operation. This input accepts integers, floating-point numbers, Booleans, and timestamps. <table class="Borderless"><tr><td class="Icon"><img src="note.gif"></td><td><strong>Note</strong>&nbsp;&nbsp;You can wire the following floating-point numbers to this input:<ul><li>Single-precision and double-precision floating-point numbers</li><li>Complex single-precision and double-precision floating-point numbers</li><li><span class="Platform">(Windows)</span> Extended-precision floating-point numbers</li></ul></td></tr></table></td></tr><tr><td class="Icon"><a name="Input6"></a><img src="cu32.gif"></td><td><strong>samples per channel</strong> specifies the number of data samples that each channel contains. </td></tr><tr><td class="Icon"><a name="Output0"></a><img src="idvrn.gif"></td><td><strong>tdms file out</strong> returns a <a href="../lvhowto/Types_of_Refnum_Controls.html">TDMS file reference</a> to the <span class="Monospace">.tdms</span> file on which you performed the operation. </td></tr><tr><td class="Icon"><a name="Output1"></a><img src="ierrcodeclst.gif"></td><td><strong>error out</strong> contains error information. This output provides <a href="../lvconcepts/using_standard_error_out.html">standard error out</a> functionality. </td></tr></table><!-- Additional VI/Function Information --><h2><a name="details">TDMS Set Channel Information Details</a></h2><p class="Body">The following use cases demonstrate how the TDMS Set Channel Information function arranges raw data according to the <strong>data layout</strong> input.</p><h3>Single Group, Single Channel (Non-Interleaved)</h3><img src="loc_bd_tdms_data_layout_1g1c.gif"><p class="Body">The data layout in the file is consecutive samples per channel. In the previous figure, a single 16-bit numeric or I16 sample follows another I16 sample, which follows another I16 sample, and so on. You can write as many I16 samples as you want. For example, you can write one million I16 samples or two million I16 samples at a time.</p><h3>Single Group, Multiple Channels (Non-Interleaved)</h3><img src="loc_bd_tdms_data_layout_1gnc_noninterleaved.gif"><p class="Body">The data layout is 8 consecutive samples per channel. In the previous figure, the data layout is eight I16 samples for the <span class="Monospace">ch0</span> channel, eight I16 samples for the <span class="Monospace">ch1</span> channel, and so on.</p><h3>Single Group, Multiple Channels (Interleaved)</h3><img src="loc_bd_tdms_data_layout_1gnc_interleaved.gif"><p class="Body">In the previous figure, the data layout is an I16 sample for the <span class="Monospace">ch0</span> channel followed by an I16 sample for the <span class="Monospace">ch1</span> channel. This pair repeats in the file. The total file size or the <span class="Monospace">NI_ChannelLength</span> property determines how often the pair repeats.</p><h3>Multiple Group, Multiple Channels (Non-Interleaved)</h3><img src="loc_bd_tdms_data_layout_ngnc_noninterleaved.gif"><p class="Body">The data layout is 8 consecutive samples per channel per group or device. In the previous figure, the data layout contains eight I16 samples for the <span class="Monospace">ch0</span> channel for <span class="Monospace">device1</span>, eight I16 samples for the <span class="Monospace">ch1</span> channel for <span class="Monospace">device1</span>, eight I16 samples for the <span class="Monospace">ch0</span> channel for <span class="Monospace">device2</span>, eight I16 samples for the <span class="Monospace">ch1</span> channel for <span class="Monospace">device2</span>, and so on.</p><h3>Multiple Group, Multiple Channels (Interleaved)</h3><img src="loc_bd_tdms_data_layout_ngnc_interleaved.gif"><p class="Body">In the previous figure, the data layout is 8 pairs of an I16 sample for the <span class="Monospace">ch0</span> channel and an I16 sample for the <span class="Monospace">ch1</span> channel of <span class="Monospace">device1</span>. Following the 8 pairs is 8 pairs of an I16 sample for the <span class="Monospace">ch0</span> channel and an I16 sample for the <span class="Monospace">ch1</span> channel of <span class="Monospace">device2</span>. This pattern repeats in the file.</p><!--Module Specific Content--><script type="text/javascript">if (typeof(writeVarRefs)=="function"){writeVarRefs("5163");}</script><!-- Example Information --><h2><a name="examples">Example</a></h2><p class="Body">Refer to the TDMS Advanced Append Multiple Headers VI in the <span class="Monospace">labview\examples\File IO\TDMS\Advanced Read and Write\Asynchronous Read and Write</span> directory for an example of using the TDMS Set Channel Information function.</p><p class="Body"><a href="javascript:openVI('examples%5C%5CFile%20IO%5C%5CTDMS%5C%5CAdvanced%20Read%20and%20Write%5C%5CAsynchronous%20Read%20and%20Write%5C%5CTDMS%20Advanced%20Append%20Multiple%20Headers.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Open example&nbsp;<a href="javascript:findExamples(3151);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a>&nbsp;Find related examples</p></div></body></HTML>