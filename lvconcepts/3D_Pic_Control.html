<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- Generated from Graphics_and_Sound.xml. Edit in the XML file; do not edit this file.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">

<title>Using the 3D Picture Control</title>
<link rel="STYLESHEET" type="text/css" href="minimal.css">
<script src="common.js" type="text/javascript"></script><script src="expandable_tree.js" type="text/javascript"></script>
<link rel="STYLESHEET" type="text/css" href="expandable_tree.css"><script src="dynamicjumps.js" type="text/javascript"></script></head>
<body>
<noscript>
<p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p>
<hr width="100%" noshade>
</noscript><h1>Using the 3D Picture Control</h1>
<p class="Body">
				The 3D picture control displays graphical representations of <a href="3D_Pic_Control.html#3D_Objects">3D objects</a>. A 3D scene is a 3D object or a collection of 3D objects that you can view in the 3D picture control or in a separate scene window. As you design a 3D scene, you can generate multiple 3D objects and specify their <a href="3D_Pic_Control.html#3D_Transform">orientation</a>, <a href="3D_Pic_Control.html#3D_Textures">appearance</a>, and <a href="3D_Pic_Control.html#3D_Object_Relationships">relationship to other objects</a> within the 3D scene. You can set characteristics of the 3D scene such as the style and location of a <a href="3D_Pic_Control.html#Light_3D_Scene">light source</a> and <a href="3D_Pic_Control.html#View_3D_Scene">how a user-controlled camera interacts</a> with the 3D scene. </p>
<p class="Body">The following image shows a 3D picture control that contains a simple 3D scene.</p>
<p class="Anchor"><img src="noloc_fp_scenewlight.gif"></p><a name="3D_Objects"></a><h2>Creating 3D Objects</h2>
<p class="Body">
				
				
				
				
				
				
						The objects that appear in a 3D scene are graphical representations of physical objects. A 3D object is a set of vertices that exists in 3D space and any connections that may or may not exist between those vertices. When you <a href="../lvhowto/Create_3D_Scene.html">create a 3D scene</a>, you create one or more 3D objects to comprise the 3D scene. Use the <a href="../lvpict/Create_Object.html">Create Object</a> VI to create 3D objects.</p>
<p class="Body">After you create a 3D object, you must define how that object appears in the 3D scene. You can set the following drawable attributes for a 3D object:</p>
<ul>
<li><strong>Geometries</strong>�A geometry specifies the shape of a 3D object. The <a href="../lvpict/GeometriesVIs.html">Geometries</a> VIs, such as <a href="../lvpict/Create_Box.html">Create Box</a> and <a href="../lvpict/Create_Sphere.html">Create Sphere</a>, define the representation of simple geometric objects. You also can use <a href="3D_Meshes.html">meshes</a> to create more geometrically complex 3D objects.</li>
<li><strong>Text</strong>�If an object does not have a defined geometry, you can <a href="../lvhowto/3D_Add_Text.html">apply text</a> to the object to create a text object. Like objects with defined geometries, the text appears when you render the 3D scene. Use the <a href="../lvpict/Create_Text.html">Create Text</a> VI to create a new text and optionally to configure attributes of the text such as color and font. You also can use the <a href="../lvprop/SceneText_p.html">SceneText</a> properties and <a href="../lvprop/SceneText_m.html">SceneText</a> methods to configure attributes of the text.</li>
</ul>
<p class="Body">LabVIEW draws new objects with a default size and color and displays the objects in the center of the 3D scene. However, you can use <a href="3D_Pic_Control.html#3D_Transform">transformations</a> and <a href="3D_Pic_Control.html#3D_Textures">textures</a> to change the size, orientation, location, or surface appearance of a 3D object in a 3D scene. You also can use the <a href="../lvprop/SceneObject_p.html">SceneObject</a> properties and <a href="../lvprop/SceneObject_m.html">SceneObject</a> methods to configure a 3D object.
			</p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��You cannot apply <a href="3D_Pic_Control.html#3D_Textures">texture</a> to a text object.</td>
</tr>
</table><a name="3D_Transform"></a><h2>Applying Transformations</h2>
<p class="Body">
				
				
				
				A transformation changes the orientation or appearance of a 3D object according to a mathematical rule. Use the <a href="../lvpict/TransformationsVIs.html">Transformations</a> VIs to change the size, orientation, or location of an object in a 3D scene. You can apply the following three common transformations to  3D objects:</p>
<ul>
<li><strong>Translation</strong>�Translating a 3D object moves the object to a new location in the 3D scene. To specify the new location for the 3D object, you define a vector along which to translate the object.</li>
<li><strong>Rotation</strong>�Rotating a 3D object changes the orientation of the 3D object. To specify the new orientation for the 3D object, you define an axis around which the object rotates and an angle around the axis by which the rotation occurs.</li>
<li><strong>Scaling</strong>�Scaling a 3D object changes the size of the 3D object. To specify the new scale for the 3D object, you set the factors in the <em>x</em>, <em>y</em>, and <em>z</em> planes of the 3D scene by which you want to change the size of the object.</li>
</ul>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��To prevent 3D objects from appearing distorted, avoid scaling objects beyond the clipping planes. The default value of the near clipping plane, which defines the plane nearest the viewer, is <span class="Monospace">0</span> units. The default value of the far clipping plane, which defines the clipping plane farthest from the viewer, is <span class="Monospace">10000</span> units. You can use the <a href="../lvprop/SceneGraphDisplay_ProjPersp.html">Projection:Perspective</a> method to set values for clipping planes programmatically.</td>
</tr>
</table>
<p class="Body">For each transformation, you can perform an absolute transformation, which transforms the 3D object from the initial position of the object, or a relative transformation, which transforms the 3D object from the current position of the object. For example, use the <a href="../lvpict/Set_Translation.html">Set Translation</a> VI to translate a 3D object absolutely. Use the <a href="../lvpict/Translate_Object.html">Translate Object</a> VI to translate a 3D object relatively.</p>
<p class="Body">Refer to the Order of Transformations VI in the <span class="Monospace">labview\examples\Graphics and Sound\3D Picture Control</span> directory for an example of how to apply transformations to 3D objects.</p>
<p class="Body"><a href="javascript:openVI('examples%5C%5CGraphics%20and%20Sound%5C%5C3D%20Picture%20Control%5C%5COrder%20of%20Transformations.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Open example�
		
					<a href="javascript:findExamples(3755);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Find related examples</p><a name="3D_Textures"></a><h2>Applying Textures</h2>
<p class="Body">		
				
				
				You can change the surface appearance of a 3D object by <a href="../lvhowto/3D_Apply_Texture.html">wrapping a 2D image</a> around the 3D object. This process is called applying a texture. For example, you can turn a sphere into a planet by applying a 2D image of the planet surface to the sphere. The image of the planet surface is the texture. Use the <a href="../lvprop/SceneObject_Specials058Texturing.html">Specials:Texturing</a> property to enable texturing for each 3D object to which you want to apply a texture. Then, use the <a href="../lvpict/Texture.html">Texture</a> VI to create a new texture. Use the <a href="../lvprop/SceneTexture_p.html">SceneTexture</a> properties and <a href="../lvprop/SceneTexture_m.html">SceneTexture</a> methods to configure the texture.</p>
<p class="Body">Refer to the 3D Model of Solar System VI in the <span class="Monospace">labview\examples\Graphics and Sound\3D Picture Control</span> directory for an example of applying texture to 3D objects.</p>
<p class="Body"><a href="javascript:openVI('examples%5C%5CGraphics%20and%20Sound%5C%5C3D%20Picture%20Control%5C%5C3D%20Model%20of%20Solar%20System.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Open example�
		
				<a href="javascript:findExamples(3763);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Find related examples</p><a name="3D_Object_Relationships"></a><h2>Creating Relationships between 3D Objects</h2>
<p class="Body">You can <a href="../lvhowto/Create_3D_MultiScene.html">create relationships between objects</a> in a 3D scene. Objects act as either parents or children. If you apply changes to a parent object, the child objects reflect those changes. Use object relationships in large 3D scenes to program more efficiently and for 3D scenes that involve related movement. For example, in a replica of the solar system, a change in the revolution speed of the Earth affects the revolution speed of the moon. Create the moon as a child of the Earth to avoid configuring transformation changes for both objects.</p>
<p class="Body">Refer to the 3D Model of Solar System VI in the <span class="Monospace">labview\examples\Graphics and Sound\3D Picture Control</span> directory for an example of creating relationships between 3D objects.</p>
<p class="Body"><a href="javascript:openVI('examples%5C%5CGraphics%20and%20Sound%5C%5C3D%20Picture%20Control%5C%5C3D%20Model%20of%20Solar%20System.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Open example�
		
				<a href="javascript:findExamples(3763);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Find related examples</p><a name="Light_3D_Scene"></a><h2>Configuring Light Sources</h2>
<p class="Body">
				
				
				
				LabVIEW can render a visible 3D scene with or without a configured light source. You can <a href="../lvhowto/3D_Light_Scene.html">configure a light source</a> to achieve visual effects such as sunlight or spotlights in a visible 3D scene. You can create three types of lights in a 3D scene: <a href="3D_Pic_Control.html#Directional">directional</a> lights, <a href="3D_Pic_Control.html#Positional">positional</a> lights, and <a href="3D_Pic_Control.html#Spotlights">spotlights</a>. Use the <a href="../lvpict/New_Light.html">New Light</a> VI to create a new light source. You also can use the <a href="../lvprop/SceneLight_p.html">SceneLight</a> properties to configure additional aspects of light sources, such as color, attenuation, and intensity.</p><a name="Directional"></a><h3>Directional Lights</h3>
<p class="Body">Use a directional light to create a light source that appears infinitely distant from objects in a 3D scene, mimicking the effect of sunlight. Because the position of a directional light is at infinity, you define only a direction for the light. Use the <a href="../lvprop/SceneLight_Direction.html">Direction</a> property to configure the light direction.</p><a name="Positional"></a><h3>Positional Lights</h3>
<p class="Body">Use a positional light if you want to configure a specific position, or origin, for the light. For a positional light, you specify <em>x</em>, <em>y</em>, and <em>z</em> coordinates for the position of the light source and coordinates for the direction of the light. The <em>x</em>, <em>y</em>, and <em>z</em> coordinates that specify the position of the light are relative to the object in the scene that owns that light, where the position of the owning object represents the coordinates 0, 0, 0. For example, if you want to position a light source directly beneath a 3D object, you can set the position of the light source to 1 object coordinate beneath the object by using the coordinates 0, -1, 0. Another 3D object located at 0, -3, 0 relative to the first object appears beneath the positional light, and assuming the direction of the light is toward the first object, the light source does not affect the second object. </p>
<p class="Body">To add a positional light to a 3D scene, attach that light to an object in the 3D scene by wiring the object refnum and the light refnum to the <a href="../lvprop/SceneObject_Add_Light.html">Light:Add Light</a> method. The object then owns the light. Use the <a href="../lvprop/SceneLight_Direction.html">Direction</a> property to configure the light direction, and the <a href="../lvprop/SceneLight_Position.html">Position</a> property to configure the light position.</p><a name="Spotlights"></a><h3>Spotlights</h3>
<p class="Body">Use a spotlight if you want to specify both a position and a direction for a light. A spotlight is a positional light with a defined direction and angle. Set up the light as a positional light, but use the <a href="../lvprop/SceneLight_Cutoff.html">Cutoff</a> property to define the angle of a spotlight. The value you wire to this property is equivalent to half the angle of the actual spotlight. For example, if you want the spotlight to emit a 40 degree angle of light, set this property to 20. This property accepts values 0 to 90 and 180, where 180 represents no cutoff.</p>
<p class="Anchor"><img src="loc_eps_spotlight.gif"></p>
<p class="Body">Refer to the Using Meshes VI in the <span class="Monospace">labview\examples\Graphics and Sound\3D Picture Control</span> directory for an example of configuring light sources.</p>
<p class="Body"><a href="javascript:openVI('examples%5C%5CGraphics%20and%20Sound%5C%5C3D%20Picture%20Control%5C%5CUsing%20Meshes.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Open example�
		
				<a href="javascript:findExamples(3763);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Find related examples</p><a name="View_3D_Scene"></a><h2>Viewing a 3D Scene</h2>
<p class="Body">
			
			
			
					You can <a href="../lvhowto/3D_Configure_Camera.html">configure how a user-controlled camera</a> interacts with a 3D scene, configure a separate scene window in which to display the 3D scene, and configure a 3D scene to update continuously to display live data.</p><a name="Scene_Camera"></a><h3>Configuring a Scene Camera</h3>
<p class="Body">Right-click the 3D picture control and select <strong>Camera Controller</strong> from the shortcut menu to specify how the camera interacts with the 3D scene. The Operating tool acts as the camera that you move about the 3D scene. You also can use the <a href="../lvprop/SceneGraphDisplay_p.html">SceneGraphDisplay</a> properties or <a href="../lvprop/SceneWindow_p.html">SceneWindow</a> properties to configure the scene camera programmatically.</p><a name="Scene_Window"></a><h3>Configuring a Scene Window</h3>
<p class="Body">
				
				
				You can <a href="../lvhowto/3D_Scene_Window.html">configure a separate scene window</a> in which to display the 3D scene when the VI runs. Use the <a href="../lvpict/Setup_Window.html">Setup Window</a> VI to configure a new scene window. You also can use the <a href="../lvprop/SceneWindow_p.html">SceneWindow</a> properties and <a href="../lvprop/SceneWindow_m.html">SceneWindow</a> methods to configure attributes such as the projection of the 3D scene and the size and active state of the scene window.</p><a name="Live_Data"></a><h3>Live Data</h3>
<p class="Body">
				
				
				You can configure a 3D scene to update continuously to display live, or continuously changing, 3D data. Enclose the 3D scene in a loop and using one of the following approaches:</p>
<ul>
<li>(Recommended) Use the Redraw method on the 3D picture reference inside the loop or wherever you want to redraw the scene.</li>
<li>Place the 3D picture control terminal or local variable wherever you want to refresh the scene.</li>
</ul>
<p class="Body">Refer to the 3D Model of Solar System VI in the <span class="Monospace">labview\examples\Graphics and Sound\3D Picture Control</span> directory for an example of configuring a scene camera and a scene window.</p>
<p class="Body"><a href="javascript:openVI('examples%5C%5CGraphics%20and%20Sound%5C%5C3D%20Picture%20Control%5C%5C3D%20Model%20of%20Solar%20System.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Open example�
		
				<a href="javascript:findExamples(3763);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Find related examples</p><a name="displaying_data_on_a_3d_model"></a><h2>Displaying Data on a 3D Model</h2>
<p class="Body">
				
				
				You can map real-world data onto a 3D model using free sensors and NI-DAQmx channels. Use the <a href="../lvpict/Sensor_Mapping.html">Sensor Mapping</a> Express VI to wire an array of data values that represent sensors you configure in the <strong>Configure Sensors</strong> dialog box. For example, if you have a NI-DAQmx task that includes two channels and you also place two free sensors on a 3D model, LabVIEW expects the data values input as <span class="Monospace">daqsensor1</span>, <span class="Monospace">daqsensor2</span>, <span class="Monospace">freesensor1</span>, and <span class="Monospace">freesensor2</span>. LabVIEW allocates space for every channel in a NI-DAQmx task if you place at least one NI-DAQmx channel on the 3D model. Refer to the <em>NI-DAQmx Help</em> for more information about using NI-DAQmx channels.</p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��You can create a NI-DAQmx task using the DAQ Assistant Express VI. However, the Sensor Mapping Express VI cannot retrieve the channels from the DAQ Assistant Express VI. You can wire the data to the <strong>Sensor Values</strong> input of the Sensor Mapping Express VI. Map the channels onto the 3D model by right-clicking the 3D model to place the sensors.</td>
</tr>
</table>
<p class="Body">Wire a 3D picture control to the <strong>Scene Ref Output</strong> of the Express VI. The data you wire to the Express VI appears on the 3D model. The sensors you place on the 3D model affect the color of the 3D model at the sensor point according to the data value the sensor represents.</p>
</body>
</html>