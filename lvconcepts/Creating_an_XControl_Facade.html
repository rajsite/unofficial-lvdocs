<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- Generated from Building_the_Front_Panel.xml. Edit in the XML file; do not edit this file.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">

<title>Using the XControl Facade Ability</title>
<link rel="STYLESHEET" type="text/css" href="minimal.css">
<script src="common.js" type="text/javascript"></script><script src="expandable_tree.js" type="text/javascript"></script>
<link rel="STYLESHEET" type="text/css" href="expandable_tree.css"><script src="dynamicjumps.js" type="text/javascript"></script></head>
<body>
<noscript>
<p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p>
<hr width="100%" noshade>
</noscript><h1>Using the XControl Facade Ability</h1>
<p class="Body">
				
				The Facade <a href="../lvconcepts/Using_XControl_Abilities.html">ability</a> defines the appearance of an <a href="../lvconcepts/Using_LabVIEW_XControls.html">XControl</a>. The Facade ability is represented by the Facade VI. Because the XControl requires the Facade ability, LabVIEW automatically adds the Facade VI to the XControl library when you create an XControl. The Facade VI must be a <a href="../lvconcepts/reentrancy.html">reentrant</a> VI.</p>
<h2>Editing the Facade VI</h2>
<p class="Body">
				
			You add LabVIEW controls and indicators to the Facade VI to create the front panel of the XControl. By default, the Facade VI includes data, display state, and container state controls and data, display state, and action indicators. These controls and indicators are hidden and are not part of the XControl appearance. Resize the front panel window to fit only the controls and indicators that make up the appearance of the XControl. Set the <a href="../lvhowto/Setting_Window_Options.html">window appearance properties</a> of the Facade VI to adjust the <a href="../lvhowto/Resizing_XControls.html">size</a> and <a href="../lvhowto/Altering_Appearance_of_XControls.html">appearance</a> of the XControl.</p>
<p class="Body">The block diagram of the Facade VI handles events for the front panel controls and the Facade VI itself. It contains a <a href="../glang/While_Loop.html">While Loop</a> with an <a href="../glang/Event_Structure.html">Event structure</a> in it. The Facade VI is not a continuously running VI. LabVIEW calls the Facade VI only when there is an event pending for the VI to handle. LabVIEW calls the Facade VI with the current data, display state, and container state. The VI handles the event and returns the updated data, display state, and type of action performed.</p>
<p class="Body">Use the <strong>Container State</strong> cluster to provide information about the instance of the XControl. The <strong>Container State </strong>cluster includes three elements�<strong>Indicator?</strong>, <strong>Run Mode?</strong>, and <strong>Refnum</strong>. Use <strong>Indicator?</strong> to determine if the XControl instance is a control or indicator. Use <strong>Run Mode?</strong> to determine if the VI you are using the XControl in is running or idle. <strong>Run Mode?</strong> is set to TRUE when the owning VI is running. <strong>Refnum</strong> is a reference to the XControl instance that you use only to query information about the XControl. Do not use <strong>Refnum</strong> to modify the XControl instance from the Facade VI.</p>
<p class="Body">When the Facade VI changes the data or display state, it should update the <strong>Action</strong> cluster and inform LabVIEW of the changes. The <strong>Action</strong> cluster contains three elements�<strong>Data changed</strong>, <strong>State changed</strong>, and <strong>Action name</strong>. Set <strong>Data changed</strong> to TRUE when the Facade VI changes the <strong>Data Out</strong> indicator. Set <strong>State changed</strong> to TRUE when the Facade VI changes the <strong>Display State Out</strong> indicator. Optionally, use <strong>Action name</strong> to name the action being performed.  This name appears when you select the <strong>Edit�Undo</strong> option. Typically, the Facade VI changes the data or display state in response to events generated on the front panel controls.</p>
<h2>Facade VI Events</h2>
<p class="Body">
				
				The Facade VI also responds to events generated in response to certain user interactions. These events include the <a href="../lvprop/FacadeVI_Data_Change.html">Data Change</a>, <a href="../lvprop/FacadeVI_DsplyStateChng.html">Display State Change</a>, <a href="../lvprop/FacadeVI_Direction_Change.html">Direction Change</a>, and <a href="../lvprop/FacadeVI_Exec_State_Change.html">Exec State Change</a> events. The Facade VI must handle the Data Change and Display State Change events in order for the XControl to function properly. Handling the Direction Change and Exec State Change events is optional.</p>
<p class="Body">LabVIEW calls the Facade VI to handle these events. For example, when you copy an XControl, LabVIEW generates all four events and calls the Facade VI on the new instance of the XControl. LabVIEW also generates all four events and calls the Facade VI when you load the front panel of a VI that contains the XControl. When the VI that contains the XControl switches from edit Mode to run Mode, and vice versa, LabVIEW generates Exec State Change and calls the Facade VI to respond to the VI execution state change.</p>
<p class="Body">When you select <strong>Edit�Undo</strong> or <strong>Edit�Redo</strong>, LabVIEW also calls the Facade VI. LabVIEW reverts the display state of the XControl before any action by the Facade VI changes the state. The current display state takes the place of the previous state. LabVIEW generates a Display State Change event and calls the Facade VI to update the XControl after the Undo or Redo action.</p>
<p class="Body">
				<a href="../lvhowto/CfgEvents.html">Edit each event case</a> to configure how the XControl responds to each event. To create XControls that respond quickly, configure the Facade VI to handle events and finish as quickly as possible. Do not use a Wait function to delay execution in the While Loop within the Event structure.</p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��You also can use the Facade VI to <a href="../lvhowto/Customizing_Shortcut_Menus_Programm.html">programmatically customize the shortcut menu</a> for an XControl. You cannot use the Shortcut Menu Editor to customize the shortcut menu for an XControl.</td>
</tr>
</table>
</body>
</html>