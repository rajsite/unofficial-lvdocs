<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- Generated from LabVIEW_Performance_and_Memory_Management.xml. Edit in the XML file; do not edit this file.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">

<title>Coercion Dots</title>
<link rel="STYLESHEET" type="text/css" href="minimal.css">
<script src="common.js" type="text/javascript"></script><script src="expandable_tree.js" type="text/javascript"></script>
<link rel="STYLESHEET" type="text/css" href="expandable_tree.css"><script src="dynamicjumps.js" type="text/javascript"></script></head>
<body>
<noscript>
<p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p>
<hr width="100%" noshade>
</noscript><a name="Coercion_Dots"></a><h1>Coercion Dots</h1>
<p class="Body">
					
					
					
					
					
					
					
					Coercion dots appear on block diagram nodes to alert you that LabVIEW converted the value passed into the node to a different representation. LabVIEW places a coercion dot on the border of the terminal where the conversion takes place. Because VIs and functions can have many terminals, a coercion dot can appear inside an icon if you wire through one terminal to another terminal.</p>
<h2>Red Coercion Dots</h2>
<p class="Body">LabVIEW places red coercion dots on block diagram nodes when you connect a wire of one numeric type to a terminal of a different numeric type or when you connect any non-variant wire to a <a href="Handling_Variant_Data.html">variant</a> terminal.</p>
<p class="Body">For example, LabVIEW places a red coercion dot on the <a href="../glang/Add.html">Add</a> function in the following illustration because the function requires two inputs of matching numeric data types, but receives a double-precision, floating-point number and an integer. The data types are similar enough that LabVIEW can coerce the integer and still perform the add operation.</p>
<p class="Anchor"><img src="noloc_bd_coercion.gif"></p>
<h2>Blue Coercion Dots</h2>
<p class="Body">LabVIEW places blue coercion dots on the output terminals of <a href="../glang/Numeric_Functions.html">Numeric</a> functions when you manually <a href="../lvhowto/configure_fxp_ops.html">configure fixed-point output settings</a> for a function. The dot indicates that LabVIEW does not adjust the output data type automatically to avoid <a href="../lvconcepts/numeric_data.html#FXP_overflow">overflow and rounding</a> errors.</p>
<p class="Body">The following block diagram shows a blue coercion dot.</p>
<p class="Anchor"><img src="noloc_bd_bluecoerce.gif"></p><a name="Eliminating_Coercions"></a><h2>Eliminating Coercion Dots to Maintain Accuracy and Optimize Memory Usage</h2>
<p class="Body">
						
					Coercion dots can affect <a href="../lvconcepts/VI_Memory_Usage.html">memory usage</a> or overall performance of a VI in the following ways:</p>
<ul>
<li><strong>Type definition coercions</strong>�If you wire an instance of a type definition to an object that does not link to the same type definition, the VI may generate inaccurate results.</li>
<li><strong>Scalar numeric coercions</strong>�If you manipulate different numeric types, LabVIEW coerces the data types to match. When this coercion occurs, the VI may generate inaccurate results.</li>
<li><strong>Large array coercions</strong>�If you coerce the data type of a very large array, the VI may use a large amount of memory and take longer to execute.</li>
</ul>
<p class="Body">If you match data types, you can avoid unnecessary coercions.</p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="tip.gif"></td>
<td><strong>Tip</strong>��When you move the cursor over a terminal with a coercion dot, the <strong>Connected Wire Data Type</strong> field of the <a href="../lvdialog/Context_Help_Window.html">Context Help</a> window displays the data type of the wire connected to the VI or function. To eliminate coercion dots, match the <strong>Connected Wire Data Type</strong> to the <strong>Terminal Data Type</strong>.</td>
</tr>
</table>
<h3>Type Definition Coercions</h3>
<p class="Body">When you wire an instance of a <a href="../lvconcepts/Custom_Cont_Ind_Type.html#Type_Definitions_and_Strict_Type_Definitions">type definition</a> to an object that does not link to that same type definition, LabVIEW places a coercion dot on the terminal receiving the data to warn you that if you edit the type definition, the VI may break or generate inaccurate data.</p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��If you wire a type definition to an object of the same data type, LabVIEW also coerces the type definition unless the object requires the same type definition. You can avoid the coercion by deleting the type definition and wiring the same parameter without a type definition to the object.</td>
</tr>
</table>
<p class="Body">If you edit the type definition of an object wired to a cluster or an enum, the wire connecting to the cluster or enum breaks.</p>
<p class="Body">The following block diagram illustrates a type definition coercion that can affect the accuracy of the results and break a wire if you edit the type definition. In this example, the input on the subVI links to a type definition that defines the filter type.</p>
<p class="Anchor"><img src="loc_bd_typedef_coercion.gif"></p>
<p class="Body">LabVIEW places a coercion dot on the wired terminal of the subVI to indicate that the enum constant does not link to the same type definition.</p>
<p class="Body">The following block diagram illustrates a use of type definitions that maintains the accuracy of the results and does not break the wire if you edit the type definition.</p>
<p class="Anchor"><img src="loc_bd_typedef_resolved.gif"></p>
<p class="Body">You can match the type definition of the input on the subVI by <a href="../lvhowto/Copying_and_Pasting_Object.html">copying</a> the object that links to the type definition or by <a href="../lvhowto/Relinking_Type_Defs.html">replacing</a> the object that does not link to the type definition with an instance of the type definition. You also can match the type definition of the input of the subVI by right-clicking the input terminal and selecting <strong>Create�Constant</strong> from the shortcut menu. The constant links to the type definition automatically.</p>
<h3>Scalar Numeric Coercions</h3>
<p class="Body">When manipulating simple scalar <a href="../lvhowto/Numeric_Data_Types_Table.html">numeric data types</a>, LabVIEW coerces to the data type that does not result in fractional data loss. If both data types are integers, LabVIEW coerces the data type with the lower maximum value to the data type with the higher maximum value.</p>
<p class="Body">The following block diagram illustrates a coercion that does not affect the accuracy of the results.</p>
<p class="Anchor"><img src="loc_bd_scalar_dot.gif"></p>
<p class="Body">In this example, when adding a double-precision, floating-point numeric to a long integer, LabVIEW coerces the long integer to a double-precision, floating-point numeric and adds the two values together. The coercion dot that LabVIEW places on the Add function does not change the result of the operation because LabVIEW coerces the data type with the lower maximum value to a more precise data type. However, you should match data types when possible.</p>
<p class="Body">If you want to make sure LabVIEW coerces the data to the type you want, change the data type of a control, constant, or indicator by right-clicking the object and selecting <strong>Representation</strong> from the shortcut menu.</p>
<p class="Body">The following block diagram illustrates a coercion that causes inaccurate results.</p>
<p class="Anchor"><img src="loc_bd_scalar_coercion.gif"></p>
<p class="Body">In this example, LabVIEW coerces the signed integer to an unsigned integer. Because LabVIEW attempts to coerce a negative value to a data type that does not support negative values, LabVIEW generates a value of 65,531 instead of -5. To avoid generating inaccurate data, <a href="../lvhowto/Changing_Numeric_Represent.html">change the representation</a> of block diagram objects to matching data types.</p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="tip.gif"></td>
<td><strong>Tip</strong>��You can enable the <a href="../lvscript/Numeric_Adapt_To_Source.html">Adapt to Source</a> property on the output indicator to automatically change the indicator data type to the data type of the numeric input values. To enable the Adapt to Source property, right-click the indicator and select <strong>Adapt to Source</strong> from the shortcut menu.</td>
</tr>
</table><a name="Array_Coercions"></a><h3>Large Array Coercions</h3>
<p class="Body">When LabVIEW coerces data stored in very large arrays, the VI can use up a large amount of memory and take longer to execute. The following block diagram illustrates a VI that uses a large amount of memory because LabVIEW coerces the data type of the large array to the data type of the input of the subVI.</p>
<p class="Anchor"><img src="loc_bd_array_wrong.gif"></p>
<p class="Body">In this example, LabVIEW coerces a very large array to extended-precision, floating-point numbers to match the data type of the subVI. To minimize memory usage, match data types by right-clicking the control, constant, or indicator on the block diagram and selecting <strong>Representation</strong> from the shortcut menu. In the previous block diagram, changing the data type of the constant and the control on the block diagram of the subVI eliminates the need for LabVIEW to coerce any data.</p>
<p class="Body">The following block diagram illustrates a VI that uses a more efficient amount of memory.</p>
<p class="Anchor"><img src="loc_bd_array_right.gif"></p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="tip.gif"></td>
<td><strong>Tip</strong>��To track and monitor how much memory a VI uses, you can use the <a href="../lvdialog/Profile.html">Profile Performance and Memory</a> window, which acquires and displays data about the execution time and memory usage of VIs.</td>
</tr>
</table>
<h3>Conversion Functions</h3>
<p class="Body">You can use <a href="../glang/Conversion_Functions.html">Conversion</a> functions to eliminate coercion dots. In general, Conversion functions have the same effect as coercion dots but take up more space on the block diagram. However, when you use a Conversion function inside a loop that generates an array, you can avoid the conversion of a large data buffer because the conversion takes place before LabVIEW creates the array, as the following block diagram illustrates.</p>
<p class="Anchor"><img src="loc_bd_conversion_bullet.gif"></p>
<h2>Changing the Color of Coercion Dots</h2>
<p class="Body">To change the color of red coercion dots, use the <a href="../lvdialog/Miscellaneous_Options.html">Environment</a> page of the <a href="../lvdialog/Options_Dialog_Box.html">Options</a> dialog box. Remove the checkmark from the <strong>Use default colors</strong> checkbox in the <strong>Colors</strong> section and click the <strong>Coercion Dots</strong> color box to select a different color.</p>
<p class="Body">You cannot change the color of blue coercion dots.</p>
</body>
</html>