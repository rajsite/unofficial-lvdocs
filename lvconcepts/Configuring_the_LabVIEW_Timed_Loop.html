<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- Generated from Loops_and_Structures.xml. Edit in the XML file; do not edit this file.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">

<title>Configuring Timed Loops and Timed Loops with Frames (Real-Time, Windows)</title>
<link rel="STYLESHEET" type="text/css" href="minimal.css">
<script src="common.js" type="text/javascript"></script><script src="expandable_tree.js" type="text/javascript"></script>
<link rel="STYLESHEET" type="text/css" href="expandable_tree.css"><script src="dynamicjumps.js" type="text/javascript"></script></head>
<body>
<noscript>
<p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p>
<hr width="100%" noshade>
</noscript><a name="Configuring_Timed_Loops"></a><h1>Configuring Timed Loops and Timed Loops with Frames (Real-Time, Windows)</h1>
<p class="Body">
				
				
				
				To configure the way a Timed Loop executes, use the <a href="../lvdialog/Loop_Configuration_DB.html">Configure Timed Loop</a> or the <a href="../lvdialog/Loop_Configuration_Frames_DB.html">Configure Timed Loop with Frames</a> dialog box. To display these dialog boxes, double-click the Input node or right-click the node and select <strong>Configure Input Node</strong> from the shortcut menu. You can use these dialog boxes to <a href="CON_Select_Timed_Struct_Timing.html">specify a timing source</a>, <a href="#Setting_the_Period">set a period</a>, and <a href="CON_Config_Adv_Timed_Seq_Set.html">configure advanced options</a>.</p>
<p class="Body">You also can wire data to the Input node to configure the options of a Timed Loop. By default, the Input node of a Timed Loop does not display all of the available input terminals. You can resize the Input node or right-click the node and use the shortcut menu to <a href="../lvhowto/HOW_Dis_Timed_Struct_terms.html">display hidden terminals</a>.</p><a name="Tips_And_Tricks_For_Using_Timed_Loops"></a><h2>Tips and Tricks for Using Timed Loops</h2>
<p class="Body">The following list provides additional information about using a Timed Loop.</p>
<ul>
<li>Unlike in a While Loop, you do not have to wire the conditional terminal in a Timed Loop.</li>
</ul>
<ul>
<li>You can wire data to the Right Data node to <a href="CON_Change_TSNodes_Dynam.html">configure the options of the next loop iteration dynamically</a>.</li>
<li>You can <a href="../lvconcepts/shift_registers_concepts.html">add shift registers</a> to Timed Loops to pass data from the current iteration to the next iteration.</li>
<li>To avoid unexpected timing behavior, do not add a VI configured to run at time-critical priority and a Timed Loop to the same block diagram.</li>
</ul><a name="Tips_And_Tricks_For_Using_Timed_Loops_with_Frames"></a><h2>Tips and Tricks for Using Timed Loops with Frames</h2>
<p class="Body">The following list provides additional information about using a Timed Loop with frames.</p>
<ul>
<li>You can wire data to the Input node to <a href="Configuring_the_LabVIEW_Timed_Loop.html">configure a Timed Loop with frames</a>, or you can right-click the Input node and select <strong>Configure Input Node</strong> from the shortcut menu to display the <a href="../lvdialog/Loop_Configuration_Frames_DB.html">Configure Timed Loop with Frames</a> dialog box and enter values for the options.</li>
<li>Right-click the structure border to <a href="../lvhowto/HOW_Add_Delete_Timed_Struct_Frames.html">add</a>, <a href="../lvhowto/HOW_Add_Delete_Timed_Struct_Frames.html">delete</a>, and <a href="../lvhowto/HOW_Merge_Timed_Struct_Frames.html">merge</a> frames.</li>
<li>If you want each frame to execute only once, right-click the Timed Loop structure border and select <strong>Replace with Timed Sequence</strong> from the shortcut menu.</li>
</ul>
<p class="Body">Refer to the <span class="Monospace">labview\examples\Structures\Timed Loop\Timed Loop.lvproj</span> for examples of using Timed Loops.</p>
<p class="Body">
				<a href="javascript:openProj('examples%5C%5CStructures%5C%5CTimed%20Loop%5C%5CTimed%20Loop.lvproj');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Open example�
		
				<a href="javascript:findExamples(3154);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Find related examples
			</p><a name="Configure_Next_Frame"></a><h2>Configuring the Next Frame</h2>
<p class="Body">Double-click the Right Data node of the current frame or right-click the node and select <strong>Configure Input Node</strong> from the shortcut menu to display the <a href="../lvdialog/Config_Next_Frame_Timing_DB.html">Configure Next Frame Timing</a> dialog box. You can use this dialog box to set a start time, a <a href="CON_Set_Priority_Timed_Structs.html">priority</a>, <a href="CON_Config_Adv_Timed_Seq_Set.html#Setting_a_Deadline">deadline</a>, and a <a href="CON_Config_Adv_Timed_Seq_Set.html#Setting_a_Timeout">timeout</a> for the next frame.</p>
<p class="Body">The start time specifies the time the next frame executes. You must specify a start time value relative to the start of the previous frame in absolute units of the frame timing source. Enter a value in the <strong>Start</strong> text box to specify a start time.</p>
<p class="Body">You also can use the input terminals of the Right Data node of a frame to <a href="CON_Change_TSNodes_Dynam.html#Configuring_the_Next_Iteration_of_a_Timed_Loop">dynamically configure the options</a> for the next iteration of a Timed Loop or to <a href="CON_Change_TSNodes_Dynam.html#Configuring_the_Next_Frame_of_a_Timed_Structure">dynamically configure the options of the next frame</a>. By default, the Right Data node of a Timed Loop frame does not display all of the available input terminals. You can resize the Right Data node or right-click the node and use the shortcut menu to <a href="../lvhowto/HOW_Dis_Timed_Struct_terms.html">display hidden terminals</a>.</p><a name="Setting_the_Period"></a><h2>Setting the Period of a Timed Loop</h2>
<p class="Body">The period is the length of time between iterations of a Timed Loop specified in absolute units of the structure timing source.</p>
<p class="Body">The Timed Loops in the following block diagram use the default 1 kHz timing source. The period (dt) for Loop A is 1,000 ms and the period for Loop B is 2,000 ms, which means Loop A executes every second and Loop B executes every two seconds. Both Timed Loops stop executing after six iterations. Loop A stops executing after six seconds, and Loop B stops executing after 12 seconds.</p>
<p class="Anchor"><img src="loc_bd_understandingperiod.gif"></p>
<p class="Body">The subdiagram of a Timed Loop or subdiagrams of a Timed Loop with frames must complete execution before the period specified for each iteration. If the subdiagram or subdiagrams do not complete execution before the specified period, the Timed Loop returns <span class="Monospace">TRUE</span> in the <strong>Finished Late? [i-1]</strong> output of the Output node or the <strong>Finished Late? [i-1]</strong> output of the Left Data node in the first frame of subsequent iterations.</p>
<p class="Body">If the subdiagram of the Timed Loop or subdiagrams of a Timed Loop with frames complete execution before the period of the loop, the Timed Loop sleeps and allows other code or structures to execute on the block diagram.</p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��Do not set the period of a Timed Loop to 0. National Instruments does not support applications that contain Timed Loops with periods of 0 because these periods cause undefined application behavior. If you need a loop that runs as fast as possible combined with the priority execution features of a Timed Loop, use a While Loop inside a Timed Sequence structure instead.</td>
</tr>
</table><a name="Timed_Loop_Modes"></a><h2>Setting the Mode of a Timed Loop</h2>
<p class="Body">Occasionally, an iteration of a Timed Loop might execute later than the time you specified. The mode of a Timed Loop determines how the loop handles any late executions. Use the options in the <strong>Action on Late Iterations</strong> section of the <a href="../lvdialog/Loop_Configuration_DB.html">Configure Timed Loop</a> or <a href="../lvdialog/Loop_Configuration_Frames_DB.html">Configure Timed Loop with Frames</a> dialog box to specify the mode a Timed Loop uses to handle the late execution of a Timed Loop iteration. You also can use the <strong>Mode</strong> input of the Input node to specify the mode for a Timed Loop.</p>
<p class="Body">You can handle the late execution of a Timed Loop in the following ways:</p>
<ul>
<li>LabVIEW can align the execution with the original established schedule.</li>
<li>LabVIEW can define a new schedule that starts at the current time. </li>
<li>The Timed Loop can process the missed iterations.</li>
<li>The Timed Loop can skip the missed iterations.</li>
</ul>
<p class="Body">For example, if you set a Timed Loop with a period of 100 ms and an offset of 30 ms, you expect the first loop iteration to execute 30 ms after the first timing source starts running and in multiples of 100 ms after that�at 130 ms, 230 ms, 330 ms, and so on. However, the first execution of the Timed Loop might occur after 240 ms have elapsed. Because other Timed Loops or hardware devices might already be running at the schedule you specified, you can align the late Timed Loop with the already running global schedule, which means the Timed Loop can align itself as quickly as possible with the schedule you specified. In this case, the next Timed Loop iteration would run at 330 ms and continue to run in multiples of 100�at 430 ms, 530 ms, and so on. If aligning the Timed Loop with other Timed Loops or other hardware devices is not important, the Timed Loop can run immediately and use the current time as its actual offset. In this case, the subsequent loop iterations run at 240 ms, 340 ms, 440 ms, and so on.</p>
<p class="Body">If the Timed Loop is late, it might miss data other Timed Loops or hardware devices generate. For example, if the Timed Loop misses two iterations and some of the data from the current period, a buffer can hold the data from the missed iterations. You can configure the Timed Loop to process the missed data before it aligns with the schedule you specified. However, a Timed Loop that processes the missed iterations causes jitter, which is the variance between the loop cycle time and the time you specified. If you do not want to process the missed data, the Timed Loop can ignore older data in the buffer that the loop iterations missed and process only the latest data, such as the data available at the next period and the subsequent iterations.</p><a name="Configuring_Modes_Using_the_Loop_Configuration_Dialog_Box"></a><h3>Configuring Modes Using the Configuration Dialog Box</h3>
<p class="Body">By default, the Timed Loop discards any data generated during missed iterations and maintains the original schedule. To display this mode setting, the icon for the <strong>Mode</strong> input of the Input node appears with a <span class="Monospace">D</span> for discard and an <span class="Monospace">M</span> for maintain. Remove the checkmark from the <strong>Discard missed periods</strong> checkbox in the <a href="../lvdialog/Loop_Configuration_DB.html">Configure Timed Loop</a> or <a href="../lvdialog/Loop_Configuration_Frames_DB.html">Configure Timed Loop with Frames</a> dialog boxes to process data any missed or late loop iterations generate. To display this mode setting, the icon for the <strong>Mode</strong> input of the Input node appears with <span class="Monospace">P</span> for process. Remove the checkmark from the <strong>Maintain original phase</strong> checkbox in the <strong>Configure Timed Loop</strong> or <strong>Configure Timed Loop with Frames</strong> dialog box to configure the Timed Loop to execute on a new schedule based on the first iteration of the Timed Loop.</p><a name="Configuring_Modes_Using_the_Input_Node"></a><h3>Configuring Modes Using the Input Node</h3>
<p class="Body">Use the <strong>Mode</strong> input of the Input node to configure the mode of a Timed Loop. Right-click the <strong>Mode</strong> input and select <strong>Create�Constant</strong> or <strong>Create�Control</strong> from the shortcut menu to create an enumerated constant or control. You can use this constant or control to select a mode.</p>
<p class="Body">Use the <strong>Mode</strong> input of the Input node to programmatically change the mode of a Timed Loop or maintain the configuration of the modes from the <a href="../lvdialog/Loop_Configuration_DB.html">Configure Timed Loop</a> dialog box.  Select <strong>No Change</strong> in the enumerated constant or control to maintain the current mode configuration or select an option to handle any late or missed iteration of the Timed Loop.</p>
<p class="Body">Refer to the Timed Loop Mode VI in the <span class="Monospace">labview\examples\Structures\Timed Loop</span> for an example of setting the mode for a Timed Loop.</p>
<p class="Body">
				<a href="javascript:openVI('examples%5C%5CStructures%5C%5CTimed%20Loop%5C%5CTimed%20Loop%20Mode.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Open example�
		
				<a href="javascript:findExamples(3154);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Find related examples
			</p><br><br><p class="Body"><img style="display:inline" src="back_arrow.gif"> <a href="../lvconcepts/CON_Timed_Structs.html"><em>Timed Structures</em> Home</a></p>
</body>
</html>