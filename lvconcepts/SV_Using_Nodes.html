<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- Generated from Shared_Variables.xml. Edit in the XML file; do not edit this file.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">

<title>Reading and Writing Shared Variables with Shared Variable Nodes</title>
<link rel="STYLESHEET" type="text/css" href="minimal.css">
<script src="common.js" type="text/javascript"></script><script src="expandable_tree.js" type="text/javascript"></script>
<link rel="STYLESHEET" type="text/css" href="expandable_tree.css"><script src="dynamicjumps.js" type="text/javascript"></script></head>
<body>
<noscript>
<p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p>
<hr width="100%" noshade>
</noscript><h1>Reading and Writing Shared Variables with Shared Variable Nodes</h1>
<p class="Body"><span class="Platform">(Real-Time, Windows)</span> A <a href="../lvcomm/variable_node.html">Shared Variable</a> node is a block diagram object that points to a corresponding <a href="../lvconcepts/SV_Publishing_Latest_Values.html">shared variable</a>. Use the Shared Variable node to read and write the value of a shared variable.</p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��<ul>
<li>If your application accesses a large number of shared variables, <a href="SV_UsingDynVarAPI.html">access the shared variables programmatically</a> to create a cleaner, more scalable block diagram.</li>
<li><span class="Platform">(Real-Time, Windows)</span> Opening a VI containing a Shared Variable node in a project that does not contain the corresponding shared variable in the <a href="../lvdialog/Project_Explorer_Window.html">Project Explorer</a> window causes the Shared Variable node to break. Any front panel controls associated with the missing shared variable also break. This behavior is specific to Windows and occurs only when you open the VI in a project. If you open the VI in the main application instance, LabVIEW does not notify you about missing shared variables.</li>
</ul>
				</td>
</tr>
</table><a name="adding"></a><h2>Adding Shared Variable Nodes to the Block Diagram</h2>
<p class="Body">You can add Shared Variable nodes to the block diagram in the following ways:</p>
<ul>
<li>Drag a shared variable from the <a href="../lvdialog/Project_Explorer_Window.html">Project Explorer</a> window onto the block diagram of a VI in the same project.</li>
<li>Add a Shared Variable node to the block diagram from the <a href="../lvcomm/Shared_Variable_Reference.html">Shared Variable</a> palette. You then must complete the following steps to point the Shared Variable node to a corresponding shared variable in the <a href="../lvdialog/Project_Explorer_Window.html">Project Explorer</a> window.
						<ol>
<li>Double-click the Shared Variable node to display the <a href="../lvdialog/browse_for_variable.html">Browse for Variable</a> dialog box.</li>
<li>Navigate to a shared variable in the <strong>Project/Network Tree</strong> list.</li>
<li>Click the <strong>OK</strong> button.</li>
</ol>
					</li>
<li><span class="Platform">(Real-Time, FPGA, and DSC Modules)</span> Right-click a control, indicator, or constant and select <strong>Change to Shared Variable Node</strong> from the shortcut menu. You also can select <strong>Create�Shared Variable Node</strong> from the shortcut menu when you right-click an output terminal.</li>
</ul><a name="access"></a><h2>Specifying Whether a Shared Variable Node Reads or Writes Data</h2>
<p class="Body">Complete the following steps to specify whether a Shared Variable node reads or writes data to the corresponding shared variable in the <a href="../lvdialog/Project_Explorer_Window.html">Project Explorer</a> window.</p>
<ol>
<li>Right-click the Shared Variable node.</li>
<li>Choose between the following options in the shortcut menu:
							<ul>
<li>Select <strong>Access Mode�Read</strong> to read data from the shared variable with the Shared Variable node. When you select this option, an output appears on the right side of the Shared Variable, as shown in the following figure. <p class="Anchor"><img src="loc_bd_SV_ReadNode.gif"></p>
								
								</li>
<li>Select <strong>Access Mode�Write</strong> to write data to the shared variable with the Shared Variable node. When you select this option, an input appears on the left side of the Shared Variable node, as shown in the following figure.
								<p class="Anchor"><img src="loc_bd_SV_WriteNode.gif"></p>
								<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��<!-- start_child = ..//SV_Binding_to_Existing_Sources.html; ..//SV_UsingDynVarAPI.html; -->If you write less than 8 kilobytes of data to a shared variable, LabVIEW can take up to 10 milliseconds to send that data over the network. To eliminate this delay, use the <a href="../lvcomm/flushsharedvar.html">Flush Shared Variable Data</a> VI to <a href="../lvconcepts/SV_Flush.html">send the shared variable data immediately</a>.<!-- end_child = ..//SV_Binding_to_Existing_Sources.html; ..//SV_UsingDynVarAPI.html; --></td>
</tr>
</table>
								</li>
</ul>
						 </li>
</ol><a name="timestamps"></a><h2>Determining Whether a Shared Variable Value Has Been Updated Since the Last Read</h2>
<p class="Body">Complete the following steps to use the <strong>timestamp</strong> indicator of a Shared Variable node to determine whether the shared variable value has been updated since the last read.</p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��
						<ul>
<li>LabVIEW configures <a href="../lvconcepts/SV_Configuring.html">network-published shared variables</a> for timestamping by default. To record a timestamp value for a single-process shared variable, you first must place a checkmark in the <strong>Enable Timestamping</strong> checkbox on the <a href="../lvdialog/variable_page.html">Variable</a> page of the <a href="../lvdialog/edit_variable_db.html">Shared Variable Properties</a> dialog box.</li>
<li>LabVIEW disables timestamps by default on <a href="../lvioscanhelp/io_vars.html">I/O variable</a> nodes because timestamps require additional memory and CPU overhead that can affect the determinism of an application. Enable timestamps for I/O variable nodes only if you plan to use the timestamps.</li>
</ul>
					</td>
</tr>
</table>
<ol>
<li>Right-click a Shared Variable node and select <strong>Timestamp�Show</strong> from the shortcut menu. A <strong>timestamp</strong> output appears on the right side of the Shared Variable node, represented by the red hourglass shown in the following figure.
					<p class="Anchor"><img src="loc_bd_SV_TimestampNode.gif"></p>
					</li>
<li>Right-click the <strong>timestamp</strong> output and select <strong>Create�Indicator</strong> from the shortcut menu to create a front-panel indicator that displays the timestamp data.</li>
</ol><a name="timeouts"></a><h2>Determining Whether a Shared Variable Node Timed Out</h2>
<p class="Body">Complete the following steps to specify a timeout period for the Shared Variable node and determine whether the Shared Variable node timed out.</p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��You can enable the timeout control only for Shared Variable nodes configured to read data.</td>
</tr>
</table>
<ol>
<li>Right-click the Shared Variable node on the block diagram and select <strong>Timeout�Show</strong> from the shortcut menu</li>
<li>Specify a timeout in milliseconds with the <strong>ms timeout</strong> control, represented by the blue clock on the left side of the following figure. Use the <strong>timed out?</strong> indicator, represented by the red clock on the right side of the following figure, to determine whether the Shared Variable node read new data in the specified time period or timed out.
							<p class="Anchor"><img src="loc_bd_SV_TimeoutNode.gif"></p>
						</li>
</ol><a name="AbsTarg"></a><h2>Specifying Whether Shared Variable Nodes Break When You Move Them to Different Targets</h2>
<p class="Body">
					
					
					<span class="Platform">(Real-Time, Windows)</span> To specify how a Shared Variable node connects to a shared variable, you can set the node to absolute or target-relative.</p>
<p class="Body">An absolute Shared Variable node always connects to the shared variable on the target on which you created the shared variable. Shared Variable nodes are absolute by default. If a VI contains an absolute Shared Variable node and you open the VI on a new target, the VI breaks because the node attempts to connect to the shared variable on the target on which you created the shared variable. Use absolute Shared Variable nodes when you do not expect to move VIs and variables to other targets.</p>
<p class="Body">A target-relative Shared Variable node always connects to the shared variable on the target that runs the VI that containing the Shared Variable node. If you move a VI that contains a target-relative Shared Variable node to a new target, you also must move the shared variable to the new target because target-relative Shared Variable nodes can connect to shared variables on the local host only. Use target-relative Shared Variable nodes when you are accessing shared variables on the local host and you expect to move VIs and variables to other targets.</p>
<p class="Body">To change an absolute Shared Variable node to target-relative, right-click the Shared Variable node on the block diagram and select <strong>Reference Mode�Target Relative</strong> from the shortcut menu. Target-relative Shared Variable nodes appear with a .\ glyph on the node. The following image shows a target-relative Shared Variable node.</p>
<p class="Anchor"><img src="loc_bd_targrel.gif"></p>
<p class="Body">To change a target-relative Shared Variable node to absolute, right-click the Shared Variable node and select <strong>Reference Mode�Absolute</strong> from the shortcut menu. The following image shows an absolute Shared Variable node.</p>
<p class="Anchor"><img src="loc_bd_absolute.gif"></p>
<p class="Body"><img style="display:inline" src="back_arrow.gif"> <a href="../lvconcepts/Data_Comm.html"><em>Data Communication Methods</em> Home</a></p>
</body>
</html>