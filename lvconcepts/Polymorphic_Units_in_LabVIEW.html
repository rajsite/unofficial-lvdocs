<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- Generated from Polymorphic_Units_in_LabVIEW.xml. Edit in the XML file; do not edit this file.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">

<title>Using Polymorphic Units</title>
<link rel="STYLESHEET" type="text/css" href="minimal.css">
<script src="common.js" type="text/javascript"></script><script src="expandable_tree.js" type="text/javascript"></script>
<link rel="STYLESHEET" type="text/css" href="expandable_tree.css"><script src="dynamicjumps.js" type="text/javascript"></script></head>
<body>
<noscript>
<p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p>
<hr width="100%" noshade>
</noscript><a name="Polymorphic_Units_in_LabVIEW"></a><h1>Using Polymorphic Units</h1>
<p class="Body">
				Use units to gain an additional level of consistency checking when you evaluate expressions and formulas, also known as dimensional analysis. With LabVIEW, you do not have to worry about conversions among systems of units because LabVIEW handles unit conversion when it displays data or when you enter data.</p>
<p class="Body">The LabVIEW built-in functions, such as <a href="../glang/Add.html">Add</a> and <a href="../glang/Multiply.html">Multiply</a>, are polymorphic with respect to units and automatically handle different units. However, to build a subVI with the same polymorphic unit capability, you must <a href="../lvhowto/Create_Polymorphic_Units.html">use polymorphic units</a>.</p>
<p class="Body">You can use polymorphic units for one VI to do the same calculation regardless of the units the inputs receive. For example, if you want to create a VI that computes the root-mean-square value of a waveform, you must define the unit associated with the waveform. A separate VI is necessary for voltage waveforms, current waveforms, temperature waveforms, and so on. However, instead of rewriting the same VI for each case, you can write a single subVI with polymorphic units and call it from the VIs with specific units.</p>
<p class="Body">LabVIEW treats a polymorphic unit as a unique unit. The polymorphic unit cannot convert to any other unit and propagates throughout the block diagram just as other units do. When you wire a control with the polymorphic unit <span class="Monospace">$1</span> to an indicator that also has the polymorphic unit <span class="Monospace">$1</span>, the units match, and the VI can compile.</p>
<p class="Body">You can use <span class="Monospace">$1</span> in combinations like any other unit. For example, if you multiply a control by 3 seconds and wire it to an indicator, the indicator must be <span class="Monospace">$1 s</span> units. Wiring an indicator that has different units from the control results in a broken wire.</p>
<p class="Body">A call to a subVI that contains polymorphic units computes output units based on the units its inputs receive. For example, suppose you create a subVI that has two inputs with the polymorphic units <span class="Monospace">$1</span> and <span class="Monospace">$2</span> that creates an output in the form <span class="Monospace">$1$2/s</span>. If you wire the subVI with inputs of <span class="Monospace">m/s</span> to the <span class="Monospace">$1</span> input and <span class="Monospace">kg</span> to the <span class="Monospace">$2</span> input, LabVIEW computes the output unit as <span class="Monospace">kg m/s^2</span>.</p>
<p class="Body">Suppose a different VI has two inputs of <span class="Monospace">$1</span> and <span class="Monospace">$1/s</span> and computes an output of <span class="Monospace">$1^2</span>. If you wire this VI with inputs of <span class="Monospace">m/s</span> to the <span class="Monospace">$1</span> input and <span class="Monospace">m/s^2</span> to the <span class="Monospace">$1/s</span> input, LabVIEW computes the output unit as <span class="Monospace">m^2/s^2</span>. However, if you wire this VI with inputs of <span class="Monospace">m</span> to the <span class="Monospace">$1</span> input and <span class="Monospace">kg</span> to the <span class="Monospace">$1/s</span> input, the subVI call is broken. LabVIEW declares one of the inputs as a unit conflict and computes (if possible) the output from the other unit. A VI with polymorphic units can have a subVI with polymorphic units because LabVIEW keeps the respective units distinct.</p><a name="When_to_Use_Polymorphic_Units"></a><h2>When to Use Polymorphic Units</h2>
<p class="Body">
				
 This section presents several examples of VIs with and without polymorphic units. It begins with a simple averaging example without any units. It then provides an example with a base unit. Next it turns this example into one with polymorphic units and uses it as a subVI for another example. The <a href="#Multiple_Averages">Multiple Averages</a> example and the <a href="Polymorphic_Units_in_LabVIEW.html#Multiple_Rates">Multiple Rates</a> example demonstrate when you might want to use a subVI with polymorphic unit capability.</p><a name="Averaging_without_Units"></a><h3>Averaging without Units</h3>
<p class="Body">The following front panel belongs to a VI that computes the average of two numbers. Notice that there are no units on the controls or indicator.</p>
<p class="Anchor"><img src="loc_fp_simpleavg.gif"></p>
<p class="Body">The following block diagram belongs to the VI.</p>
<p class="Anchor"><img src="loc_bd_simpleavg.gif"></p><a name="Averaging_with_One_Unit"></a><h3>Averaging with One Unit</h3>
<p class="Body">The following front panel belongs to a VI that computes the average of two numbers, each with a unit of meters.</p>
<p class="Anchor"><img src="loc_fp_avgmeters.gif"></p>
<p class="Body">The block diagram for this VI is identical to the previous block diagram. The units appear only on the front panel. If one control or indicator on the front panel has a unit, all controls and indicators on the front panel must have a unit or the block diagram displays broken wires, and the VI will not run.</p><a name="Averaging_with_Polymorphic_Units"></a><h3>Averaging with Polymorphic Units</h3>
<p class="Body">The following front panel belongs to a VI that computes the average of two numbers. Unlike the previous front panel, the following front panel has a polymorphic unit. The <a href="#Multiple_Averages">Multiple Averages</a> example uses this VI as a subVI.</p>
<p class="Anchor"><img src="loc_fp_avgunitsfp.gif"></p>
<p class="Body">The block diagram for this VI is identical to the previous block diagram. As with the Averaging with Meters example, the polymorphic units appear only on the front panel. If one control or indicator on the front panel has a unit, all controls and indicators on the front panel must have a unit or the block diagram displays broken wires, and the VI will not run.</p><a name="Multiple_Averages"></a><h3>Multiple Averages</h3>
<p class="Body">The following front panel belongs to a VI that calculates three different averages, each with different units, which is an example of when to use a subVI with polymorphic units.</p>
<p class="Anchor"><img src="loc_fp_multiavg.gif"></p>
<p class="Body">Notice that <strong>length a</strong> has a unit of feet, <strong>length b</strong> has a unit of inches, and <strong>avg length</strong> has a unit of inches. LabVIEW automatically handles the conversion from feet to inches for you because this VI uses polymorphic units.</p>
<p class="Body">The following block diagram uses the <a href="#Averaging_with_Polymorphic_Units">Averaging with Polymorphic Units VI</a> to average each example shown in the <a href="#Multiple_Averages">Multiple Averages</a> example.</p>
<p class="Anchor"><img src="loc_bd_multiavg.gif"></p>
<p class="Body">Notice that you can use the Averaging with Polymorphic Units subVI with all the units shown in the <a href="#Multiple_Averages">Multiple Averages VI</a>. Instead of creating a separate VI each time you want to average two numbers with units, you can use a subVI with polymorphic units.</p><a name="Rates_with_Polymorphic_Units"></a><h3>Rates with Polymorphic Units</h3>
<p class="Body">You also can use polymorphic units when an indicator unit is a combination of the input units, such as calculating rates. The following front panel belongs to a VI that calculates a quantity per interval. You usually do not create such simple subVIs. This is just an example to illustrate two polymorphic units on a subVI. The <a href="Polymorphic_Units_in_LabVIEW.html#Multiple_Rates">Multiple Rates</a> example uses this VI as a subVI.</p>
<p class="Anchor"><img src="loc_fp_rate.gif"></p>
<p class="Body">Notice that the quantity unit is <span class="Monospace">$1</span> and the interval unit is <span class="Monospace">$2</span>. You can use any number, 1 through 9, for a polymorphic unit.</p>
<p class="Body">The following block diagram belongs to the VI.</p>
<p class="Anchor"><img src="loc_bd_rate.gif"></p><a name="Multiple_Rates"></a><h3>Multiple Rates</h3>
<p class="Body">The following front panel belongs to a VI that calculates three different rates ï¿½ gradient, acceleration, and pressure.</p>
<p class="Anchor"><img src="loc_fp_multirate.gif"></p>
<p class="Body">Notice that two of the units on the controls are compound units. The previous Rates with Polymorphic Units subVI accepts both simple and compound units.</p>
<p class="Body">The following block diagram belongs to the VI.</p>
<p class="Anchor"><img src="loc_bd_multirate.gif"></p>
<p class="Body">The block diagrams in <a href="#Multiple_Averages">Multiple Averages</a> and <a href="Polymorphic_Units_in_LabVIEW.html#Multiple_Rates">Multiple Rates</a> are almost the same. Each performs three different calculations using one subVI with polymorphic units.</p>
</body>
</html>