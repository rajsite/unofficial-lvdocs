<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- Generated from Network_Streams.xml. Edit in the XML file; do not edit this file.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">

<title>Allocating Memory for Network Stream Endpoint Buffers</title>
<link rel="STYLESHEET" type="text/css" href="minimal.css">
<script src="common.js" type="text/javascript"></script><script src="expandable_tree.js" type="text/javascript"></script>
<link rel="STYLESHEET" type="text/css" href="expandable_tree.css"><script src="dynamicjumps.js" type="text/javascript"></script></head>
<body>
<noscript>
<p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p>
<hr width="100%" noshade>
</noscript><h1>Allocating Memory for Network Stream Endpoint Buffers</h1>
<p class="Body">
					
					Network stream <a href="../lvconcepts/endpoints.html">endpoints</a> use a FIFO buffer to transfer data. The <strong>data type</strong> and <strong>buffer size</strong> inputs of the <a href="../lvcomm/NS_CreateWriter.html">Create Network Stream Writer Endpoint</a> and <a href="../lvcomm/NS_CreateReader.html">Create Network Stream Reader Endpoint</a> functions determine how much memory the buffer requires. The <strong>element allocation mode</strong> input of these functions determines when initial buffer memory is allocated for non-scalar data types.</p>
<p class="Body">Regardless of the allocation mode you select, buffer size affects the amount of memory your application uses. Always <a href="../lvconcepts/VI_Memory_Usage.html#Monitoring_Memory_Usage">monitor memory usage</a> when testing your applications.</p>
<h2>Specifying the Allocation Mode for Network Stream Endpoint Buffers</h2>
<p class="Body">Use the <strong>element allocation mode</strong> input on the <a href="../lvcomm/NS_CreateWriter.html">Create Network Stream Writer Endpoint</a> and <a href="../lvcomm/NS_CreateReader.html">Create Network Stream Reader Endpoint</a> functions to specify allocation mode.</p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��The <strong>element allocation mode</strong> input does not affect the transfer of scalar data types. Scalar data transfers operate in <strong>pre-allocate</strong> mode.</td>
</tr>
</table>
<p class="Body">Use <strong>allocate as needed</strong> mode if your application transfers non-scalar data and you cannot determine the maximum size of each data element before run-time. In <strong>allocate as needed</strong> mode, LabVIEW allocates only enough memory to create a pointer or handle for each data element when the network stream is created. LabVIEW then dynamically allocates additional memory for each element as it enters the buffer.</p>
<p class="Body">Use <strong>pre-allocate</strong> mode if your application transfers non-scalar data and you can determine the maximum size of each data element at edit-time. In <strong>pre-allocate</strong> mode, the <a href="../lvcomm/NS_CreateWriter.html">Create Network Stream Writer Endpoint</a> and <a href="../lvcomm/NS_CreateReader.html">Create Network Stream Reader Endpoint</a> functions allocate initial buffer memory based on the <strong>data type</strong> input and <strong>writer buffer size</strong> or <strong>reader buffer size</strong> inputs.</p>
<p class="Body">To pre-allocate an endpoint buffer, you must wire an element of the maximum expected size to the <strong>data type</strong> input. The following figure shows a <a href="../lvcomm/NS_CreateWriter.html">Create Network Stream Writer Endpoint</a> function that allocates memory  for 100 string elements when the endpoint is created, each with a maximum size equivalent to <span class="Monospace">Example string</span>.</p>
<p class="Anchor"><img src="loc_bd_NS_endpointmemoryallocation.gif"></p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��Additional memory is allocated dynamically if an element requires more than the pre-allocated amount of memory at runtime.</td>
</tr>
</table>
<p class="Body"><img style="display:inline" src="back_arrow.gif"> <a href="../lvconcepts/Data_Comm.html"><em>Data Communication Methods</em> Home</a></p>
</body>
</html>