<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- Generated from Networking_in_LabVIEW.xml. Edit in the XML file; do not edit this file.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">

<title>Using LabVIEW with TCP/IP and UDP</title>
<link rel="STYLESHEET" type="text/css" href="minimal.css">
<script src="common.js" type="text/javascript"></script><script src="expandable_tree.js" type="text/javascript"></script>
<link rel="STYLESHEET" type="text/css" href="expandable_tree.css"><script src="dynamicjumps.js" type="text/javascript"></script></head>
<body>
<noscript>
<p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p>
<hr width="100%" noshade>
</noscript><a name="Using_LabVIEW_with_TCP_IP_and_UDP"></a><h1>Using LabVIEW with TCP/IP and UDP</h1>
<p class="Body">Internet Protocol (<a href="#IP">IP</a>), User Datagram Protocol (<a href="#UDP">UDP</a>), and Transmission Control Protocol (<a href="#TCP">TCP</a>) are basic tools for network communication. The name TCP/IP comes from two of the best-known protocols of the Internet protocol suite, the Transmission Control Protocol and the Internet Protocol.</p>
<p class="Body">
				You can use TCP/IP to communicate over single networks or interconnected networks. The individual networks can be separated by large geographical distances. TCP/IP routes data from one network or Internet-connected computer to another. Because TCP/IP is available on most computers, it can transfer information among diverse systems.
			</p><a name="LabVIEW_and_TCP_IP"></a><h2>LabVIEW and TCP/IP</h2>
<p class="Body">
				
				You can use the TCP/IP protocols with LabVIEW on all platforms. LabVIEW includes TCP and UDP VIs and functions you can use to create client or server VIs.</p><a name="IP"></a><h2>IP</h2>
<p class="Body">
				
				IP performs the low-level service of moving data between computers. IP packages data into components called datagrams. A datagram contains the data and a header that indicates the source and destination addresses. IP determines the correct path for the datagram to take across the network or Internet and sends the data to the specified destination.</p>
<p class="Body">IP cannot guarantee delivery. In fact, IP might deliver a single datagram more than once if the datagram is duplicated in transmission. Programs rarely use IP but use TCP or UDP instead.</p><a name="UDP"></a><h2>UDP</h2>
<p class="Body">
					
					
					UDP provides simple, low-level communication among processes on computers. Processes communicate by sending datagrams to a destination computer or port. A port is the location where you send data. IP handles the computer-to-computer delivery. After the datagram reaches the destination computer, UDP moves the datagram to its destination port. If the destination port is not open, UDP discards the datagram. UDP shares the same delivery problems of IP.</p>
<p class="Body">Use UDP in applications in which reliability is not critical. For example, an application might transmit informative data to a destination frequently enough that a few lost segments of data are not problematic.</p><a name="Using_UDP_in_LabVIEW"></a><h3>Using UDP in LabVIEW</h3>
<p class="Body">Because UDP is not a connection-based protocol such as TCP, you do not need to establish a connection with a destination before you send or receive data. Instead, you specify the destination for the data when you send each datagram. Operating systems do not report transmission errors.</p>
<p class="Body">Use the <a href="../lvcomm/UDP_Open.html">UDP Open</a> function to open a UDP socket on a port. The number of simultaneously open UDP ports depends on the operating system. The UDP Open function returns a network connection refnum that uniquely identifies the UDP socket. Use this connection refnum to refer to this socket in subsequent VI calls.</p>
<p class="Body">Use the <a href="../lvcomm/UDP_Write.html">UDP Write</a> function to send data to a destination, and use the <a href="../lvcomm/UDP_Read.html">UDP Read</a> function to read that data. Each write operation requires a destination address and port. Each read operation contains the source address and port. UDP preserves the datagram bytes that you specified for each command you send.</p>
<p class="Body">The size of UDP datagrams varies depending on the operating environment but has a maximum of 65535 bytes. National Instruments recommends using UDP to send datagrams no greater than 1 KB to minimize the chance that the underlying IP packet will need to be split and reassembled in transmission, which greatly increases the chance of packet loss.</p>
<p class="Body">When you finish all communications on a port, use the <a href="../lvcomm/UDP_Close.html">UDP Close</a> function to free system resources.</p><a name="UDP_Multicast"></a><h3>UDP Multicast</h3>
<p class="Body">You can use the UDP functions to communicate to a single client (single-cast) or to all computers on the subnet through a broadcast. If you want to communicate to multiple specific computers, you must configure the UDP functions to iterate through a list of clients. Using this technique creates duplicate network traffic because LabVIEW sends a separate copy of the data to each client and maintains a list of clients interested in receiving the data.</p>
<p class="Body">
					
					
					Use multicasting to communicate between a single sender and multiple clients on a network without requiring the sender to maintain a list of clients or send multiple copies of the data to each client. To receive data broadcast by a multicast sender, all clients must join a multicast group. The sender does not have to join a group to send data. The sender specifies a multicast IP address, which defines a multicast group. Multicast IP addresses are in the <span class="Monospace">224.0.0.0 </span>to <span class="Monospace">239.255.255.255</span> range. When a client wants to join a multicast group, it subscribes to the multicast IP address of the group. After subscribing to a multicast group, the client receives data sent to the multicast IP address.</p>
<p class="Body">To multicast in LabVIEW, use the <a href="../lvcomm/UDP_Multicast_Open.html">UDP Multicast Open</a> VI to open connections capable of reading, writing, or reading and writing UDP data. Specify the time-to-live (TTL) for writing data, the multicast address for reading data, and the multicast port number for reading and writing data. The default TTL is 1, which means LabVIEW sends the datagram only to the local subnet. When a router receives a multicast datagram, it decrements the datagram TTL. If the TTL is greater than 1, the router forwards the datagram to other routers. The following table lists what action occurs to a multicast datagram when you specify a value for the <strong>time-to-live</strong> parameter.</p>
<table class="Bordered">
<tr>
<td class="Bordered"><span class="Monospace">0</span></td>
<td class="Bordered">Datagram remains on the host computer.</td>
</tr>
<tr>
<td class="Bordered"><span class="Monospace">1</span></td>
<td class="Bordered">Datagram sent to every client on the same local subnet that subscribes to that IP address. Hubs/repeaters and bridges/switches forward the datagram. Routers do not forward the datagram if the TTL is <span class="Monospace">1</span>.</td>
</tr>
<tr>
<td class="Bordered"><span class="Monospace">&gt;1</span></td>
<td class="Bordered">Datagram is sent and routers forward it through TTL-1 layers.</td>
</tr>
</table>
<p class="Body">Refer to the following VIs for examples of using UDP multicasting:</p>
<ul>
<li>UDP Multicast 
� Receiver VI: <span class="Monospace">labview\examples\Data Communication\Protocols\UDP\UDP Multicast\UDP Multicast.lvproj</span>
						<br>
						<br>
						<a href="javascript:openVI('examples%5C%5CData%20Communication%5C%5CProtocols%5C%5CUDP%5C%5CUDP%20Multicast%5C%5CUDP%20Multicast%20-%20Receiver.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Open example�
		
						<a href="javascript:findExamples(3101);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Find related examples
					</li>
<li>UDP Multicast � Sender VI: <span class="Monospace">labview\examples\Data Communication\Protocols\UDP\UDP Multicast\UDP Multicast.lvproj</span>
						<br>
						<br>
						<a href="javascript:openVI('examples%5C%5CData%20Communication%5C%5CProtocols%5C%5CUDP%5C%5CUDP%20Multicast%5C%5CUDP%20Multicast%20-%20Sender.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Open example�
		
						<a href="javascript:findExamples(3101);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Find related examples
					</li>
</ul><a name="TCP"></a><h2>TCP</h2>
<p class="Body">
				
				
				
				
					TCP ensures reliable transmission across networks, delivering data in sequence without errors, loss, or duplication. TCP retransmits the datagram until it receives an acknowledgment.
			</p><a name="Using_TCP_in_LabVIEW"></a><h3>Using TCP in LabVIEW</h3>
<p class="Body">
				TCP is a connection-based protocol, which means that sites must establish a connection before transferring data. The data transmission occurs between a <a href="../lvhowto/Creating_TCP_Client.html">client</a> and a <a href="../lvhowto/Creating_TCP_Server.html">server</a>. TCP permits multiple, simultaneous connections.
			</p>
<p class="Body">
				You initiate a connection by waiting for an incoming connection or by actively seeking a connection with a specified address. In establishing TCP connections, you have to specify the address and a port at that address. Different ports at a given address identify different services at that address.
			</p>
<p class="Body">
				Use the <a href="../lvcomm/TCP_Open_Connection.html">TCP Open Connection</a> function to actively establish a connection with a specific address and port. If the connection is successful, the function returns a network connection refnum that uniquely identifies that connection. Use this connection refnum to refer to the connection in subsequent VI calls.
			</p>
<p class="Body">You can use the following techniques to wait for an incoming connection:</p>
<ul>
<li>Use the <a href="../lvcomm/TCP_Listen.html">TCP Listen</a> VI to create a listener and wait for an accepted TCP connection at a specified port. If the connection is successful, the VI returns a connection refnum, the address, and the port of the remote TCP client.</li>
<li>Use the <a href="../lvcomm/TCP_Create_Listener.html">TCP Create Listener</a> function to create a listener and use the TCP Wait on Listener function to listen for and accept new connections. The <a href="../lvcomm/TCP_Wait_on_Listener.html">TCP Wait On Listener</a> function returns the same listener ID you wired to the function. When you finish waiting for new connections, use the <a href="../lvcomm/TCP_Close_Connection.html">TCP Close Connection</a> function to close a listener. You cannot read from or write to a listener.</li>
</ul>
<p class="Body">The advantage of using the second technique is that you can use the TCP Close Connection function to cancel a listen operation, which is useful when you want to listen for a connection without using a timeout, but you want to cancel the listen when another condition becomes true. You can close the TCP Listen VI at any time.</p>
<p class="Body">When you establish a connection, use the <a href="../lvcomm/TCP_Read.html">TCP Read</a> function and the <a href="../lvcomm/TCP_Write.html">TCP Write</a> function to read and write data to the remote application.</p>
<p class="Body">
				Use the TCP Close Connection function to close the connection to the remote application. If unread data remains and the connection closes, you might lose data. Use a higher level protocol for your computer to determine when to close the connection.
			</p><a name="Deciding_between_TCP_and_UDP"></a><h3>Deciding between TCP and UDP</h3>
<p class="Body">TCP is the best protocol to use if you want reliable data transmission. UDP is a connectionless protocol with higher performance, but it does not ensure reliable data transmission.</p><a name="Timeouts_and_Errors"></a><h3>Timeouts and Errors</h3>
<p class="Body">When you design a network application, consider carefully what should happen if something fails. For example, if the server crashes, determine how each client VI handles it.</p>
<p class="Body">One solution is to make sure that each client VI has a timeout. If something fails to produce results after a certain amount of time, the client continues execution. In continuing, the client can try to reestablish the connection or report the error. If necessary, the client VI can shut down the application.</p><a name="TCP_and_UDP_Examples"></a><h3>TCP and UDP Examples</h3>
<p class="Body">Refer to the following VIs for examples of using the TCP and UDP VIs and functions:</p>
<ul>
<li>
					<span class="Monospace">labview\examples\Data Communication\Protocols\TCP\Simple TCP\Simple TCP.lvproj</span>
					<br>
					<br>
					<a href="javascript:openProj('examples%5C%5CData%20Communication%5C%5CProtocols%5C%5CTCP%5C%5CSimple%20TCP%5C%5CSimple%20TCP.lvproj');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Open example�
		
					<a href="javascript:findExamples(3101);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Find related examples
				</li>
<li>
					<span class="Monospace">labview\examples\Data Communication\Protocols\UDP\Simple UDP\Simple UDP.lvproj</span>
					<br>
					<br>
					<a href="javascript:openProj('examples%5C%5CData%20Communication%5C%5CProtocols%5C%5CUDP%5C%5CSimple%20UDP%5C%5CSimple%20UDP.lvproj');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Open example�
		
					<a href="javascript:findExamples(3101);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Find related examples
				</li>
</ul>
<p class="Body"><img style="display:inline" src="back_arrow.gif"> <a href="../lvconcepts/Data_Comm.html"><em>Data Communication Methods</em> Home</a></p>
</body>
</html>