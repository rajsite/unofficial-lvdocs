<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- Generated from Shared_Variables.xml. Edit in the XML file; do not edit this file.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">

<title>Configuring Scaling for Shared Variables</title>
<link rel="STYLESHEET" type="text/css" href="minimal.css">
<script src="common.js" type="text/javascript"></script><script src="expandable_tree.js" type="text/javascript"></script>
<link rel="STYLESHEET" type="text/css" href="expandable_tree.css"><script src="dynamicjumps.js" type="text/javascript"></script></head>
<body>
<noscript>
<p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p>
<hr width="100%" noshade>
</noscript><a name="Scaling_PrjVars"></a><h1>Configuring Scaling for Shared Variables</h1>
<p class="Body">
				
				
				Scaling is useful for converting a range of values from measured units into a calculated range. You can configure scaling for each data type of <a href="../lvconcepts/SV_Creating.html">shared variables</a>. You can configure scaling on the <a href="../lvdialog/sm_scale_page.html">Scaling</a> page of the <a href="../lvdialog/edit_variable_db.html">Shared Variable Properties</a> dialog box.</p>
<p class="checkFile lvdscprop Body"><span class="Platform">(DSC Module)</span> You also can use the Scaling <a href="../lvdscprop/SharedVariableIO_p.html">SharedVariableIO</a> properties to configure scaling.</p><a name="Scaling_Numeric_PrjVars"></a><h2>Scaling Numeric Shared Variables</h2>
<p class="Body">You can use <a href="../lvhowto/scaling_sv_howto.html">linear and square root scaling</a> for numeric shared variables.</p>
<p class="Body">Often an application needs you to manipulate the raw data used in the device server to put the data in a form, called engineering units, suitable for the users of the application. You can define the raw range and engineering range for a shared variable to perform simple conversions between the two ranges on the <a href="../lvdialog/sm_scale_page.html">Scaling</a> page of the <a href="../lvdialog/edit_variable_db.html">Shared Variable Properties</a> dialog box. The raw range refers to the values used by the device server. The engineering range refers to the values used by the <a href="../lvconcepts/NI_PSP.html">Shared Variable Engine</a> and the Human Machine Interface (HMI) application. </p><a name="Linear_and_Square_Root_Scaling"></a><h3>Linear and Square Root Scaling</h3>
<p class="Body">
				Linear scaling is defined by the following equation:</p>
<p class="Body"><em>m</em> * <em>raw</em> + <em>b</em></p>
<p class="Body">where <em>b</em> is the <strong>Engineering Zero Scale</strong>, and <em>m</em> is the (<strong>Engineering Full Scale</strong> � <strong>Engineering Zero Scale</strong>)/(<strong>Raw Full Scale</strong> � <strong>Raw Zero Scale</strong>).</p>
<p class="Body">Square root scaling is defined by the following equation:</p>
<p class="Body"><em>b</em> + <em>m</em> * sqrt(<em>raw</em> � <em>o</em>)</p>
<p class="Body">where <em>b</em> is the <strong>Engineering Zero Scale</strong>, <em>m</em> is the (<strong>Engineering Full Scale</strong> � <strong>Engineering Zero Scale</strong>)/sqrt(<strong>Raw Full Scale</strong> � <strong>Raw Zero Scale</strong>), and <em>o</em> is the <strong>Raw Zero Scale</strong>.</p>
<p class="Body">The following table shows shared variable values that range from 0 to 100 scaled to engineering units ranging from 0 to 10.</p>
<table class="Bordered">
<tr>
<th class="Bordered">Raw Units
					</th>
<th class="Bordered">Linear Scale
					</th>
<th class="Bordered">Square Root Scale
					</th>
</tr>
<tr>
<td class="Bordered">0</td>
<td class="Bordered">0</td>
<td class="Bordered">0</td>
</tr>
<tr>
<td class="Bordered">4</td>
<td class="Bordered">.4</td>
<td class="Bordered">2</td>
</tr>
<tr>
<td class="Bordered">9</td>
<td class="Bordered">.9</td>
<td class="Bordered">3</td>
</tr>
<tr>
<td class="Bordered">10</td>
<td class="Bordered">1</td>
<td class="Bordered">3.16</td>
</tr>
<tr>
<td class="Bordered">16</td>
<td class="Bordered">1.6</td>
<td class="Bordered">4</td>
</tr>
<tr>
<td class="Bordered">20</td>
<td class="Bordered">2</td>
<td class="Bordered">4.47</td>
</tr>
<tr>
<td class="Bordered">25</td>
<td class="Bordered">2.5</td>
<td class="Bordered">5</td>
</tr>
<tr>
<td class="Bordered">30</td>
<td class="Bordered">3</td>
<td class="Bordered">5.48</td>
</tr>
<tr>
<td class="Bordered">36</td>
<td class="Bordered">3.6</td>
<td class="Bordered">6</td>
</tr>
<tr>
<td class="Bordered">40</td>
<td class="Bordered">4</td>
<td class="Bordered">6.32</td>
</tr>
<tr>
<td class="Bordered">49</td>
<td class="Bordered">4.9</td>
<td class="Bordered">7</td>
</tr>
<tr>
<td class="Bordered">50</td>
<td class="Bordered">5</td>
<td class="Bordered">7.07</td>
</tr>
<tr>
<td class="Bordered">60</td>
<td class="Bordered">6</td>
<td class="Bordered">7.75</td>
</tr>
<tr>
<td class="Bordered">64</td>
<td class="Bordered">6.4</td>
<td class="Bordered">8</td>
</tr>
<tr>
<td class="Bordered">70</td>
<td class="Bordered">7</td>
<td class="Bordered">8.37</td>
</tr>
<tr>
<td class="Bordered">80</td>
<td class="Bordered">8</td>
<td class="Bordered">8.94</td>
</tr>
<tr>
<td class="Bordered">81</td>
<td class="Bordered">8.1</td>
<td class="Bordered">9</td>
</tr>
<tr>
<td class="Bordered">90</td>
<td class="Bordered">9</td>
<td class="Bordered">9.49</td>
</tr>
<tr>
<td class="Bordered">100</td>
<td class="Bordered">10</td>
<td class="Bordered">10</td>
</tr>
</table>
<p class="Body">The following table shows shared variable values that range from 0 to 100 scaled to engineering units ranging from 15 to 30. Offset scaling delivers more complicated results.</p>
<table class="Bordered">
<tr>
<th class="Bordered">Raw Units
					</th>
<th class="Bordered">Linear Scale
					</th>
<th class="Bordered">Square Root Scale
					</th>
</tr>
<tr>
<td class="Bordered">0</td>
<td class="Bordered">15</td>
<td class="Bordered">15</td>
</tr>
<tr>
<td class="Bordered">4</td>
<td class="Bordered">15.60</td>
<td class="Bordered">18</td>
</tr>
<tr>
<td class="Bordered">10</td>
<td class="Bordered">16.50</td>
<td class="Bordered">19.74</td>
</tr>
<tr>
<td class="Bordered">16</td>
<td class="Bordered">17.40</td>
<td class="Bordered">21</td>
</tr>
<tr>
<td class="Bordered">20</td>
<td class="Bordered">18</td>
<td class="Bordered">21.71</td>
</tr>
<tr>
<td class="Bordered">30</td>
<td class="Bordered">19.50</td>
<td class="Bordered">23.22</td>
</tr>
<tr>
<td class="Bordered">36</td>
<td class="Bordered">20.40</td>
<td class="Bordered">24</td>
</tr>
<tr>
<td class="Bordered">40</td>
<td class="Bordered">21</td>
<td class="Bordered">24.49</td>
</tr>
<tr>
<td class="Bordered">50</td>
<td class="Bordered">22.50</td>
<td class="Bordered">25.61</td>
</tr>
<tr>
<td class="Bordered">60</td>
<td class="Bordered">24</td>
<td class="Bordered">26.62</td>
</tr>
<tr>
<td class="Bordered">64</td>
<td class="Bordered">24.60</td>
<td class="Bordered">27</td>
</tr>
<tr>
<td class="Bordered">70</td>
<td class="Bordered">25.50</td>
<td class="Bordered">27.55</td>
</tr>
<tr>
<td class="Bordered">80</td>
<td class="Bordered">27</td>
<td class="Bordered">28.42</td>
</tr>
<tr>
<td class="Bordered">90</td>
<td class="Bordered">28.5</td>
<td class="Bordered">29.23</td>
</tr>
<tr>
<td class="Bordered">100</td>
<td class="Bordered">30</td>
<td class="Bordered">30</td>
</tr>
</table><a name="Linear_Scaling_Example"></a><h3>Linear Scaling Example</h3>
<p class="Body">In this example, a device server returns a voltage from 0 to 5 V. The voltage is related to a position sensor, and the real-world position is measured in centimeters, with 0 V mapped to 50 cm and 5 V mapped to 100 cm. The following table shows the values of the shared variables after scaling.</p>
<table class="Bordered">
<tr>
<th class="Bordered">Raw Units (V)
					</th>
<th class="Bordered">Linear Scale (cm)
					</th>
</tr>
<tr>
<td class="Bordered">0</td>
<td class="Bordered">50</td>
</tr>
<tr>
<td class="Bordered">1</td>
<td class="Bordered">60</td>
</tr>
<tr>
<td class="Bordered">2</td>
<td class="Bordered">70</td>
</tr>
<tr>
<td class="Bordered">3</td>
<td class="Bordered">80</td>
</tr>
<tr>
<td class="Bordered">4</td>
<td class="Bordered">90</td>
</tr>
<tr>
<td class="Bordered">5</td>
<td class="Bordered">100</td>
</tr>
</table><a name="Square_Root_Scaling"></a><h3>Square Root Scaling Example</h3>
<p class="Body">In this example, a flow meter measures the flow rate of a liquid using a differential pressure reading. The device server provides 4 to 20 mA readings. The actual flow is measured in gallons per minute (GPM), where 4 mA corresponds to 0 GPM and 20 mA corresponds to 100 GPM. The following table shows the values of the shared variables after scaling.</p>
<table class="Bordered">
<tr>
<th class="Bordered">Raw Units (mA)
					</th>
<th class="Bordered">Square Root Scale (GPM)
					</th>
</tr>
<tr>
<td class="Bordered">4</td>
<td class="Bordered">0</td>
</tr>
<tr>
<td class="Bordered">5</td>
<td class="Bordered">25</td>
</tr>
<tr>
<td class="Bordered">6</td>
<td class="Bordered">35.36</td>
</tr>
<tr>
<td class="Bordered">7</td>
<td class="Bordered">43.3</td>
</tr>
<tr>
<td class="Bordered">8</td>
<td class="Bordered">50</td>
</tr>
<tr>
<td class="Bordered">10</td>
<td class="Bordered">61.24</td>
</tr>
<tr>
<td class="Bordered">13</td>
<td class="Bordered">75</td>
</tr>
<tr>
<td class="Bordered">15</td>
<td class="Bordered">82.92</td>
</tr>
<tr>
<td class="Bordered">20</td>
<td class="Bordered">100</td>
</tr>
</table>
<p class="checkFile lvdscprop Body"><span class="Platform">(DSC Module)</span> Use the <a href="../lvdscprop/SV_Scaling_Units.html">Scaling.Units</a>
				<a href="../lvdscprop/SharedVariableIO_p.html">SharedVariableIO</a> property to assign units to a shared variable. In the previous example, you could specify gallons per minute as a constant to the Scaling.Units property.</p><a name="Scaling_Discrete_Tags"></a><h2>Scaling Boolean Shared Variables</h2>
<p class="Body">You can use <a href="../lvhowto/scaling_sv_howto.html">inverted scaling</a> for Boolean shared variables. When you enable inverted scaling, LabVIEW inverts the Boolean value when communicating with the server.</p><a name="Scaling_Bit_Array_Tags"></a><h2>Scaling U32 Bit Field Shared Variables</h2>
<p class="Body">You can use <a href="../lvhowto/scaling_sv_howto.html">invert mask and select mask scaling</a> for U32 bit field shared variables.</p>
<p class="Body">Mask scaling applies only to U32 bit fields. LabVIEW stores a bit field as a number, translating the number back into a 32-bit field when needed. The bit field holds a collection of 32 values, each value limited to 1 or 0. With mask scaling, you can decide which of these array members to pay attention to. Any bit filtered out by the mask appears as a zero. Bits not filtered out appear as zero or one, reflecting the actual value. A mask of</p>
<p class="Body">
				<span class="Monospace">00000000000000001111111111111111</span> (<span class="Monospace">0x0000FFFF</span>)
			</p>
<p class="Body">where <span class="Monospace">0</span> marks a position to filter out and <span class="Monospace">1</span> marks a place to report, reads the bit array</p>
<p class="Body">
				<span class="Monospace">10110011100011001100111000110010</span>
			</p>
<p class="Body">as the following:</p>
<p class="Body">
				<span class="Monospace">00000000000000001100111000110010</span>
			</p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��The invert mask does not invert bits that are masked out.</td>
</tr>
</table>
<p class="Body">The following table shows examples of shared variables configured for U32 bit field scaling.</p>
<table class="Bordered">
<tr>
<th class="Bordered">Shared Variable Name
					</th>
<th class="Bordered">Raw Value
					</th>
<th class="Bordered">Scaling Invert Mask
					</th>
<th class="Bordered">Scaling Select Mask
					</th>
<th class="Bordered">Scaled Value
					</th>
</tr>
<tr>
<td class="Bordered">Shared Variable 1</td>
<td class="Bordered">0x0000000F</td>
<td class="Bordered">0x00000000</td>
<td class="Bordered">0x000000FF</td>
<td class="Bordered">0x0000000F</td>
</tr>
<tr>
<td class="Bordered">Shared Variable 2</td>
<td class="Bordered">0x0000000F</td>
<td class="Bordered">0x00000033</td>
<td class="Bordered">0x000000FF</td>
<td class="Bordered">0x0000003C</td>
</tr>
<tr>
<td class="Bordered">Shared Variable 3</td>
<td class="Bordered">0x0000000F</td>
<td class="Bordered">0x00000033</td>
<td class="Bordered">0x0000000F</td>
<td class="Bordered">0x0000000C</td>
</tr>
<tr>
<td class="Bordered">Shared Variable 4</td>
<td class="Bordered">0x0000000F</td>
<td class="Bordered">0x00000000</td>
<td class="Bordered">0x00000033</td>
<td class="Bordered">0x00000003</td>
</tr>
<tr>
<td class="Bordered">Shared Variable 5</td>
<td class="Bordered">0x0000000F</td>
<td class="Bordered">0x00000033</td>
<td class="Bordered">0x00000033</td>
<td class="Bordered">0x00000030</td>
</tr>
<tr>
<td class="Bordered">Shared Variable 6</td>
<td class="Bordered">0x00000FF0</td>
<td class="Bordered">0x0000000F</td>
<td class="Bordered">0x000000FF</td>
<td class="Bordered">0x000000FF</td>
</tr>
</table>
</body>
</html>