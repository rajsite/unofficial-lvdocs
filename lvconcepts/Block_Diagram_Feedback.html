<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- Generated from Local_and_Global_Variables.xml. Edit in the XML file; do not edit this file.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">

<title>Feedback Node</title>
<link rel="STYLESHEET" type="text/css" href="minimal.css">
<script src="common.js" type="text/javascript"></script><script src="expandable_tree.js" type="text/javascript"></script>
<link rel="STYLESHEET" type="text/css" href="expandable_tree.css"><script src="dynamicjumps.js" type="text/javascript"></script></head>
<body>
<noscript>
<p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p>
<hr width="100%" noshade>
</noscript><a name="Block_Diagram_Feedback"></a><h1>Feedback Node</h1>
<p class="Body">
				
				
				
					Use a <a href="../glang/Feedback_Node.html">Feedback Node</a> to store data from previous block diagram executions or loop iterations. The Feedback Node is useful in storing and retrieving state information from the previous execution.</p>
<p class="Body">A Feedback Node does not perform any action on the data it receives. Instead, it receives a value from the <a href="Block_Diagram_Feedback.html#Initializer_Terminals">initializer terminal</a> and transfers the value to the next input terminal. When a Feedback Node receives a new value, the node stores the value until the node passes that value to the next input terminal. A Feedback Node is analogous to a z<sup>-1</sup> block in feedback control theory and digital signal processing.</p><a name="Creating_Feedback_Nodes"></a><h2>Creating Feedback Nodes</h2>
<p class="Body">A Feedback Node, shown as follows, automatically appears if you wire the output of a subVI, function, or group of subVIs and functions to the input of that same VI, function, or group and if you enable <strong>Auto-insert Feedback Node in cycles</strong> on the <a href="../lvdialog/Block_Diagram_Options.html">Block Diagram</a> page in the <a href="../lvdialog/Options_Dialog_Box.html">Options</a> dialog box. LabVIEW enables <strong>Auto-insert Feedback Node in cycles</strong> by default.</p>
<p class="Anchor"><img src="noloc_bd_feedbacknode.gif"></p>
<p class="Body">You also can manually select the Feedback Node on the <a href="../glang/Functions_Palette.html">Functions</a> palette.</p>
<p class="Body">Refer to the Feedback Node - Building Array VI in the <span class="Monospace">Structures\Feedback Node</span> directory for examples of the Feedback Node.</p>
<p class="Body">
				<a href="javascript:openVI('examples%5C%5CStructures%5C%5CFeedback%20Node%5C%5CFeedback%20Node%20-%20Building%20an%20Array.vi');"><img src="open.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Open example�
		
				<a href="javascript:findExamples(3154);"><img src="find.gif" border="0" style="padding-bottom: 4px; vertical-align: middle"></a> Find related examples
			</p><a name="Initializer_Terminals"></a><h2>Initializer Terminals</h2>
<p class="Body">
				
				
				The initializer terminal sets the initial value of the Feedback Node. The appearance of the initializer terminal, shown as follows, changes depending on how you configure the Feedback Node.</p>
<p class="Anchor"><img src="noloc_bd_fdbck_initonload.gif"></p>Denotes that the Feedback Node initializes when the VI loads or compiles.
			<p class="Anchor"><img src="noloc_bd_fdbck_initonfirstcall.gif"></p>Denotes that the Feedback Node initializes on the first call of the VI.
			<p class="Anchor"><img src="noloc_bd_initializerterminal.gif"></p>Denotes that the Feedback Node initializes every time the loop executes.
				
				<p class="Body">When you place a Feedback Node on the block diagram, the initializer terminal remains attached to the node and the node globally initializes each time the VI compiles or loads. The initial input of the Feedback Node for the first execution is the <a href="../lvconcepts/Block_Diagram_Objects.html#Control_and_Indicator_Data_Types">default value for the data type</a>. However, you can <a href="../lvhowto/Initialize_the_Feedback_N.html">set an initial value</a> for the Feedback Node. If you set an initial value, the Feedback Node initializes to that value on the first call of the VI in an execution. Each time the VI runs after the first execution, the initial value is the last value from the previous execution. If you <a href="feedback_node_concepts.html">use the Feedback Node in a loop</a>, you can move the initializer terminal to the left edge of the loop to configure the node to initialize every time the loop executes.</p>
<table class="checkFile lvfpga">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��
			<span class="Platform">(FPGA Module)</span> When you initialize a Feedback Node inside a single-cycle Timed Loop, the output value is the same as the initial value until the enable terminal is TRUE. If the enable terminal remains FALSE for more than one cycle and the initial value changes from cycle to cycle, the output value also changes.</td>
</tr>
</table><a name="Enable_Terminal"></a><h2>Enable Terminal</h2>
<p class="Body">
				
				
				Use the enable terminal, shown as follows, to enable or disable the Feedback Node. </p>
<p class="Anchor"><img src="noloc_bd_enableterm_feedbkN.gif"></p>
<p class="Body">You can display the enable terminal by right-clicking the Feedback Node and selecting <strong>Enable Terminal</strong> from the shortcut menu. If the enable terminal is set to TRUE, the Feedback Node runs as you configure it to run in the <a href="../lvpage/pp_Properties_DB.html">Properties</a> dialog box or from the shortcut menu of the node. If the enable terminal is set to FALSE, the Feedback Node continues to output the last value from the previous execution or iteration until the value of the terminal is set to TRUE again.
			</p><a name="Samples_of_Data"></a><h2>Samples of Data</h2>
<p class="Body">
				
				By default, the Feedback Node stores data from only the previous execution or iteration. However, you can use the <a href="../lvpage/pp_feedbackConfig_DB.html">Configuration</a> page of the <a href="../lvpage/pp_Properties_DB.html">Properties</a> dialog box to configure the Feedback Node to store samples of data from multiple subsequent executions or iterations by increasing the number of executions or iterations to delay the output of the Feedback Node. If you increase <strong>Delay</strong> to more than one execution or iteration, the Feedback Node outputs only the initializer value until the delay you specify is complete. The Feedback Node then begins to output the values it stored one at a time and in subsequent order.
			</p>
<table class="checkFile lvfpga">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��
			<span class="Platform">(FPGA Module)</span> If you place a checkmark in the <strong>Ignore FPGA reset method</strong> checkbox on the <a href="../lvfpgadialog/fpga_feedbacknode_config_db.html">FPGA Implementation</a> page of the <a href="../lvpage/pp_Properties_DB.html">Properties</a> dialog box, the LabVIEW FPGA Module removes the reset from the underlying register instantiations. This removal gives the compiler the option to implement the delays using shift register lookup tables (SRLs) instead of flip-flops. SRLs combine many delays into a single lookup table (LUT), which can reduce FPGA resource usage significantly compared to flip-flops.</td>
</tr>
</table>
<p class="Body">
For example, if you specify a delay of 3, the Feedback Node outputs the initializer value for three loop iterations. On the next iteration, the Feedback Node outputs the value from the first iteration, which is iteration 0, and then the value from the second iteration, and so on. The following block diagram illustrates the behavior of a Feedback Node with an initial value of 0 and a delay of 3.</p>
<p class="Anchor"><img src="loc_bd_feedbknode_delay.gif"></p>
<table class="Bordered">
<tr>
<th class="Bordered">Loop Iteration</th>
<th class="Bordered">Value the Feedback Node Outputs</th>
<th class="Bordered">End Value</th>
<th class="Bordered">Data the Feedback Node Stores</th>
</tr>
<tr>
<td class="Bordered" align="center">Before execution or iteration 0</td>
<td class="Bordered" align="center">N/A</td>
<td class="Bordered" align="center">N/A</td>
<td class="Bordered" align="center">0, 0, 0</td>
</tr>
<tr>
<td class="Bordered" align="center">0</td>
<td class="Bordered" align="center">0</td>
<td class="Bordered" align="center">0</td>
<td class="Bordered" align="center">0, 0, 0</td>
</tr>
<tr>
<td class="Bordered" align="center">1</td>
<td class="Bordered" align="center">0</td>
<td class="Bordered" align="center">1</td>
<td class="Bordered" align="center">0, 0, 1</td>
</tr>
<tr>
<td class="Bordered" align="center">2</td>
<td class="Bordered" align="center">0</td>
<td class="Bordered" align="center">2</td>
<td class="Bordered" align="center">0, 1, 2</td>
</tr>
<tr>
<td class="Bordered" align="center">3</td>
<td class="Bordered" align="center">0</td>
<td class="Bordered" align="center">3</td>
<td class="Bordered" align="center">1, 2, 3</td>
</tr>
<tr>
<td class="Bordered" align="center">4</td>
<td class="Bordered" align="center">1</td>
<td class="Bordered" align="center">5</td>
<td class="Bordered" align="center">2, 3, 5</td>
</tr>
<tr>
<td class="Bordered" align="center">5</td>
<td class="Bordered" align="center">2</td>
<td class="Bordered" align="center">7</td>
<td class="Bordered" align="center">3, 5, 7</td>
</tr>
<tr>
<td class="Bordered" align="center">6</td>
<td class="Bordered" align="center">3</td>
<td class="Bordered" align="center">9</td>
<td class="Bordered" align="center">5, 7, 9</td>
</tr>
<tr>
<td class="Bordered" align="center">7</td>
<td class="Bordered" align="center">5</td>
<td class="Bordered" align="center">12</td>
<td class="Bordered" align="center">7, 9, 12</td>
</tr>
</table>
<p class="Body">In the previous block diagram, the Feedback Node outputs the initializer value, 0, three times before it outputs the first value it received, which was 0.</p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��When you set <strong>Delay</strong> to two or more executions or iterations, you can wire an array to the initializer terminal to initialize each delay element to an arbitrary value.</td>
</tr>
</table><a name="Arrow_Direction"></a><h2>Arrow Direction</h2>
<p class="Body">
				
				You can change the arrow direction of a Feedback Node to indicate the flow of data along the wire by right-clicking the node and selecting <strong>Change Direction</strong> from the shortcut menu. Changing the arrow direction changes only the cosmetic appearance of the Feedback Node and the wires connected to it on the block diagram and does not change the direction of the flow of data.
			</p><a name="Z_Transform_View"></a><h2>Z-Transform View</h2>
<p class="Body">
				
				You can change a Feedback Node to display in z-transform view by right-clicking the node and selecting <strong>Z-Transform View</strong> from the shortcut menu. This view changes the appearance of the Feedback Node to look like that of a z<sup>-1</sup> block in feedback control theory and signal processing. Changing the node to z-transform view changes only the cosmetic appearance of the Feedback Node and does not change the functionality of the node.
			</p><a name="Feedback_Nodes_and_Indicators"></a><h2>Front Panel Indicators and Feedback Nodes</h2>
<p class="Body">
				
				
				Front panel indicators connected to the same cycle of wires as the Feedback Node display different values depending on their location on the wire relative to the Feedback Node. In the following block diagram, the Feedback Node passes the initial value to the next input node, which operates on the initial value and sends the final value to the indicator and back to the Feedback Node.</p>
<p class="Anchor"><img src="noloc_bd_feedbackbranchafter.gif"></p>
<p class="Body">In the previous block diagram, the <a href="../glang/Increment.html">Increment</a> function operates on the initial value of <span class="Monospace">4</span> before passing it to the indicator. Thus, the front panel indicator displays <span class="Monospace">5</span>. However, in the following block diagram, the Feedback Node sends the same data value to the Increment function, but the indicator displays a different value.</p>
<p class="Anchor"><img src="noloc_bd_feedbackbranchbefore.gif"></p>
<p class="Body">In the previous block diagram, the Feedback Node initial value, <span class="Monospace">4</span>, reaches the indicator before it reaches the Increment function. Although the final value sent to the Feedback Node from the Increment function is <span class="Monospace">5</span>, the front panel indicator displays the initial value of <span class="Monospace">4</span>.</p>
</body>
</html>