<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- Generated from Network_Streams.xml. Edit in the XML file; do not edit this file.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">

<title>Sending Commands between Applications</title>
<link rel="STYLESHEET" type="text/css" href="minimal.css">
<script src="common.js" type="text/javascript"></script><script src="expandable_tree.js" type="text/javascript"></script>
<link rel="STYLESHEET" type="text/css" href="expandable_tree.css"><script src="dynamicjumps.js" type="text/javascript"></script></head>
<body>
<noscript>
<p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p>
<hr width="100%" noshade>
</noscript><h1>Sending Commands between Applications</h1>
<p class="Body">
					
					
				Complete the following steps to send  <a href="../lvconcepts/Choosing_LV_Comm.html">commands</a> from one computer to another using the <a href="../lvcomm/NS_NetworkStreamsPalette.html">Network Streams</a> functions.</p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��You can use network streams on Windows and Real-Time systems only.</td>
</tr>
</table>
<ol>
<li><a href="../lvhowto/Creating_Type_Defs.html">Create a type definition</a> of an <a href="../lvconcepts/Ring_and_Enumerated_Type_Controls_and_Indicators.html">enumerated type control</a> with an entry for each command. For example, the following figure shows an example of a type definition of an enumerated type control with commands to turn a fan on, turn a fan off, and stop the application that controls the fan.
						<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��
Creating a type definition ensures that if you update one instance of the control, the other instances update as well.
							</td>
</tr>
</table>
							<br><br><p class="Anchor"><img src="loc_fp_Command.gif"></p>
						</li>
<li>Create a <strong>Writer Loop</strong> and a <strong>Reader Loop</strong>, just as you do when <a href="../lvconcepts/NS_Streaming_Data.html">streaming data</a>.</li>
<li>Within the <strong>Writer Loop</strong>, <a href="../lvhowto/CfgEvents.html">configure an Event structure</a> to send the commands based on user input. For example, in the following figure, the <a href="../lvcomm/NS_WriteStream_1.html">Write Single Element to Stream</a> function sends the <strong>Fan On</strong> or <strong>Fan Off</strong> command when the user clicks the <strong>Fan</strong> button.
							<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��Use the <a href="../lvcomm/NS_FlushAndWait.html">Flush Stream</a> function within the <strong>Writer Loop</strong> to minimize latency and ensure that commands propagate over the network immediately, as shown in the following figure.</td>
</tr>
</table>
							<br><br><p class="Anchor"><img src="loc_bd_NS_CommandWriter_Fan.gif"></p>
							<br><br>Similarly, in the following figure, the Write Single Element to Stream function sends the <strong>Stop</strong> command when the user clicks the <strong>Stop</strong> button.
							<br><br><p class="Anchor"><img src="loc_bd_NS_CommandWriter_Stop.gif"></p>
						</li>
<li>Configure the Event structure to do nothing if the Event structure times out, as shown in the following figure.
							<p class="Anchor"><img src="loc_bd_NS_CommandWriter_Timeout.gif"></p>
</li>
<li>Within the <strong>Reader Loop</strong>, parse the commands and handle error conditions.
							<ol>
<li>Place a <a href="../glang/Case_Structure.html">Case</a> structure inside the <strong>Reader Loop</strong> and wire the <strong>error out</strong> terminal of the <a href="../lvcomm/NS_ReadStream_1.html">Read Single Element from Stream</a> function to the case selector. </li>
<li>Place a Case structure within the <strong>No Error</strong> case and wire the <strong>data out</strong> terminal of the Read Single Element from Stream function to the case selector. Use this Case structure to parse the commands you send from the <strong>Writer Loop</strong>. For example, in the following figure, when the Read Single Element from Stream function receives the <strong>Fan On</strong> command, the Case structure switches to the <strong>Fan On</strong> case and sets the <a href="../lvioscanhelp/io_vars.html">I/O variable</a> that controls the fan to an intensity of 100, which activates the fan.
									<br><p class="Anchor"><img src="loc_bd_NS_CommandReader_FanOn.gif"></p>
									Similarly, in the following figure, when the Read Single Element from Stream function receives the <strong>Fan Off</strong> command, the Case structure switches to the <strong>Fan Off</strong> case and sets the I/O variable that controls the fan to an intensity of 0, which deactivates the fan.
									<br><p class="Anchor"><img src="loc_bd_NS_CommandReader_FanOff.gif"></p>
									Finally, in the following figure, when the Read Single Element from Stream function receives the <strong>Stop</strong> command, the Case structure switches to the <strong>Stop</strong> case, stops the <strong>Reader Loop</strong> with a <a href="../glang/True_Constant.html">TRUE</a> constant, and uses a <a href="../lvconcepts/SV_Publishing_Latest_Values.html">single-process shared variable</a> to stop any parallel tasks within the VI.
									<br><p class="Anchor"><img src="loc_bd_NS_CommandReader_Stop.gif"></p>
								</li>
<li>Within the <strong>Error</strong> case, write code to stop the <strong>Reader Loop</strong> and any parallel tasks within the VI if an error occurs, as shown in the following figure.
									<p class="Anchor"><img src="loc_bd_NS_CommandReader_Error.gif"></p>
								</li>
</ol>
						</li>
</ol>
<p class="Body"><img style="display:inline" src="back_arrow.gif"> <a href="../lvconcepts/Data_Comm.html"><em>Data Communication Methods</em> Home</a></p>
</body>
</html>