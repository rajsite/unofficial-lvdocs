<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- Generated from Shared_Libraries_DLLs.xml. Edit in the XML file; do not edit this file.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">

<title>Example 1: Call a Shared Library That You Built</title>
<link rel="STYLESHEET" type="text/css" href="minimal.css">
<script src="common.js" type="text/javascript"></script><script src="dynamicjumps.js" type="text/javascript"></script></head>
<body>
<noscript>
<p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p>
<hr width="100%" noshade>
</noscript><a name="Example_1__Call_a_Shared_Library_that_You_Built"></a><h1>Example 1: Call a Shared Library That You Built</h1>
<p class="Body">
					 This section describes the tasks necessary to complete the Array Average VI you started building in <a href="../lvhowto/develop_distribute_applications.html">Building a Shared Library to Call from LabVIEW</a> so the VI can call the <span class="Monospace">avg_num</span> function in <span class="Monospace">myshared.dll</span>.</p>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��
					<span class="Platform">(Linux)</span> The shared library file has a <span class="Monospace">.so</span> extension. You cannot call functions in static libraries (<span class="Monospace">.a</span> files) on Linux. You can only call shared libraries (<span class="Monospace">.so</span> files) dynamically.</td>
</tr>
</table>
<p class="Body">You must complete the following tasks before the Array Average VI can call the <span class="Monospace">avg_num</span> function in <span class="Monospace">myshared.dll</span>.</p>
<ul>
<li>Complete configuration of the <a href="../glang/Call_Library_Function.html">Call Library Function Node</a>.</li>
<li>Build the front panel window.</li>
<li>Complete the block diagram.</li>
</ul><a name="Complete_Configuration_of_the_Call_Library_Function_Node"></a><h2>Complete Configuration of the Call Library Function Node</h2>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��If you want to run applications or shared libraries created with different versions of LabVIEW on the same computer, the computer <a href="../lvconcepts/Using_the_LV_Run_Time_Eng.html">must have a version of the LabVIEW Run-Time Engine that is compatible</a> with each version of LabVIEW used to create the applications or shared libraries.</td>
</tr>
</table>
<p class="Body">Complete the following steps to complete the configuration of the Call Library Function Node.</p>
<ol>
<li>Open the Array Average VI block diagram.</li>
<li>Right-click the Call Library Function Node and select <strong>Configure</strong> from the shortcut menu to open the <a href="../lvdialog/Call_Lib_Function_DB.html">Call Library Function</a> dialog box.</li>
<li>Click the <strong>Browse</strong> button to the right of the <strong>Library Name or Path</strong> control to display a file dialog box.</li>
<li>Navigate to the location of your <span class="Monospace">myshared.dll</span> file.</li>
<li>Select <span class="Monospace">myshared.dll</span> and click the <strong>Open</strong> button. The file path to <span class="Monospace">myshared.dll</span> appears in the <strong>Library Name or Path</strong> control. The <strong>Library Name or Path</strong> control specifies the library name or path for the function you are calling. Enter only the library name if the library is in the search path of the system. Enter the entire path if the library is not in the search path of the system.</li>
</ol>
<table class="Borderless">
<tr>
<td class="Icon"><img src="note.gif"></td>
<td><strong>Note</strong>��To make the reference platform independent, use the <a href="../lvexcodeconcepts/Configuring_the_CLF_Node.html#Configuring_Library_Name_or_Path">* wildcard</a>. Keep the C++ compiler from introducing platform dependence in exported function names through a process called name mangling by using the C++ compiler function export directive, extern "C"{}, in your header file.</td>
</tr>
</table><a name="Build_the_Front_Panel"></a><h2>Build the Front Panel Window</h2>
<p class="Body">Complete the following steps to create the front panel of the Array Average VI.</p>
<ol>
<li>Place an array control on the front panel window and label it <span class="Monospace">Array</span>.</li>
<li>Place a numeric control in the array shell and resize the array to contain four elements.</li>
<li>Right-click the <strong>Array</strong> control and select <strong>Representation�Single Precision</strong>
						from the shortcut menu.</li>
<li>Place a numeric indicator on the front panel window and label it <span class="Monospace">Avg Value</span> to display the result of your averaging calculation.</li>
<li>Right-click the <strong>Avg Value</strong> indicator and select <strong>Representation�Single Precision</strong> from the shortcut menu.</li>
<li>Place a numeric indicator on the front panel and label it <span class="Monospace">Error</span> to display any errors that your VI generates.</li>
<li>Right-click the <strong>Error</strong> indicator and select <strong>Representation�Long</strong> from the shortcut menu.</li>
</ol>
<p class="Body">The following front panel belongs to the Array Average VI.</p>
<p class="Anchor"><img src="loc_fp_aravg.gif"></p><a name="Complete_the_Block_Diagram"></a><h2>Complete the Block Diagram</h2>
<p class="Body">Complete the following steps to complete the block diagram of the Array Average VI.</p>
<ol>
<li>Wire <strong>Array</strong> to the <strong>a</strong> input of the Call Library Function Node.</li>
<li>Place an <a href="../glang/Array_Size.html">Array Size</a> function on the block	diagram.</li>
<li>Wire <strong>Array</strong> to the input of the Array Size	function.</li>
<li>Wire the Array Size function output to the <strong>size</strong> input of the Call Library Function Node.</li>
<li>Right-click the <strong>avg</strong> input of the Call Library Function Node and select <strong>Create�Constant</strong> from the shortcut menu. Set the constant value to zero.</li>
<li>Wire the <strong>avg</strong> output of the Call Library Function Node to <strong>Avg Value</strong>.</li>
<li>Wire the <strong>error</strong> output of the Call Library Function Node to <strong>Error</strong>.</li>
</ol>
<p class="Body">The following block diagram shows the completed Array Average block diagram.</p>
<p class="Anchor"><img src="loc_bd_aravg.gif"></p><a name="Run_the_VI"></a><h2>Run the VI</h2>
<p class="Body">On the front panel, enter values in <strong>Array</strong> and run the VI to calculate the average of those values. Save your work and close the VI.</p>
<p class="Body">If your shared library <a href="Debug_DLLs_and_DLL_Calls.html#Troubleshooting_your_DLL">returns incorrect results or crashes</a>, verify the data types and wiring to see if you wired the wrong type of information.</p>
</body>
</html>