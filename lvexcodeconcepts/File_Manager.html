<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- Generated from Programming_Issues_for_CINs.xml. Edit in the XML file; do not edit this file.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">

<title>File Manager</title>
<link rel="STYLESHEET" type="text/css" href="minimal.css">
<script src="common.js" type="text/javascript"></script><script src="dynamicjumps.js" type="text/javascript"></script></head>
<body>
<noscript>
<p class="Body">JavaScript is disabled. <a href="../lvhelp/JavaScript_Disabled.html">Details</a></p>
<hr width="100%" noshade>
</noscript><a name="File_Manager"></a><h1>File Manager</h1>
<p class="Body">
   The file manager supports <a href="../lvexcode/file_manager_functions.html">routines</a> for opening and creating files, reading data from and writing data to files, and closing files. In addition, you can manipulate the end-of-file mark of a file and position the current read or write mark to an arbitrary position in the file. You also can move, copy, and rename files, determine and set file characteristics, and delete files.</p>
<p class="Body">The file manager contains a number of routines for directories, with which you can create and delete directories. You also can determine and set directory characteristics and obtain a list of a directory's contents.</p>
<p class="Body">LabVIEW supports concurrent access to the same file, so you can have a file open for both reading and writing simultaneously. When you open a file, you can indicate whether you want the file to be read from and written to concurrently. You also can lock a range of the file, if you need to make sure a range is nonvolatile at a given time.</p>
<p class="Body">The file manager also provides many routines for manipulating paths, or path names, in a platform-independent manner. The file manager supports the creation of path descriptions, which are either relative to a specific location or absolute, that is, the full path. With file manager routines you can create and compare paths, determine characteristics of paths, and convert a path between platform-specific descriptions and the platform-independent form.</p>
<p class="Body">Applications that manipulate files can use the functions in the file manager. The file manager routines support basic file operations such as creating, opening, and closing files, writing data to files, and reading data from files. In addition, you can use file manager routines to create directories, determine characteristics of files and directories, and copy files. File manager routines use a LabVIEW data type for file path names, called <span class="Monospace">Path</span>s, that indicates a file or directory path independent of the platform. You can translate a <span class="Monospace">Path</span> to and from the conventional format a host platform uses for describing a file pathname.</p><a name="Identifying_Files_and_Directories"></a><h2>Identifying Files and Directories</h2>
<p class="Body">When you perform operations on files and directories, you need to identify the target of the operation. The platforms LabVIEW supports use a hierarchical file system, meaning files are stored in directories, possibly nested several levels deep. These hierarchical file systems support the connection of multiple discrete storage media, called volumes. For example, DOS-based systems support multiple drives connected to the system. For most of these hierarchical file systems, you must include the volume name to specify the location of a file. On other systems, such as Linux, you do not need to specify the volume name because the physical implementation of the file system is hidden from the user.</p>
<p class="Body">How you identify a target depends upon whether the target is an open or closed file. If a target is a closed file or a directory, specify the target using the path of the target. The path describes the volume containing the target, the directories between the top level and the target, and the name of the target. If the target is an open file, use a file descriptor to specify that LabVIEW should perform an operation on the open file. The file descriptor is an identifier the file manager associates with the file when you open it. When you close the file, the file manager dissociates the file descriptor from the file.</p><a name="Path_Specifications"></a><h2>Path Specifications</h2>
<p class="Body">LabVIEW uses the following types of file path specifications:</p>
<ul>
<li>Conventional</li>
<li>Empty</li>
<li>LabVIEW specifications</li>
</ul><a name="Conventional"></a><h3>Conventional</h3>
<p class="Body">All platforms have a method for describing the paths for files and directories. These path specifications are similar, but they are usually incompatible from one platform to another. You usually specify a path as a series of names separated by separator characters. Typically, the first name is the top level of the hierarchical specification of the path. The last name is the file or directory the path identifies.</p>
<p class="Body">A path can be one of the following types:</p>
<ul>
<li>Relative path</li>
<li>Absolute path</li>
</ul>
<p class="Body">A relative path describes the location of a file or directory relative to an arbitrary location in the file system. An absolute path describes the location of a file or directory starting from the top level of the file system.</p>
<p class="Body">A path does not necessarily go from the top of the hierarchy down to the target. You can often use a platform-specific tag in place of a name that indicates the path should go up a level from the current location. </p>
<p class="Body">
  <span class="Platform">(OS X 64-bit and Linux)</span> You specify the path of a file or directory as a series of names separated by the slash (/) character. If the path is an absolute path, you begin the specification with a slash. Indicate the path should move up a level using two periods in a row (..). Thus, the following path specifies a file <span class="Monospace">readme</span> relative to the top level of the file system, where <span class="Monospace-Italic">username</span> is the user directory:</p>
<p class="code"><span class="Monospace">/usr/home/<em>username</em>/myapps/readme</span></p>
<p class="Body">The following paths are two relative paths to the same file:</p>
<table class="Borderless">
<tr>
<td class="Borderless"><span class="Monospace-Italic">username</span><span class="Monospace">/myapps/readme</span></td>
<td class="Borderless">relative to <span class="Monospace">/usr/home</span></td>
</tr>
<tr>
<td class="Borderless"><span class="Monospace">../myapps/readme</span></td>
<td class="Borderless">relative to a directory inside of the <span class="Monospace-Italic">username</span> directory</td>
</tr>
</table>
<p class="Body">
  <span class="Platform">(Windows)</span> You separate names in a path with a backslash (\) character. If the path is an absolute path, you begin the specification with a drive designation, followed by a colon (:), followed by the backslash. Indicate the path should move up a level using two periods in a row (..). Thus, the following path specifies a file <span class="Monospace">readme</span> relative to the top level of the file system, on a drive named <span class="Monospace">C</span>:</p>
<p class="code"><span class="Monospace"><span class="Monospace">c:\home\</span><span class="Monospace-Italic">username</span><span class="Monospace">\myapps\readme</span></span></p>
<p class="Body">The following paths are two relative paths to the same file:</p>
<table class="Borderless">
<tr>
<td class="Borderless"><span class="Monospace-Italic">username</span><span class="Monospace">\myapps\readme</span></td>
<td class="Borderless">relative to the <span class="Monospace">home</span> directory</td>
</tr>
<tr>
<td class="Borderless"><span class="Monospace">..\myapps\readme</span></td>
<td class="Borderless">relative to a directory inside of the <span class="Monospace-Italic">username</span> directory</td>
</tr>
</table>
<p class="Body">
 <span class="Platform">(OS X 32-bit)</span> You separate names in a path with the colon (:) character. If the path is an absolute path, you begin the specification with the name of the volume containing the file. If an absolute path consists of only one name, that is, it specifies a volume, the path must end with a colon. If the path is a relative path, it begins with a colon. The colon is optional for a relative path consisting of only one name. Indicate the path should move up a level using two colons in a row (::). Thus, the following path specifies a file <span class="Monospace">readme</span> relative to the top level of the file system, on a drive named <span class="Monospace">hard drive</span>:</p>
<p class="code"><span class="Monospace">hard drive:home:<em>username</em>:myapps:readme</span></p>
<p class="Body">The following paths are two relative paths to the same file:</p>
<table class="Borderless">
<tr>
<td class="Borderless"><span class="Monospace">:</span><span class="Monospace-Italic">username</span><span class="Monospace">:myapps:readme</span></td>
<td class="Borderless">relative to the <span class="Monospace">home</span> directory</td>
</tr>
<tr>
<td class="Borderless"><span class="Monospace">::myapps:readme</span></td>
<td class="Borderless">relative to a directory inside of the <span class="Monospace-Italic">username</span> directory
 </td>
</tr>
</table><a name="Empty"></a><h3>Empty</h3>
<p class="Body">You can define a path with no names, called an empty path. An empty path is either absolute or relative. An absolute path contains the complete address of a file's location within the file hierarchy. An empty absolute path refers to the highest point in the file hierarchy. A relative path contains the address of a file's location relative to the position of the user within the file hierarchy. An empty relative path refers to the current position of the user within the file hierarchy.</p>
<p class="Body">
 <span class="Platform">(OS X 64-bit and Linux)</span> A slash (/) represents the empty absolute path. The slash specifies the root of the file hierarchy. A period (.) represents the empty relative path.</p>
<p class="Body">
 <span class="Platform">(Windows)</span> You represent the empty absolute path as an empty string. The empty absolute path specifies the set of all volumes on the system. A period (.) represents the empty relative path.</p>
<p class="Body">
 <span class="Platform">(OS X 32-bit)</span> The empty absolute path is represented as an empty string. The absolute path specifies the set of all volumes on the system. A colon (:) represents the empty relative path.</p><a name="LabVIEW"></a><h3>LabVIEW</h3>
<p class="Body">In LabVIEW, you specify a path using a special LabVIEW data type, represented as <span class="Monospace">Path</span>. The exact structure of the <span class="Monospace">Path</span> data type is private to the file manager. You create and manipulate the <span class="Monospace">Path</span> data type using file manager routines.</p>
<p class="Body">A <span class="Monospace">Path</span> is a dynamic data structure. Just as you use memory manager routines to allocate and deallocate handles and pointers, you use file manager routines to create and deallocate a <span class="Monospace">Path</span>. Just as with handles, declaring a <span class="Monospace">Path</span> variable does not actually create a <span class="Monospace">Path</span>. Before you can use the <span class="Monospace">Path</span> to manipulate a file, you must dynamically allocate the <span class="Monospace">Path</span> using file manager routines. When you are finished using the <span class="Monospace">Path</span> variable, you should release the <span class="Monospace">Path</span> using file manager routines.</p>
<p class="Body">In addition to providing routines for the creation and elimination of a <span class="Monospace">Path</span>, the file manager provides routines for comparing, duplicating, determining <span class="Monospace">Path</span> characteristics, and converting <span class="Monospace">Path</span> to and from other formats, such as the platform-specific format for the system on which LabVIEW is running.</p><a name="File_Descriptors"></a><h2>File Descriptors</h2>
<p class="Body">When you open a file, LabVIEW returns a file descriptor associated with the file. A file descriptor is a data type LabVIEW uses to identify open files. All operations performed on an open file use the file descriptor to identify the file.</p>
<p class="Body">A file descriptor is valid only while the file is open. If you close the file, the file descriptor is no longer associated with the file. If you open the file again, the new file descriptor is most likely different from the previous file descriptor.</p><a name="File_Refnums"></a><h2>File Refnums</h2>
<p class="Body">In the file manager, LabVIEW accesses open files using file descriptors. However, on the front panel and block diagram, LabVIEW accesses open files using file refnums. A file refnum contains a file descriptor for use by the file manager and additional information used by LabVIEW. </p>
<p class="Body">LabVIEW specifies file refnums using the <span class="Monospace">LVRefNum</span> data type, the exact structure of which is private to the file manager. To pass references to open files into a shared library, convert file refnums to file descriptors with the <a href="../lvexcode/frefnumtofd.html">FRefNumToFD</a> LabVIEW Manager function. To pass references to open files out of a shared library, convert file descriptors to file refnums with the <a href="../lvexcode/fnewrefnum.html">FNewRefNum</a> LabVIEW Manager function.</p>
</body>
</html>